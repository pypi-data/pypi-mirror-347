var Ql=Object.defineProperty;var Zl=(l,e,t)=>e in l?Ql(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var At=(l,e,t)=>(Zl(l,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function J(){}const Fl=l=>l;function Wl(l){return l()}function Jt(){return Object.create(null)}function Oe(l){l.forEach(Wl)}function Kt(l){return typeof l=="function"}function tt(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}function en(l){return Object.keys(l).length===0}function tn(l,...e){if(l==null){for(const n of e)n(void 0);return J}const t=l.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function zt(l,e,t){l.$$.on_destroy.push(tn(e,t))}function Yt(l,e,t){return l.set(t),e}const Kl=typeof window<"u";let ln=Kl?()=>window.performance.now():()=>Date.now(),Ut=Kl?l=>requestAnimationFrame(l):J;const _t=new Set;function Ul(l){_t.forEach(e=>{e.c(l)||(_t.delete(e),e.f())}),_t.size!==0&&Ut(Ul)}function nn(l){let e;return _t.size===0&&Ut(Ul),{promise:new Promise(t=>{_t.add(e={c:l,f:t})}),abort(){_t.delete(e)}}}function s(l,e){l.appendChild(e)}function ql(l){if(!l)return document;const e=l.getRootNode?l.getRootNode():l.ownerDocument;return e&&e.host?e:l.ownerDocument}function sn(l){const e=c("style");return e.textContent="/* empty */",on(ql(l),e),e.sheet}function on(l,e){return s(l.head||l,e),e.sheet}function x(l,e,t){l.insertBefore(e,t||null)}function L(l){l.parentNode&&l.parentNode.removeChild(l)}function Ye(l,e){for(let t=0;t<l.length;t+=1)l[t]&&l[t].d(e)}function c(l){return document.createElement(l)}function re(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function A(l){return document.createTextNode(l)}function g(){return A(" ")}function Et(){return A("")}function q(l,e,t,n){return l.addEventListener(e,t,n),()=>l.removeEventListener(e,t,n)}function o(l,e,t){t==null?l.removeAttribute(e):l.getAttribute(e)!==t&&l.setAttribute(e,t)}function rn(l){return Array.from(l.childNodes)}function te(l,e){e=""+e,l.data!==e&&(l.data=e)}function Pt(l,e){l.value=e??""}function an(l,e,t,n){t==null?l.style.removeProperty(e):l.style.setProperty(e,t,n?"important":"")}function Gt(l,e,t){for(let n=0;n<l.options.length;n+=1){const i=l.options[n];if(i.__value===e){i.selected=!0;return}}(!t||e!==void 0)&&(l.selectedIndex=-1)}function cn(l){const e=l.querySelector(":checked");return e&&e.__value}function de(l,e,t){l.classList.toggle(e,!!t)}function dn(l,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(l,{detail:e,bubbles:t,cancelable:n})}const It=new Map;let Ot=0;function un(l){let e=5381,t=l.length;for(;t--;)e=(e<<5)-e^l.charCodeAt(t);return e>>>0}function fn(l,e){const t={stylesheet:sn(e),rules:{}};return It.set(l,t),t}function Xt(l,e,t,n,i,a,r,d=0){const u=16.666/n;let f=`{
`;for(let w=0;w<=1;w+=u){const S=e+(t-e)*a(w);f+=w*100+`%{${r(S,1-S)}}
`}const p=f+`100% {${r(t,1-t)}}
}`,m=`__svelte_${un(p)}_${d}`,v=ql(l),{stylesheet:b,rules:_}=It.get(v)||fn(v,l);_[m]||(_[m]=!0,b.insertRule(`@keyframes ${m} ${p}`,b.cssRules.length));const y=l.style.animation||"";return l.style.animation=`${y?`${y}, `:""}${m} ${n}ms linear ${i}ms 1 both`,Ot+=1,m}function pn(l,e){const t=(l.style.animation||"").split(", "),n=t.filter(e?a=>a.indexOf(e)<0:a=>a.indexOf("__svelte")===-1),i=t.length-n.length;i&&(l.style.animation=n.join(", "),Ot-=i,Ot||mn())}function mn(){Ut(()=>{Ot||(It.forEach(l=>{const{ownerNode:e}=l.stylesheet;e&&L(e)}),It.clear())})}let Lt;function St(l){Lt=l}function Jl(){if(!Lt)throw new Error("Function called outside component initialization");return Lt}function Ze(l){Jl().$$.on_mount.push(l)}function qt(l){Jl().$$.on_destroy.push(l)}const vt=[],xt=[];let wt=[];const Ft=[],gn=Promise.resolve();let Wt=!1;function bn(){Wt||(Wt=!0,gn.then(Yl))}function et(l){wt.push(l)}function hn(l){Ft.push(l)}const Rt=new Set;let bt=0;function Yl(){if(bt!==0)return;const l=Lt;do{try{for(;bt<vt.length;){const e=vt[bt];bt++,St(e),vn(e.$$)}}catch(e){throw vt.length=0,bt=0,e}for(St(null),vt.length=0,bt=0;xt.length;)xt.pop()();for(let e=0;e<wt.length;e+=1){const t=wt[e];Rt.has(t)||(Rt.add(t),t())}wt.length=0}while(vt.length);for(;Ft.length;)Ft.pop()();Wt=!1,Rt.clear(),St(l)}function vn(l){if(l.fragment!==null){l.update(),Oe(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(et)}}function _n(l){const e=[],t=[];wt.forEach(n=>l.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),wt=e}let Mt;function wn(){return Mt||(Mt=Promise.resolve(),Mt.then(()=>{Mt=null})),Mt}function Nt(l,e,t){l.dispatchEvent(dn(`${e?"intro":"outro"}${t}`))}const Ht=new Set;let Qe;function Tt(){Qe={r:0,c:[],p:Qe}}function jt(){Qe.r||Oe(Qe.c),Qe=Qe.p}function _e(l,e){l&&l.i&&(Ht.delete(l),l.i(e))}function $e(l,e,t,n){if(l&&l.o){if(Ht.has(l))return;Ht.add(l),Qe.c.push(()=>{Ht.delete(l),n&&(t&&l.d(1),n())}),l.o(e)}else n&&n()}const kn={duration:0};function lt(l,e,t,n){let a=e(l,t,{direction:"both"}),r=n?0:1,d=null,u=null,f=null,p;function m(){f&&pn(l,f)}function v(_,y){const w=_.b-r;return y*=Math.abs(w),{a:r,b:_.b,d:w,duration:y,start:_.start,end:_.start+y,group:_.group}}function b(_){const{delay:y=0,duration:w=300,easing:S=Fl,tick:M=J,css:k}=a||kn,C={start:ln()+y,b:_};_||(C.group=Qe,Qe.r+=1),"inert"in l&&(_?p!==void 0&&(l.inert=p):(p=l.inert,l.inert=!0)),d||u?u=C:(k&&(m(),f=Xt(l,r,_,w,y,S,k)),_&&M(0,1),d=v(C,w),et(()=>Nt(l,_,"start")),nn(h=>{if(u&&h>u.start&&(d=v(u,w),u=null,Nt(l,d.b,"start"),k&&(m(),f=Xt(l,r,d.b,d.duration,0,S,a.css))),d){if(h>=d.end)M(r=d.b,1-r),Nt(l,d.b,"end"),u||(d.b?m():--d.group.r||Oe(d.group.c)),d=null;else if(h>=d.start){const $=h-d.start;r=d.a+d.d*S($/d.duration),M(r,1-r)}}return!!(d||u)}))}return{run(_){Kt(a)?wn().then(()=>{a=a({direction:_?"in":"out"}),b(_)}):b(_)},end(){m(),d=u=null}}}function ge(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function yn(l,e,t){const n=l.$$.props[e];n!==void 0&&(l.$$.bound[n]=t,t(l.$$.ctx[n]))}function mt(l){l&&l.c()}function st(l,e,t){const{fragment:n,after_update:i}=l.$$;n&&n.m(e,t),et(()=>{const a=l.$$.on_mount.map(Wl).filter(Kt);l.$$.on_destroy?l.$$.on_destroy.push(...a):Oe(a),l.$$.on_mount=[]}),i.forEach(et)}function ot(l,e){const t=l.$$;t.fragment!==null&&(_n(t.after_update),Oe(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Cn(l,e){l.$$.dirty[0]===-1&&(vt.push(l),bn(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function rt(l,e,t,n,i,a,r=null,d=[-1]){const u=Lt;St(l);const f=l.$$={fragment:null,ctx:[],props:a,update:J,not_equal:i,bound:Jt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:Jt(),dirty:d,skip_bound:!1,root:e.target||u.$$.root};r&&r(f.root);let p=!1;if(f.ctx=t?t(l,e.props||{},(m,v,...b)=>{const _=b.length?b[0]:v;return f.ctx&&i(f.ctx[m],f.ctx[m]=_)&&(!f.skip_bound&&f.bound[m]&&f.bound[m](_),p&&Cn(l,m)),v}):[],f.update(),p=!0,Oe(f.before_update),f.fragment=n?n(f.ctx):!1,e.target){if(e.hydrate){const m=rn(e.target);f.fragment&&f.fragment.l(m),m.forEach(L)}else f.fragment&&f.fragment.c();e.intro&&_e(l.$$.fragment),st(l,e.target,e.anchor),Yl()}St(u)}class it{constructor(){At(this,"$$");At(this,"$$set")}$destroy(){ot(this,1),this.$destroy=J}$on(e,t){if(!Kt(t))return J;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const i=n.indexOf(t);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!en(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Mn="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Mn);function nt(l,{delay:e=0,duration:t=400,easing:n=Fl}={}){const i=+getComputedStyle(l).opacity;return{delay:e,duration:t,easing:n,css:a=>`opacity: ${a*i}`}}const ht=[];function Sn(l,e=J){let t;const n=new Set;function i(d){if(tt(l,d)&&(l=d,t)){const u=!ht.length;for(const f of n)f[1](),ht.push(f,l);if(u){for(let f=0;f<ht.length;f+=2)ht[f][0](ht[f+1]);ht.length=0}}}function a(d){i(d(l))}function r(d,u=J){const f=[d,u];return n.add(f),n.size===1&&(t=e(i,a)||J),d(l),()=>{n.delete(f),n.size===0&&t&&(t(),t=null)}}return{set:i,update:a,subscribe:r}}const se=Sn({counter:0,welcomeText:"Loading...",connected:!1,error:null,renardoInit:{superColliderClasses:!1,sclangCode:!1,samples:!1,instruments:!1},runtimeStatus:{scBackendRunning:!1,scBackendStartupCode:"Renardo.start; Renardo.midi;",renardoRuntimeRunning:!1},logMessages:[],consoleOutput:[],_lastMessage:null});let Je,$t,pt;const Ln=5e3;let Dt=0;const xn=3e4;function Gl(){Je&&Je.close(),$t&&(clearTimeout($t),$t=null),pt&&(clearInterval(pt),pt=null);const e=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`;Je=new WebSocket(e),Je.addEventListener("open",()=>{console.log("WebSocket connection established"),Dt=0,se.update(t=>({...t,connected:!0,error:null})),Ie({type:"get_state"}),Ie({type:"get_renardo_status"}),pt=setInterval(()=>{Je.readyState===WebSocket.OPEN&&Ie({type:"ping",timestamp:Date.now()})},xn)}),Je.addEventListener("close",t=>{if(console.log("WebSocket connection closed",t),pt&&(clearInterval(pt),pt=null),se.update(i=>({...i,connected:!1})),t.wasClean&&(t.code===1e3||t.code===1001)){console.log("Clean close, not reconnecting automatically");return}const n=Math.min(1e3*Math.pow(1.5,Dt),Ln);Dt++,console.log(`Attempting to reconnect in ${n}ms...`),$t=setTimeout(Gl,n)}),Je.addEventListener("error",t=>{console.error("WebSocket error:",t),se.update(n=>({...n,error:"Connection error. Attempting to reconnect..."}))}),Je.addEventListener("message",t=>{try{const n=JSON.parse(t.data);Tn(n)}catch(n){console.error("Error parsing message:",n)}})}function Tn(l){const{type:e,data:t,error:n,message:i}=l;switch(se.update(a=>({...a,_lastMessage:l})),e){case"initial_state":case"state_updated":se.update(r=>({...r,counter:t.counter,welcomeText:t.welcome_text,error:null,renardoInit:t.renardo_init||r.renardoInit,runtimeStatus:t.runtime_status||r.runtimeStatus}));break;case"renardo_status":se.update(r=>{var d;return{...r,renardoInit:t.initStatus||((d=t.data)==null?void 0:d.initStatus)||r.renardoInit,error:null}});break;case"sc_backend_status":se.update(r=>({...r,runtimeStatus:{...r.runtimeStatus,scBackendRunning:t.running||!1},error:null}));break;case"setting_updated":console.log("Setting updated via websocket:",t.key,t.value);break;case"settings_reset":console.log("Settings reset via websocket");break;case"log_message":se.update(r=>{const u=[...r.logMessages,{timestamp:t.timestamp||new Date().toLocaleTimeString(),level:t.level||"INFO",message:t.message}].slice(-500);return{...r,logMessages:u}});break;case"console_output":se.update(r=>{const d=r.consoleOutput.length>0?r.consoleOutput[r.consoleOutput.length-1]:null;if(d&&d.level===(t.level||"info")&&d.message===t.message)return r;const f=[...r.consoleOutput,{level:t.level||"info",message:t.message}].slice(-1e3);return{...r,consoleOutput:f}});break;case"code_execution_result":t.success?t.message&&t.message.trim()&&se.update(r=>{const d=r.consoleOutput.length>0?r.consoleOutput[r.consoleOutput.length-1]:null;if(d&&d.level==="success"&&d.message===t.message)return r;const f=[...r.consoleOutput,{level:"success",message:t.message}].slice(-1e3);return{...r,consoleOutput:f,error:null}}):se.update(r=>{const d=r.consoleOutput.length>0?r.consoleOutput[r.consoleOutput.length-1]:null;if(d&&d.level==="error"&&d.message===(t.message||"Code execution failed"))return r;const f=[...r.consoleOutput,{level:"error",message:t.message||"Code execution failed"}].slice(-1e3);return{...r,consoleOutput:f,error:null}});break;case"init_complete":se.update(r=>{const d={...r.renardoInit,[t.component]:t.success};return{...r,renardoInit:d}});break;case"error":console.error("Server error:",i||n),se.update(r=>({...r,error:i||n||"Unknown server error"}));break;case"collection_downloaded":console.log(`Collection downloaded: ${t.type}/${t.name}`);break;case"pong":const a=Date.now()-(l.timestamp||Date.now());console.debug(`Received pong, RTT: ${a}ms`);break;default:console.log("Unhandled message type:",e,l)}}function Ie(l){return Je&&Je.readyState===WebSocket.OPEN?(Je.send(JSON.stringify(l)),!0):(console.warn("WebSocket not connected, unable to send message"),!1)}function Qt(l){let e;return{c(){e=c("div"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <div><h3 class="font-bold">All components initialized successfully!</h3> <div class="text-sm">You&#39;re ready to start making music with Renardo. Head to the Code Editor to begin.</div></div>',o(e,"class","alert alert-success")},m(t,n){x(t,e,n)},d(t){t&&L(e)}}}function Zt(l){let e,t,n,i,a,r,d=l[4].error+"",u;return{c(){e=c("div"),t=re("svg"),n=re("path"),i=g(),a=c("span"),r=A("Error: "),u=A(d),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"stroke-width","2"),o(n,"d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"),o(t,"xmlns","http://www.w3.org/2000/svg"),o(t,"class","stroke-current shrink-0 h-6 w-6"),o(t,"fill","none"),o(t,"viewBox","0 0 24 24"),o(e,"class","alert alert-error mb-8")},m(f,p){x(f,e,p),s(e,t),s(t,n),s(e,i),s(e,a),s(a,r),s(a,u)},p(f,p){p&16&&d!==(d=f[4].error+"")&&te(u,d)},d(f){f&&L(e)}}}function jn(l){let e;return{c(){e=c("div"),e.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
              Pending`,o(e,"class","badge badge-outline gap-1")},m(t,n){x(t,e,n)},d(t){t&&L(e)}}}function En(l){let e;return{c(){e=c("div"),e.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
              Initialized`,o(e,"class","badge badge-success gap-1")},m(t,n){x(t,e,n)},d(t){t&&L(e)}}}function el(l){let e,t;return{c(){e=re("svg"),t=re("path"),o(t,"stroke-linecap","round"),o(t,"stroke-linejoin","round"),o(t,"d","M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"fill","none"),o(e,"viewBox","0 0 24 24"),o(e,"stroke-width","1.5"),o(e,"stroke","currentColor"),o(e,"class","w-5 h-5 mr-2")},m(n,i){x(n,e,i),s(e,t)},d(n){n&&L(e)}}}function $n(l){let e;return{c(){e=c("div"),e.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
              Not Installed`,o(e,"class","badge badge-outline gap-1")},m(t,n){x(t,e,n)},d(t){t&&L(e)}}}function Hn(l){let e;return{c(){e=c("div"),e.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
              Downloaded`,o(e,"class","badge badge-success gap-1")},m(t,n){x(t,e,n)},d(t){t&&L(e)}}}function In(l){let e;return{c(){e=c("button"),e.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 mr-2"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
              Already Installed`,o(e,"class","btn btn-secondary btn-disabled")},m(t,n){x(t,e,n)},p:J,d(t){t&&L(e)}}}function On(l){let e,t,n,i,a,r,d;return{c(){e=c("button"),t=re("svg"),n=re("path"),i=A(`
              Download SCLang Code`),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"d","M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"),o(t,"xmlns","http://www.w3.org/2000/svg"),o(t,"fill","none"),o(t,"viewBox","0 0 24 24"),o(t,"stroke-width","1.5"),o(t,"stroke","currentColor"),o(t,"class","w-5 h-5 mr-2"),o(e,"class","btn btn-secondary"),e.disabled=a=!l[4].connected||l[3]},m(u,f){x(u,e,f),s(e,t),s(t,n),s(e,i),r||(d=q(e,"click",l[6]),r=!0)},p(u,f){f&24&&a!==(a=!u[4].connected||u[3])&&(e.disabled=a)},d(u){u&&L(e),r=!1,d()}}}function Bn(l){let e;return{c(){e=c("div"),e.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
              Not Installed`,o(e,"class","badge badge-outline gap-1")},m(t,n){x(t,e,n)},d(t){t&&L(e)}}}function zn(l){let e;return{c(){e=c("div"),e.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
              Downloaded`,o(e,"class","badge badge-success gap-1")},m(t,n){x(t,e,n)},d(t){t&&L(e)}}}function An(l){let e;return{c(){e=c("button"),e.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 mr-2"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
              Already Installed`,o(e,"class","btn btn-accent btn-disabled")},m(t,n){x(t,e,n)},p:J,d(t){t&&L(e)}}}function Rn(l){let e,t,n;return{c(){e=c("button"),e.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 mr-2"><path stroke-linecap="round" stroke-linejoin="round" d="M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5m8.25 3v6.75m0 0l-3-3m3 3l3-3M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z"></path></svg>
              Download Default Samples`,o(e,"class","btn btn-accent")},m(i,a){x(i,e,a),t||(n=q(e,"click",Xl),t=!0)},p:J,d(i){i&&L(e),t=!1,n()}}}function Nn(l){let e;return{c(){e=c("div"),e.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
              Not Installed`,o(e,"class","badge badge-outline gap-1")},m(t,n){x(t,e,n)},d(t){t&&L(e)}}}function Dn(l){let e;return{c(){e=c("div"),e.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
              Downloaded`,o(e,"class","badge badge-success gap-1")},m(t,n){x(t,e,n)},d(t){t&&L(e)}}}function Vn(l){let e;return{c(){e=c("button"),e.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 mr-2"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
              Already Installed`,o(e,"class","btn btn-warning btn-disabled")},m(t,n){x(t,e,n)},p:J,d(t){t&&L(e)}}}function Pn(l){let e,t,n;return{c(){e=c("button"),e.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 mr-2"><path stroke-linecap="round" stroke-linejoin="round" d="M9 9l10.5-3m0 6.553v3.75a2.25 2.25 0 01-1.632 2.163l-1.32.377a1.803 1.803 0 11-.99-3.467l2.31-.66a2.25 2.25 0 001.632-2.163zm0 0V2.25L9 5.25v10.303m0 0v3.75a2.25 2.25 0 01-1.632 2.163l-1.32.377a1.803 1.803 0 01-.99-3.467l2.31-.66A2.25 2.25 0 009 15.553z"></path></svg>
              Download Instruments &amp; Effects`,o(e,"class","btn btn-warning")},m(i,a){x(i,e,a),t||(n=q(e,"click",Xl),t=!0)},p:J,d(i){i&&L(e),t=!1,n()}}}function Fn(l){let e,t,n,i,a,r,d,u,f,p,m,v,b,_,y,w=[l[0],l[3],l[1],l[2]].filter(Boolean).length+"",S,M,k,C,h,$,B,D,z,E,W,K,T,j,I,U,F,R,le,G,O,H,V,ie,pe,Fe,Te,ce,Be,je,we,ke,he,ae,ye,He,ue,be,De,me,Ce,ne,X,N,Z,Me,Ve,ze,We,Ke,Se,ve,ee=l[0]&&l[3]&&l[1]&&l[2]&&Qt(),fe=l[4].error&&Zt(l);function Ge(P,Ee){return P[0]?En:jn}let at=Ge(l),Ae=at(l),xe=!l[0]&&el();function Xe(P,Ee){return P[3]?Hn:$n}let ct=Xe(l),Re=ct(l);function kt(P,Ee){return P[3]?In:On}let Ue=kt(l),Ne=Ue(l);function dt(P,Ee){return P[1]?zn:Bn}let oe=dt(l),Pe=oe(l);function yt(P,Ee){return P[1]?An:Rn}let gt=yt(l),qe=gt(l);function ut(P,Ee){return P[2]?Dn:Nn}let ft=ut(l),Le=ft(l);function Ct(P,Ee){return P[2]?Vn:Pn}let Y=Ct(l),Q=Y(l);return{c(){e=c("div"),t=c("div"),t.innerHTML='<h1 class="text-3xl font-bold mb-2 title-font">Renardo Initialization</h1> <p class="text-base-content/70">Initialize Renardo components before starting to make music.</p>',n=g(),i=c("div"),a=c("div"),r=c("h2"),r.textContent="Initialization Progress >>",d=g(),u=c("div"),f=c("div"),p=c("div"),m=c("div"),m.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8"><path stroke-linecap="round" stroke-linejoin="round" d="M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0115 18.257V17.25m6-12V15a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 15V5.25m18 0A2.25 2.25 0 0018.75 3H5.25A2.25 2.25 0 003 5.25m18 0V12a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 12V5.25"></path></svg>',v=g(),b=c("div"),b.textContent="Components Ready",_=g(),y=c("div"),S=A(w),M=A("/4"),k=g(),C=c("div"),C.textContent="Components initialized and ready to use",h=g(),ee&&ee.c(),$=g(),fe&&fe.c(),B=g(),D=c("div"),z=c("div"),E=c("div"),W=c("div"),K=c("div"),K.innerHTML='<div class="bg-primary text-primary-content rounded-full w-8 h-8 flex items-center justify-center">1</div> <h2 class="card-title title-font">SuperCollider Classes</h2>',T=g(),Ae.c(),j=g(),I=c("p"),I.textContent="Sets up SuperCollider configuration in your user directory. This is required for sound synthesis.",U=g(),F=c("div"),R=c("button"),xe&&xe.c(),le=A(`
            Initialize SuperCollider`),O=g(),H=c("div"),V=c("div"),ie=c("div"),pe=c("div"),pe.innerHTML='<div class="bg-secondary text-secondary-content rounded-full w-8 h-8 flex items-center justify-center">2</div> <h2 class="card-title title-font">SCLang Code</h2>',Fe=g(),Re.c(),Te=g(),ce=c("p"),ce.textContent="Required SuperCollider language code for special features and advanced functionality.",Be=g(),je=c("div"),Ne.c(),we=g(),ke=c("div"),he=c("div"),ae=c("div"),ye=c("div"),ye.innerHTML='<div class="bg-accent text-accent-content rounded-full w-8 h-8 flex items-center justify-center">3</div> <h2 class="card-title title-font">Sample Packs</h2>',He=g(),Pe.c(),ue=g(),be=c("p"),be.textContent="Sound samples for your compositions including drums, percussion, and various effects.",De=g(),me=c("div"),qe.c(),Ce=g(),ne=c("div"),X=c("div"),N=c("div"),Z=c("div"),Z.innerHTML='<div class="bg-warning text-warning-content rounded-full w-8 h-8 flex items-center justify-center">4</div> <h2 class="card-title title-font">Instruments &amp; Effects</h2>',Me=g(),Le.c(),Ve=g(),ze=c("p"),ze.textContent="Instruments and effects for your compositions, including synths, pads, and audio processors.",We=g(),Ke=c("div"),Q.c(),o(t,"class","text-center mb-8"),o(r,"class","card-title title-font"),o(m,"class","stat-figure text-primary"),o(b,"class","stat-title"),o(y,"class","stat-value text-primary"),o(C,"class","stat-desc"),o(p,"class","stat"),o(f,"class","stats shadow flex-1"),o(u,"class","flex flex-col md:flex-row items-center gap-6 mb-4"),o(a,"class","card-body"),o(i,"class","card bg-base-100 shadow-xl mb-8"),o(K,"class","flex items-center gap-3"),o(W,"class","flex justify-between items-center mb-4"),o(I,"class","text-base-content/70 mb-4"),o(R,"class","btn btn-primary"),R.disabled=G=!l[4].connected||l[0],o(F,"class","card-actions justify-end"),o(E,"class","card-body"),o(z,"class","card bg-base-100 shadow-xl"),o(pe,"class","flex items-center gap-3"),o(ie,"class","flex justify-between items-center mb-4"),o(ce,"class","text-base-content/70 mb-4"),o(je,"class","card-actions justify-end"),o(V,"class","card-body"),o(H,"class","card bg-base-100 shadow-xl"),o(ye,"class","flex items-center gap-3"),o(ae,"class","flex justify-between items-center mb-4"),o(be,"class","text-base-content/70 mb-4"),o(me,"class","card-actions justify-end"),o(he,"class","card-body"),o(ke,"class","card bg-base-100 shadow-xl"),o(Z,"class","flex items-center gap-3"),o(N,"class","flex justify-between items-center mb-4"),o(ze,"class","text-base-content/70 mb-4"),o(Ke,"class","card-actions justify-end"),o(X,"class","card-body"),o(ne,"class","card bg-base-100 shadow-xl"),o(D,"class","grid grid-cols-1 md:grid-cols-2 gap-6"),o(e,"class","container mx-auto px-4 py-8 max-w-4xl")},m(P,Ee){x(P,e,Ee),s(e,t),s(e,n),s(e,i),s(i,a),s(a,r),s(a,d),s(a,u),s(u,f),s(f,p),s(p,m),s(p,v),s(p,b),s(p,_),s(p,y),s(y,S),s(y,M),s(p,k),s(p,C),s(a,h),ee&&ee.m(a,null),s(e,$),fe&&fe.m(e,null),s(e,B),s(e,D),s(D,z),s(z,E),s(E,W),s(W,K),s(W,T),Ae.m(W,null),s(E,j),s(E,I),s(E,U),s(E,F),s(F,R),xe&&xe.m(R,null),s(R,le),s(D,O),s(D,H),s(H,V),s(V,ie),s(ie,pe),s(ie,Fe),Re.m(ie,null),s(V,Te),s(V,ce),s(V,Be),s(V,je),Ne.m(je,null),s(D,we),s(D,ke),s(ke,he),s(he,ae),s(ae,ye),s(ae,He),Pe.m(ae,null),s(he,ue),s(he,be),s(he,De),s(he,me),qe.m(me,null),s(D,Ce),s(D,ne),s(ne,X),s(X,N),s(N,Z),s(N,Me),Le.m(N,null),s(X,Ve),s(X,ze),s(X,We),s(X,Ke),Q.m(Ke,null),Se||(ve=q(R,"click",l[5]),Se=!0)},p(P,[Ee]){Ee&15&&w!==(w=[P[0],P[3],P[1],P[2]].filter(Boolean).length+"")&&te(S,w),P[0]&&P[3]&&P[1]&&P[2]?ee||(ee=Qt(),ee.c(),ee.m(a,null)):ee&&(ee.d(1),ee=null),P[4].error?fe?fe.p(P,Ee):(fe=Zt(P),fe.c(),fe.m(e,B)):fe&&(fe.d(1),fe=null),at!==(at=Ge(P))&&(Ae.d(1),Ae=at(P),Ae&&(Ae.c(),Ae.m(W,null))),P[0]?xe&&(xe.d(1),xe=null):xe||(xe=el(),xe.c(),xe.m(R,le)),Ee&17&&G!==(G=!P[4].connected||P[0])&&(R.disabled=G),ct!==(ct=Xe(P))&&(Re.d(1),Re=ct(P),Re&&(Re.c(),Re.m(ie,null))),Ue===(Ue=kt(P))&&Ne?Ne.p(P,Ee):(Ne.d(1),Ne=Ue(P),Ne&&(Ne.c(),Ne.m(je,null))),oe!==(oe=dt(P))&&(Pe.d(1),Pe=oe(P),Pe&&(Pe.c(),Pe.m(ae,null))),gt===(gt=yt(P))&&qe?qe.p(P,Ee):(qe.d(1),qe=gt(P),qe&&(qe.c(),qe.m(me,null))),ft!==(ft=ut(P))&&(Le.d(1),Le=ft(P),Le&&(Le.c(),Le.m(N,null))),Y===(Y=Ct(P))&&Q?Q.p(P,Ee):(Q.d(1),Q=Y(P),Q&&(Q.c(),Q.m(Ke,null)))},i:J,o:J,d(P){P&&L(e),ee&&ee.d(),fe&&fe.d(),Ae.d(),xe&&xe.d(),Re.d(),Ne.d(),Pe.d(),qe.d(),Le.d(),Q.d(),Se=!1,ve()}}}function Xl(){window.location.hash="#collections"}function Wn(l,e,t){let n;zt(l,se,p=>t(4,n=p));let i=!1,a=!1,r=!1,d=!1;Ze(()=>{const p=se.subscribe(m=>{m.renardoInit&&(t(0,i=m.renardoInit.superColliderClasses),t(1,a=m.renardoInit.samples),t(2,r=m.renardoInit.instruments),t(3,d=m.renardoInit.sclangCode===!0))});return setTimeout(()=>{n.connected&&Ie({type:"get_renardo_status"})},500),()=>{p()}});function u(){return se.update(p=>({...p,error:null})),Ie({type:"init_supercollider_classes"})}function f(){return se.update(p=>({...p,error:null})),Ie({type:"download_sclang_code"})}return[i,a,r,d,n,u,f]}class Kn extends it{constructor(e){super(),rt(this,e,Wn,Fn,tt,{})}}function tl(l,e,t){const n=l.slice();return n[18]=e[t],n}function ll(l){let e,t=l[18].name+"",n;return{c(){e=c("option"),n=A(t),e.__value=l[18].value,Pt(e,e.__value)},m(i,a){x(i,e,a),s(e,n)},p:J,d(i){i&&L(e)}}}function Un(l){let e,t,n,i,a,r,d,u,f,p,m,v,b,_,y,w,S,M=ge(l[3]),k=[];for(let C=0;C<M.length;C+=1)k[C]=ll(tl(l,M,C));return{c(){e=c("div"),t=c("div"),n=c("span"),n.textContent="Theme:",i=g(),a=c("select");for(let C=0;C<k.length;C+=1)k[C].c();r=g(),d=c("label"),u=c("input"),f=g(),p=c("span"),p.textContent="Line numbers",m=g(),v=c("label"),b=c("input"),_=g(),y=c("span"),y.textContent="Vim mode",o(n,"class","text-sm font-medium mr-2"),o(a,"class","select select-bordered select-sm w-40"),l[0]===void 0&&et(()=>l[9].call(a)),o(t,"class","flex items-center"),o(u,"type","checkbox"),o(u,"class","checkbox checkbox-sm mr-2"),o(p,"class","text-sm font-medium"),o(d,"class","flex items-center cursor-pointer"),o(b,"type","checkbox"),o(b,"class","checkbox checkbox-sm mr-2"),o(y,"class","text-sm font-medium"),o(v,"class","flex items-center cursor-pointer"),o(e,"class","flex flex-wrap items-center gap-3 my-1")},m(C,h){x(C,e,h),s(e,t),s(t,n),s(t,i),s(t,a);for(let $=0;$<k.length;$+=1)k[$]&&k[$].m(a,null);Gt(a,l[0],!0),s(e,r),s(e,d),s(d,u),u.checked=l[1],s(d,f),s(d,p),s(e,m),s(e,v),s(v,b),b.checked=l[2],s(v,_),s(v,y),w||(S=[q(a,"change",l[9]),q(a,"change",l[6]),q(u,"change",l[10]),q(u,"change",l[11]),q(b,"change",l[12]),q(b,"change",l[13])],w=!0)},p(C,[h]){if(h&8){M=ge(C[3]);let $;for($=0;$<M.length;$+=1){const B=tl(C,M,$);k[$]?k[$].p(B,h):(k[$]=ll(B),k[$].c(),k[$].m(a,null))}for(;$<k.length;$+=1)k[$].d(1);k.length=M.length}h&9&&Gt(a,C[0]),h&2&&(u.checked=C[1]),h&4&&(b.checked=C[2])},i:J,o:J,d(C){C&&L(e),Ye(k,C),w=!1,Oe(S)}}}const nl="editor-theme",sl="editor-show-line-numbers",Vt="editor-vim-mode";function qn(){return new Promise((l,e)=>{const t=document.createElement("script");t.src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.11/keymap/vim.min.js",t.onload=()=>l(),t.onerror=()=>e(new Error("Failed to load Vim mode")),document.head.appendChild(t)})}function Jn(l){return new Promise((e,t)=>{const n=`/codemirror-themes/${l}.css`;if(document.querySelector(`link[href="${n}"]`)){e();return}console.log(`Loading CodeMirror theme: ${l} from ${n}`);const a=document.createElement("link");a.rel="stylesheet",a.href=n,a.onload=()=>e(),a.onerror=()=>{console.error(`Failed to load CodeMirror theme CSS: ${n}`),t(new Error(`Failed to load theme: ${l}`))},document.head.appendChild(a)})}function Yn(l,e,t){const n=[{name:"Monokai",value:"monokai"},{name:"Dracula",value:"dracula"},{name:"Material",value:"material"},{name:"Nord",value:"nord"},{name:"Solarized Dark",value:"solarized-dark"},{name:"Solarized Light",value:"solarized-light"},{name:"Darcula",value:"darcula"},{name:"Eclipse",value:"eclipse"}];let i="dracula",a=!0,r=!1,{editor:d=null}=e;Ze(()=>{const h=localStorage.getItem(nl);h&&(t(0,i=h),u(h));const $=localStorage.getItem(sl);$!==null&&(t(1,a=$==="true"),f(a));const B=localStorage.getItem(Vt);B!==null&&(t(2,r=B==="true"),p(r))});function u(h){d&&d.setOption("theme",h)}function f(h){d&&d.setOption("lineNumbers",h)}async function p(h){if(d)if(h)try{typeof window.CodeMirror.Vim>"u"&&await qn(),window.CodeMirror.Vim.map("jk","<Esc>","insert"),d.setOption("keyMap","vim")}catch($){console.error("Failed to load Vim mode:",$),t(2,r=!1),localStorage.setItem(Vt,"false");return}else d.setOption("keyMap","default")}function m(h){t(7,d=h),u(i),f(a),p(r)}function v(h){h&&Jn(h).then(()=>{d&&d.setOption("theme",h),t(0,i=h),localStorage.setItem(nl,h)})}function b(h){t(1,a=h),d&&d.setOption("lineNumbers",h),localStorage.setItem(sl,h.toString())}async function _(h){t(2,r=h),await p(h),localStorage.setItem(Vt,h.toString())}function y(h){const $=h.target.value;v($)}function w(){i=cn(this),t(0,i),t(3,n)}function S(){a=this.checked,t(1,a)}const M=()=>b(a);function k(){r=this.checked,t(2,r)}const C=()=>_(r);return l.$$set=h=>{"editor"in h&&t(7,d=h.editor)},[i,a,r,n,b,_,y,d,m,w,S,M,k,C]}class Gn extends it{constructor(e){super(),rt(this,e,Yn,Un,tt,{editor:7,initEditor:8})}get initEditor(){return this.$$.ctx[8]}}function ol(l,e,t){const n=l.slice();return n[21]=e[t],n}function Xn(l){let e,t=ge(l[3]),n=[];for(let i=0;i<t.length;i+=1)n[i]=rl(ol(l,t,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=Et()},m(i,a){for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(i,a);x(i,e,a)},p(i,a){if(a&8){t=ge(i[3]);let r;for(r=0;r<t.length;r+=1){const d=ol(i,t,r);n[r]?n[r].p(d,a):(n[r]=rl(d),n[r].c(),n[r].m(e.parentNode,e))}for(;r<n.length;r+=1)n[r].d(1);n.length=t.length}},d(i){i&&L(e),Ye(n,i)}}}function Qn(l){let e;return{c(){e=c("div"),e.textContent="No output yet. Run some code to see results here.",o(e,"class","flex items-center justify-center h-full opacity-50 italic")},m(t,n){x(t,e,n)},p:J,d(t){t&&L(e)}}}function rl(l){let e,t,n=l[21].message+"",i,a,r;return{c(){e=c("div"),t=c("span"),i=A(n),r=g(),o(t,"class",a=(l[21].level.toLowerCase()==="info"?"text-info":l[21].level.toLowerCase()==="command"?"text-accent font-bold":l[21].level.toLowerCase()==="error"?"text-error font-bold":l[21].level.toLowerCase()==="success"?"text-success":l[21].level.toLowerCase()==="warn"?"text-warning":"")+" whitespace-pre-wrap"),o(e,"class","mb-1 border-b border-base-300 border-opacity-20 pb-1")},m(d,u){x(d,e,u),s(e,t),s(t,i),s(e,r)},p(d,u){u&8&&n!==(n=d[21].message+"")&&te(i,n),u&8&&a!==(a=(d[21].level.toLowerCase()==="info"?"text-info":d[21].level.toLowerCase()==="command"?"text-accent font-bold":d[21].level.toLowerCase()==="error"?"text-error font-bold":d[21].level.toLowerCase()==="success"?"text-success":d[21].level.toLowerCase()==="warn"?"text-warning":"")+" whitespace-pre-wrap")&&o(t,"class",a)},d(d){d&&L(e)}}}function il(l){let e,t,n,i,a,r,d=l[5].error+"",u;return{c(){e=c("div"),t=re("svg"),n=re("path"),i=g(),a=c("span"),r=A("Error: "),u=A(d),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"stroke-width","2"),o(n,"d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"),o(t,"xmlns","http://www.w3.org/2000/svg"),o(t,"class","stroke-current shrink-0 h-6 w-6"),o(t,"fill","none"),o(t,"viewBox","0 0 24 24"),o(e,"class","alert alert-error rounded-none")},m(f,p){x(f,e,p),s(e,t),s(t,n),s(e,i),s(e,a),s(a,r),s(a,u)},p(f,p){p&32&&d!==(d=f[5].error+"")&&te(u,d)},d(f){f&&L(e)}}}function Zn(l){let e,t,n,i,a,r,d,u,f,p,m,v,b,_,y,w,S,M,k,C,h,$,B,D,z,E,W,K,T,j,I;function U(H){l[10](H)}let F={};l[2]!==void 0&&(F.editor=l[2]),_=new Gn({props:F}),xt.push(()=>yn(_,"editor",U));function R(H,V){return H[3].length===0?Qn:Xn}let le=R(l),G=le(l),O=l[5].error&&il(l);return{c(){e=c("div"),t=c("div"),n=c("div"),i=c("div"),i.innerHTML='<span class="badge badge-sm">Alt+Enter: Run current line</span> <span class="badge badge-sm">Ctrl+Enter: Run paragraph or selection</span> <span class="badge badge-sm">Ctrl+.: Stop all music</span> <span class="badge badge-sm">Run Code button: Run all code</span>',a=g(),r=c("div"),d=c("div"),u=c("button"),u.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd"></path></svg>
            Run Code`,f=g(),p=c("button"),p.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8 7a1 1 0 00-1 1v4a1 1 0 001 1h4a1 1 0 001-1V8a1 1 0 00-1-1H8z" clip-rule="evenodd"></path></svg>
            Stop Music`,m=g(),v=c("button"),v.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg>
            Clear Console`,b=g(),mt(_.$$.fragment),w=g(),S=c("div"),M=c("div"),k=c("textarea"),C=g(),h=c("div"),$=c("div"),B=c("h3"),B.textContent="ฅ^•ﻌ•^ฅ >> output",D=g(),z=c("button"),z.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg>
          Clear`,E=g(),W=c("div"),G.c(),K=g(),O&&O.c(),o(i,"class","flex flex-wrap gap-2 text-xs mb-2"),o(u,"class","btn btn-sm btn-success"),o(u,"title","Run all code in editor"),o(p,"class","btn btn-sm btn-warning"),o(p,"title","Stop all music playback"),o(v,"class","btn btn-sm btn-error"),o(v,"title","Clear console output"),o(d,"class","flex flex-wrap gap-2"),o(r,"class","flex flex-wrap justify-between items-center gap-2"),o(n,"class","flex flex-col gap-2"),o(t,"class","bg-base-300 p-4"),o(k,"id","code-editor"),k.value=l[0],o(k,"class","svelte-1tth5x1"),o(M,"class","flex-1 min-h-[60vh] border border-base-300"),o(B,"class","text-sm font-bold"),o(z,"class","btn btn-xs btn-ghost"),o(z,"title","Clear console output"),o($,"class","flex justify-between items-center px-4 py-2 bg-neutral-focus text-neutral-content"),o(W,"class","overflow-y-auto flex-1 p-4 font-mono text-sm"),o(h,"class","flex flex-col h-[30vh] bg-neutral text-neutral-content overflow-hidden"),o(S,"class","flex flex-col flex-1 overflow-hidden"),o(e,"class","flex flex-col h-screen w-full overflow-hidden")},m(H,V){x(H,e,V),s(e,t),s(t,n),s(n,i),s(n,a),s(n,r),s(r,d),s(d,u),s(d,f),s(d,p),s(d,m),s(d,v),s(r,b),st(_,r,null),s(e,w),s(e,S),s(S,M),s(M,k),l[11](M),s(S,C),s(S,h),s(h,$),s($,B),s($,D),s($,z),s(h,E),s(h,W),G.m(W,null),l[12](W),s(e,K),O&&O.m(e,null),T=!0,j||(I=[q(u,"click",l[9]),q(p,"click",l[8]),q(v,"click",l[7]),q(z,"click",l[7])],j=!0)},p(H,[V]){const ie={};!y&&V&4&&(y=!0,ie.editor=H[2],hn(()=>y=!1)),_.$set(ie),(!T||V&1)&&(k.value=H[0]),le===(le=R(H))&&G?G.p(H,V):(G.d(1),G=le(H),G&&(G.c(),G.m(W,null))),H[5].error?O?O.p(H,V):(O=il(H),O.c(),O.m(e,null)):O&&(O.d(1),O=null)},i(H){T||(_e(_.$$.fragment,H),T=!0)},o(H){$e(_.$$.fragment,H),T=!1},d(H){H&&L(e),ot(_),l[11](null),G.d(),l[12](null),O&&O.d(),j=!1,Oe(I)}}}function es(l,e,t){let n;zt(l,se,h=>t(5,n=h));let i=`# Renardo Live Coding Editor
# Type your code here and press Ctrl+Enter to run

Root.default = var([0,2,4], [2,4,6])
d1 >> play("<x-(-[--])><*....><..(ooo(oO)).>")
d2 >> blip([2,_,[4,4,4,P*(5,2)],_], dur=.5, sus=linvar([.2,.5,3],16), pan=[-.8,0,.8]).eclipse(4,16)
d3 >> pluck(dur=.25, oct=3, sus=linvar([.2,.5,3],16), amp=[.7,.7,1,2], lpf=linvar([400,600,3000],16)).eclipse(16,96)
k2 >> play("V.", lpf=400).eclipse(64,128)

d2.dur=var([.25,1/3,1/2], 16)

Master().fadeout(dur=24)
`,a,r,d=[],u;function f(){u&&setTimeout(()=>{t(4,u.scrollTop=u.scrollHeight,u)},50)}Ze(()=>{const h=E=>new Promise((W,K)=>{if(document.querySelector(`script[src="${E}"]`)){W();return}const j=document.createElement("script");j.src=E,j.onload=()=>W(),j.onerror=()=>K(new Error(`Failed to load script: ${E}`)),document.head.appendChild(j)}),$=E=>new Promise((W,K)=>{if(document.querySelector(`link[href="${E}"]`)){W();return}const j=document.createElement("link");j.rel="stylesheet",j.href=E,j.onload=()=>W(),j.onerror=()=>K(new Error(`Failed to load CSS: ${E}`)),document.head.appendChild(j)}),B=async()=>{if(typeof window.CodeMirror>"u"){setTimeout(B,100);return}try{await $("https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.11/codemirror.min.css"),await $("/codemirror-themes/dracula.css"),await Promise.all([h("https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.11/mode/python/python.min.js"),h("https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.11/addon/edit/matchbrackets.min.js"),h("https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.11/addon/edit/closebrackets.min.js"),h("https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.11/addon/selection/active-line.min.js"),h("https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.11/addon/search/search.min.js"),h("https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.11/addon/search/searchcursor.min.js"),h("https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.11/addon/search/match-highlighter.min.js")]).catch(K=>{console.error("Error loading CodeMirror addons:",K)});const E={value:i,lineNumbers:!0,mode:{name:"python",version:3,singleLineStringErrors:!1},theme:"dracula",tabSize:4,indentWithTabs:!1,indentUnit:4,lineWrapping:!0,viewportMargin:1/0,matchBrackets:!0,autoCloseBrackets:!0,styleActiveLine:!0,smartIndent:!0,electricChars:!0,highlightSelectionMatches:!0,autofocus:!0},W=document.getElementById("code-editor");if(W){t(2,r=window.CodeMirror.fromTextArea(W,E)),r.on("change",I=>{t(0,i=I.getValue())}),r.setOption("extraKeys",{"Ctrl-Enter":b,"Cmd-Enter":b,"Alt-Enter":_,"Alt-Cmd-Enter":_,"Ctrl-.":w,"Cmd-.":w});const K=localStorage.getItem("editor-theme")||"dracula",T=localStorage.getItem("editor-show-line-numbers")!=="false",j=localStorage.getItem("editor-vim-mode")==="true";r.setOption("theme",K),r.setOption("lineNumbers",T),j&&h("https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.11/keymap/vim.min.js").then(()=>{window.CodeMirror.Vim&&(window.CodeMirror.Vim.map("jk","<Esc>","insert"),r.setOption("keyMap","vim"))}).catch(I=>{console.error("Failed to load Vim mode:",I),localStorage.setItem("editor-vim-mode","false")}),setTimeout(()=>{r.refresh()},100),console.log("CodeMirror editor initialized with Python syntax highlighting")}else console.error("Could not find code-editor textarea element")}catch(E){console.error("Error initializing CodeMirror editor:",E)}};B();const D=se.subscribe(E=>{E.consoleOutput&&E.consoleOutput.length>0&&(t(3,d=E.consoleOutput),f())}),z=E=>{(E.ctrlKey||E.metaKey)&&!E.altKey&&E.key==="Enter"?(E.preventDefault(),b()):E.altKey&&!E.ctrlKey&&!E.metaKey&&E.key==="Enter"||E.altKey&&E.metaKey&&E.key==="Enter"?(E.preventDefault(),_()):(E.ctrlKey||E.metaKey)&&E.key==="."&&(E.preventDefault(),w())};return document.addEventListener("keydown",z),()=>{D(),document.removeEventListener("keydown",z),r&&r.toTextArea()}});function p(){const $=r.getCursor().line;let B=$;for(;B>0;){const K=r.getLine(B-1);if(!K||K.trim()==="")break;B--}let D=$;const z=r.lineCount();for(;D<z-1;){const K=r.getLine(D+1);if(!K||K.trim()==="")break;D++}const E={line:B,ch:0},W={line:D,ch:r.getLine(D).length};return r.getRange(E,W)}function m(){const h=r.getCursor();return r.getLine(h.line)}function v(h,$="paragraph"){!h||!h.trim()||Ie({type:"execute_code",data:{code:h,requestId:Date.now()}})}function b(){if(!r){console.error("CodeMirror editor not initialized!");return}let h,$;r.somethingSelected()?(h=r.getSelection(),$="selection"):(h=p(),$="paragraph"),v(h,$)}function _(){if(!r){console.error("CodeMirror editor not initialized!");return}const h=m();v(h,"line")}function y(){se.update(h=>({...h,consoleOutput:[]}))}function w(){Ie({type:"execute_code",data:{code:"Clock.clear()",requestId:Date.now()}})}const S=()=>v(r.getValue(),"all");function M(h){r=h,t(2,r)}function k(h){xt[h?"unshift":"push"](()=>{a=h,t(1,a)})}function C(h){xt[h?"unshift":"push"](()=>{u=h,t(4,u)})}return[i,a,r,d,u,n,v,y,w,S,M,k,C]}class ts extends it{constructor(e){super(),rt(this,e,es,Zn,tt,{})}}function al(l,e,t){const n=l.slice();return n[16]=e[t],n}function cl(l,e,t){const n=l.slice();return n[19]=e[t],n}function dl(l,e,t){const n=l.slice();return n[22]=e[t],n}function ul(l,e,t){const n=l.slice();return n[25]=e[t],n}function fl(l,e,t){const n=l.slice();return n[22]=e[t],n}function pl(l){let e,t,n,i,a,r,d,u,f=l[0].collections_server+"",p,m,v,b,_,y=l[1]?"Loading...":"Refresh Collections",w,S,M,k=l[1]&&ml();return{c(){e=c("div"),t=c("div"),n=c("div"),i=c("div"),a=c("div"),r=c("h2"),r.textContent="Collection Server",d=g(),u=c("div"),p=A(f),m=g(),v=c("div"),b=c("button"),k&&k.c(),_=g(),w=A(y),o(r,"class","card-title title-font"),o(u,"class","badge badge-neutral font-mono"),o(i,"class","flex items-center gap-2"),o(b,"class","btn btn-primary"),b.disabled=l[1],o(n,"class","flex flex-col sm:flex-row justify-between items-center gap-4"),o(t,"class","card-body"),o(e,"class","card bg-base-100 shadow-xl mb-8")},m(C,h){x(C,e,h),s(e,t),s(t,n),s(n,i),s(i,a),s(a,r),s(a,d),s(a,u),s(u,p),s(n,m),s(n,v),s(v,b),k&&k.m(b,null),s(b,_),s(b,w),S||(M=q(b,"click",l[8]),S=!0)},p(C,h){h&1&&f!==(f=C[0].collections_server+"")&&te(p,f),C[1]?k||(k=ml(),k.c(),k.m(b,_)):k&&(k.d(1),k=null),h&2&&y!==(y=C[1]?"Loading...":"Refresh Collections")&&te(w,y),h&2&&(b.disabled=C[1])},d(C){C&&L(e),k&&k.d(),S=!1,M()}}}function ml(l){let e;return{c(){e=c("span"),o(e,"class","loading loading-spinner loading-xs")},m(t,n){x(t,e,n)},d(t){t&&L(e)}}}function gl(l){let e,t,n,i,a,r,d,u,f,p,m;return{c(){e=c("div"),t=re("svg"),n=re("path"),i=g(),a=c("div"),r=c("div"),r.textContent="Error loading collections",d=g(),u=c("div"),f=A(l[2]),p=g(),m=c("div"),m.textContent="Please check your internet connection and try again.",o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"stroke-width","2"),o(n,"d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"),o(t,"xmlns","http://www.w3.org/2000/svg"),o(t,"class","stroke-current shrink-0 h-6 w-6"),o(t,"fill","none"),o(t,"viewBox","0 0 24 24"),o(r,"class","font-medium"),o(u,"class","text-sm"),o(m,"class","text-sm"),o(e,"class","alert alert-error mb-8")},m(v,b){x(v,e,b),s(e,t),s(t,n),s(e,i),s(e,a),s(a,r),s(a,d),s(a,u),s(u,f),s(a,p),s(a,m)},p(v,b){b&4&&te(f,v[2])},d(v){v&&L(e)}}}function ls(l){let e,t,n,i,a,r,d,u,f,p,m;function v(M,k){return M[0].samples&&M[0].samples.length>0?os:ss}let b=v(l),_=b(l);function y(M,k){return M[0].sccode&&M[0].sccode.length>0?ds:cs}let w=y(l),S=w(l);return{c(){e=c("div"),t=c("div"),n=c("div"),n.innerHTML='<h2 class="card-title text-primary title-font">Sample Packs &gt;&gt;</h2>',i=g(),a=c("div"),_.c(),r=g(),d=c("div"),u=c("div"),f=c("div"),f.innerHTML='<h2 class="card-title text-accent title-font">Instrument Packs &gt;&gt;</h2>',p=g(),m=c("div"),S.c(),o(n,"class","bg-base p-4"),o(a,"class","p-4"),o(t,"class","card-body p-0"),o(e,"class","card bg-base-100 shadow-xl mb-8"),o(f,"class","bg-base p-4"),o(m,"class","p-4"),o(u,"class","card-body p-0"),o(d,"class","card bg-base-100 shadow-xl mb-8")},m(M,k){x(M,e,k),s(e,t),s(t,n),s(t,i),s(t,a),_.m(a,null),x(M,r,k),x(M,d,k),s(d,u),s(u,f),s(u,p),s(u,m),S.m(m,null)},p(M,k){b===(b=v(M))&&_?_.p(M,k):(_.d(1),_=b(M),_&&(_.c(),_.m(a,null))),w===(w=y(M))&&S?S.p(M,k):(S.d(1),S=w(M),S&&(S.c(),S.m(m,null)))},d(M){M&&(L(e),L(r),L(d)),_.d(),S.d()}}}function ns(l){let e;return{c(){e=c("div"),e.innerHTML='<span class="loading loading-dots loading-lg text-primary"></span>',o(e,"class","flex justify-center py-12")},m(t,n){x(t,e,n)},p:J,d(t){t&&L(e)}}}function ss(l){let e;return{c(){e=c("div"),e.innerHTML='<div class="card-body items-center text-center"><p class="text-base-content/50 italic">No sample packs available.</p></div>',o(e,"class","card bg-base-200 my-4")},m(t,n){x(t,e,n)},p:J,d(t){t&&L(e)}}}function os(l){let e,t=ge(l[0].samples),n=[];for(let i=0;i<t.length;i+=1)n[i]=_l(ul(l,t,i));return{c(){e=c("div");for(let i=0;i<n.length;i+=1)n[i].c();o(e,"class","grid grid-cols-1 md:grid-cols-2 gap-4")},m(i,a){x(i,e,a);for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(e,null)},p(i,a){if(a&137){t=ge(i[0].samples);let r;for(r=0;r<t.length;r+=1){const d=ul(i,t,r);n[r]?n[r].p(d,a):(n[r]=_l(d),n[r].c(),n[r].m(e,null))}for(;r<n.length;r+=1)n[r].d(1);n.length=t.length}},d(i){i&&L(e),Ye(n,i)}}}function bl(l){let e;return{c(){e=c("div"),e.textContent="Default",o(e,"class","badge badge-primary")},m(t,n){x(t,e,n)},d(t){t&&L(e)}}}function hl(l){let e,t=ge(l[25].tags),n=[];for(let i=0;i<t.length;i+=1)n[i]=vl(fl(l,t,i));return{c(){e=c("div");for(let i=0;i<n.length;i+=1)n[i].c();o(e,"class","flex flex-wrap gap-1 mt-1")},m(i,a){x(i,e,a);for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(e,null)},p(i,a){if(a&1){t=ge(i[25].tags);let r;for(r=0;r<t.length;r+=1){const d=fl(i,t,r);n[r]?n[r].p(d,a):(n[r]=vl(d),n[r].c(),n[r].m(e,null))}for(;r<n.length;r+=1)n[r].d(1);n.length=t.length}},d(i){i&&L(e),Ye(n,i)}}}function vl(l){let e,t=l[22]+"",n;return{c(){e=c("div"),n=A(t),o(e,"class","badge badge-ghost badge-sm")},m(i,a){x(i,e,a),s(e,n)},p(i,a){a&1&&t!==(t=i[22]+"")&&te(n,t)},d(i){i&&L(e)}}}function rs(l){let e,t,n;function i(){return l[10](l[25])}return{c(){e=c("button"),e.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 mr-1"><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"></path></svg>
                          Download`,o(e,"class","btn btn-primary btn-sm")},m(a,r){x(a,e,r),t||(n=q(e,"click",i),t=!0)},p(a,r){l=a},d(a){a&&L(e),t=!1,n()}}}function is(l){let e;return{c(){e=c("button"),e.innerHTML=`<span class="loading loading-spinner loading-xs"></span>
                          Downloading...`,o(e,"class","btn btn-primary btn-sm"),e.disabled=!0},m(t,n){x(t,e,n)},p:J,d(t){t&&L(e)}}}function as(l){let e;return{c(){e=c("div"),e.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                          Installed`,o(e,"class","badge badge-success gap-2")},m(t,n){x(t,e,n)},p:J,d(t){t&&L(e)}}}function _l(l){let e,t,n,i,a=l[25].name+"",r,d,u,f,p=(l[25].description||"No description available")+"",m,v,b,_,y,w=(l[25].author||"Unknown")+"",S,M,k,C,h=(l[25].version||"1.0")+"",$,B,D,z=Bt(l[25].size)+"",E,W,K,T,j,I,U,F=l[25].is_default&&bl(),R=l[25].tags&&l[25].tags.length>0&&hl(l);function le(H,V){return V&9&&(j=null),H[25].installed?as:(j==null&&(j=!!H[3].has(`samples-${H[25].name}`)),j?is:rs)}let G=le(l,-1),O=G(l);return{c(){e=c("div"),t=c("div"),n=c("div"),i=c("h4"),r=A(a),d=g(),F&&F.c(),u=g(),f=c("p"),m=A(p),v=g(),b=c("div"),_=c("div"),y=A("By "),S=A(w),M=g(),k=c("div"),C=A("v"),$=A(h),B=g(),D=c("div"),E=A(z),W=g(),R&&R.c(),K=g(),T=c("div"),O.c(),I=g(),o(i,"class","card-title text-lg title-font"),o(n,"class","flex justify-between items-center"),o(f,"class","text-base-content/70 text-sm"),o(_,"class","badge badge-outline badge-sm"),o(k,"class","badge badge-outline badge-sm"),o(D,"class","badge badge-outline badge-sm"),o(b,"class","flex flex-wrap gap-2 my-2"),o(T,"class","card-actions justify-end mt-4"),o(t,"class","card-body"),o(e,"class",U="card bg-base-200 "+(l[25].installed?"border-l-4 border-success":""))},m(H,V){x(H,e,V),s(e,t),s(t,n),s(n,i),s(i,r),s(n,d),F&&F.m(n,null),s(t,u),s(t,f),s(f,m),s(t,v),s(t,b),s(b,_),s(_,y),s(_,S),s(b,M),s(b,k),s(k,C),s(k,$),s(b,B),s(b,D),s(D,E),s(t,W),R&&R.m(t,null),s(t,K),s(t,T),O.m(T,null),s(e,I)},p(H,V){V&1&&a!==(a=H[25].name+"")&&te(r,a),H[25].is_default?F||(F=bl(),F.c(),F.m(n,null)):F&&(F.d(1),F=null),V&1&&p!==(p=(H[25].description||"No description available")+"")&&te(m,p),V&1&&w!==(w=(H[25].author||"Unknown")+"")&&te(S,w),V&1&&h!==(h=(H[25].version||"1.0")+"")&&te($,h),V&1&&z!==(z=Bt(H[25].size)+"")&&te(E,z),H[25].tags&&H[25].tags.length>0?R?R.p(H,V):(R=hl(H),R.c(),R.m(t,K)):R&&(R.d(1),R=null),G===(G=le(H,V))&&O?O.p(H,V):(O.d(1),O=G(H),O&&(O.c(),O.m(T,null))),V&1&&U!==(U="card bg-base-200 "+(H[25].installed?"border-l-4 border-success":""))&&o(e,"class",U)},d(H){H&&L(e),F&&F.d(),R&&R.d(),O.d()}}}function cs(l){let e;return{c(){e=c("div"),e.innerHTML='<div class="card-body items-center text-center"><p class="text-base-content/50 italic">No instrument packs available.</p></div>',o(e,"class","card bg-base-200 my-4")},m(t,n){x(t,e,n)},p:J,d(t){t&&L(e)}}}function ds(l){let e,t=ge(l[0].sccode),n=[];for(let i=0;i<t.length;i+=1)n[i]=Cl(cl(l,t,i));return{c(){e=c("div");for(let i=0;i<n.length;i+=1)n[i].c();o(e,"class","grid grid-cols-1 md:grid-cols-2 gap-4")},m(i,a){x(i,e,a);for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(e,null)},p(i,a){if(a&137){t=ge(i[0].sccode);let r;for(r=0;r<t.length;r+=1){const d=cl(i,t,r);n[r]?n[r].p(d,a):(n[r]=Cl(d),n[r].c(),n[r].m(e,null))}for(;r<n.length;r+=1)n[r].d(1);n.length=t.length}},d(i){i&&L(e),Ye(n,i)}}}function wl(l){let e;return{c(){e=c("div"),e.textContent="Default",o(e,"class","badge badge-accent")},m(t,n){x(t,e,n)},d(t){t&&L(e)}}}function kl(l){let e,t=ge(l[19].tags),n=[];for(let i=0;i<t.length;i+=1)n[i]=yl(dl(l,t,i));return{c(){e=c("div");for(let i=0;i<n.length;i+=1)n[i].c();o(e,"class","flex flex-wrap gap-1 mt-1")},m(i,a){x(i,e,a);for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(e,null)},p(i,a){if(a&1){t=ge(i[19].tags);let r;for(r=0;r<t.length;r+=1){const d=dl(i,t,r);n[r]?n[r].p(d,a):(n[r]=yl(d),n[r].c(),n[r].m(e,null))}for(;r<n.length;r+=1)n[r].d(1);n.length=t.length}},d(i){i&&L(e),Ye(n,i)}}}function yl(l){let e,t=l[22]+"",n;return{c(){e=c("div"),n=A(t),o(e,"class","badge badge-ghost badge-sm")},m(i,a){x(i,e,a),s(e,n)},p(i,a){a&1&&t!==(t=i[22]+"")&&te(n,t)},d(i){i&&L(e)}}}function us(l){let e,t,n;function i(){return l[11](l[19])}return{c(){e=c("button"),e.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 mr-1"><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"></path></svg>
                          Download`,o(e,"class","btn btn-accent btn-sm")},m(a,r){x(a,e,r),t||(n=q(e,"click",i),t=!0)},p(a,r){l=a},d(a){a&&L(e),t=!1,n()}}}function fs(l){let e;return{c(){e=c("button"),e.innerHTML=`<span class="loading loading-spinner loading-xs"></span>
                          Downloading...`,o(e,"class","btn btn-accent btn-sm"),e.disabled=!0},m(t,n){x(t,e,n)},p:J,d(t){t&&L(e)}}}function ps(l){let e;return{c(){e=c("div"),e.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                          Installed`,o(e,"class","badge badge-success gap-2")},m(t,n){x(t,e,n)},p:J,d(t){t&&L(e)}}}function Cl(l){let e,t,n,i,a=l[19].name+"",r,d,u,f,p=(l[19].description||"No description available")+"",m,v,b,_,y,w=(l[19].author||"Unknown")+"",S,M,k,C,h=(l[19].version||"1.0")+"",$,B,D,z=Bt(l[19].size)+"",E,W,K,T,j,I,U,F=l[19].is_default&&wl(),R=l[19].tags&&l[19].tags.length>0&&kl(l);function le(H,V){return V&9&&(j=null),H[19].installed?ps:(j==null&&(j=!!H[3].has(`sccode-${H[19].name}`)),j?fs:us)}let G=le(l,-1),O=G(l);return{c(){e=c("div"),t=c("div"),n=c("div"),i=c("h4"),r=A(a),d=g(),F&&F.c(),u=g(),f=c("p"),m=A(p),v=g(),b=c("div"),_=c("div"),y=A("By "),S=A(w),M=g(),k=c("div"),C=A("v"),$=A(h),B=g(),D=c("div"),E=A(z),W=g(),R&&R.c(),K=g(),T=c("div"),O.c(),I=g(),o(i,"class","card-title text-lg title-font"),o(n,"class","flex justify-between items-center"),o(f,"class","text-base-content/70 text-sm"),o(_,"class","badge badge-outline badge-sm"),o(k,"class","badge badge-outline badge-sm"),o(D,"class","badge badge-outline badge-sm"),o(b,"class","flex flex-wrap gap-2 my-2"),o(T,"class","card-actions justify-end mt-4"),o(t,"class","card-body"),o(e,"class",U="card bg-base-200 "+(l[19].installed?"border-l-4 border-success":""))},m(H,V){x(H,e,V),s(e,t),s(t,n),s(n,i),s(i,r),s(n,d),F&&F.m(n,null),s(t,u),s(t,f),s(f,m),s(t,v),s(t,b),s(b,_),s(_,y),s(_,S),s(b,M),s(b,k),s(k,C),s(k,$),s(b,B),s(b,D),s(D,E),s(t,W),R&&R.m(t,null),s(t,K),s(t,T),O.m(T,null),s(e,I)},p(H,V){V&1&&a!==(a=H[19].name+"")&&te(r,a),H[19].is_default?F||(F=wl(),F.c(),F.m(n,null)):F&&(F.d(1),F=null),V&1&&p!==(p=(H[19].description||"No description available")+"")&&te(m,p),V&1&&w!==(w=(H[19].author||"Unknown")+"")&&te(S,w),V&1&&h!==(h=(H[19].version||"1.0")+"")&&te($,h),V&1&&z!==(z=Bt(H[19].size)+"")&&te(E,z),H[19].tags&&H[19].tags.length>0?R?R.p(H,V):(R=kl(H),R.c(),R.m(t,K)):R&&(R.d(1),R=null),G===(G=le(H,V))&&O?O.p(H,V):(O.d(1),O=G(H),O&&(O.c(),O.m(T,null))),V&1&&U!==(U="card bg-base-200 "+(H[19].installed?"border-l-4 border-success":""))&&o(e,"class",U)},d(H){H&&L(e),F&&F.d(),R&&R.d(),O.d()}}}function Ml(l){let e,t,n,i,a,r,d,u,f,p,m,v,b;function _(h,$){return h[6]?gs:ms}let y=_(l),w=y(l),S=!l[6]&&Sl();function M(h,$){return h[5].length===0?hs:bs}let k=M(l),C=k(l);return{c(){e=c("div"),t=c("div"),n=c("div"),i=c("h3"),i.textContent="Download Progress",a=g(),w.c(),r=g(),d=c("div"),S&&S.c(),u=g(),C.c(),f=g(),p=c("div"),m=c("button"),m.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 mr-1"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg>
            Close`,o(i,"class","font-bold text-2xl title-font"),o(n,"class","flex justify-between items-center mb-4"),o(d,"id","log-container"),o(d,"class","bg-base-300 p-6 rounded-lg font-mono text-sm h-[600px] overflow-y-auto mb-4 shadow-inner"),o(m,"class","btn btn-primary btn-lg"),o(p,"class","modal-action"),o(t,"class","modal-box w-11/12 max-w-6xl h-auto max-h-[90vh]"),o(e,"class","modal modal-open")},m(h,$){x(h,e,$),s(e,t),s(t,n),s(n,i),s(n,a),w.m(n,null),s(t,r),s(t,d),S&&S.m(d,null),s(d,u),C.m(d,null),s(t,f),s(t,p),s(p,m),v||(b=q(m,"click",l[9]),v=!0)},p(h,$){y!==(y=_(h))&&(w.d(1),w=y(h),w&&(w.c(),w.m(n,null))),h[6]?S&&(S.d(1),S=null):S?S.p(h,$):(S=Sl(),S.c(),S.m(d,u)),k===(k=M(h))&&C?C.p(h,$):(C.d(1),C=k(h),C&&(C.c(),C.m(d,null)))},d(h){h&&L(e),w.d(),S&&S.d(),C.d(),v=!1,b()}}}function ms(l){let e;return{c(){e=c("div"),e.innerHTML=`<span class="relative flex h-2 w-2"><span class="animate-ping absolute inline-flex h-full w-full rounded-full opacity-75 bg-error"></span> <span class="relative inline-flex rounded-full h-2 w-2 bg-error"></span></span>
              Disconnected`,o(e,"class","badge badge-error gap-2")},m(t,n){x(t,e,n)},d(t){t&&L(e)}}}function gs(l){let e;return{c(){e=c("div"),e.innerHTML=`<span class="relative flex h-2 w-2"><span class="animate-ping absolute inline-flex h-full w-full rounded-full opacity-75 bg-success"></span> <span class="relative inline-flex rounded-full h-2 w-2 bg-success"></span></span>
              Connected`,o(e,"class","badge badge-success gap-2")},m(t,n){x(t,e,n)},d(t){t&&L(e)}}}function Sl(l){let e,t,n,i;return{c(){e=c("div"),t=c("span"),t.textContent=`${new Date().toLocaleTimeString()}`,n=g(),i=c("span"),i.textContent="WebSocket disconnected. Waiting for reconnection...",o(t,"class","text-xs opacity-70"),o(e,"class","text-error p-2 mb-2 flex gap-2 bg-error bg-opacity-5 rounded border-l-4 border-error")},m(a,r){x(a,e,r),s(e,t),s(e,n),s(e,i)},p:J,d(a){a&&L(e)}}}function bs(l){let e,t=ge(l[5]),n=[];for(let i=0;i<t.length;i+=1)n[i]=Ll(al(l,t,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=Et()},m(i,a){for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(i,a);x(i,e,a)},p(i,a){if(a&32){t=ge(i[5]);let r;for(r=0;r<t.length;r+=1){const d=al(i,t,r);n[r]?n[r].p(d,a):(n[r]=Ll(d),n[r].c(),n[r].m(e.parentNode,e))}for(;r<n.length;r+=1)n[r].d(1);n.length=t.length}},d(i){i&&L(e),Ye(n,i)}}}function hs(l){let e;return{c(){e=c("div"),e.innerHTML='<span class="loading loading-dots loading-md text-primary"></span> <p class="text-center opacity-50 italic mt-4">Waiting for download to start...</p>',o(e,"class","flex flex-col items-center justify-center h-full")},m(t,n){x(t,e,n)},p:J,d(t){t&&L(e)}}}function Ll(l){let e,t,n=l[16].timestamp+"",i,a,r,d=l[16].message+"",u,f,p;return{c(){e=c("div"),t=c("span"),i=A(n),a=g(),r=c("span"),u=A(d),f=g(),o(t,"class","text-xs opacity-70 inline-block w-24 mr-2"),o(r,"class","font-medium"),o(e,"class",p="mb-2 pb-2 border-b border-base-200 border-opacity-30 "+(l[16].level.toLowerCase()==="error"?"text-error bg-error bg-opacity-5 p-2 rounded":l[16].level.toLowerCase()==="warn"?"text-warning":l[16].level.toLowerCase()==="success"?"text-success bg-success bg-opacity-5 p-2 rounded":""))},m(m,v){x(m,e,v),s(e,t),s(t,i),s(e,a),s(e,r),s(r,u),s(e,f)},p(m,v){v&32&&n!==(n=m[16].timestamp+"")&&te(i,n),v&32&&d!==(d=m[16].message+"")&&te(u,d),v&32&&p!==(p="mb-2 pb-2 border-b border-base-200 border-opacity-30 "+(m[16].level.toLowerCase()==="error"?"text-error bg-error bg-opacity-5 p-2 rounded":m[16].level.toLowerCase()==="warn"?"text-warning":m[16].level.toLowerCase()==="success"?"text-success bg-success bg-opacity-5 p-2 rounded":""))&&o(e,"class",p)},d(m){m&&L(e)}}}function vs(l){let e,t,n,i,a,r,d=l[0]&&pl(l),u=l[2]&&gl(l);function f(b,_){if(b[1])return ns;if(b[0])return ls}let p=f(l),m=p&&p(l),v=l[4]&&Ml(l);return{c(){e=c("div"),t=c("div"),t.innerHTML='<h1 class="text-3xl font-bold mb-2 title-font">Additional Collections</h1> <p class="text-base-content/70">Download additional sample packs and instruments from the Renardo collections server.</p>',n=g(),d&&d.c(),i=g(),u&&u.c(),a=g(),m&&m.c(),r=g(),v&&v.c(),o(t,"class","text-center mb-8"),o(e,"class","container mx-auto px-4 py-8 max-w-4xl")},m(b,_){x(b,e,_),s(e,t),s(e,n),d&&d.m(e,null),s(e,i),u&&u.m(e,null),s(e,a),m&&m.m(e,null),s(e,r),v&&v.m(e,null)},p(b,[_]){b[0]?d?d.p(b,_):(d=pl(b),d.c(),d.m(e,i)):d&&(d.d(1),d=null),b[2]?u?u.p(b,_):(u=gl(b),u.c(),u.m(e,a)):u&&(u.d(1),u=null),p===(p=f(b))&&m?m.p(b,_):(m&&m.d(1),m=p&&p(b),m&&(m.c(),m.m(e,r))),b[4]?v?v.p(b,_):(v=Ml(b),v.c(),v.m(e,null)):v&&(v.d(1),v=null)},i:J,o:J,d(b){b&&L(e),d&&d.d(),u&&u.d(),m&&m.d(),v&&v.d()}}}function Bt(l){if(!l||l==="Unknown"||typeof l=="string"&&(l=parseInt(l,10),isNaN(l)))return"Unknown size";const e=["B","KB","MB","GB"];let t=0;for(;l>=1024&&t<e.length-1;)l/=1024,t++;return`${l.toFixed(1)} ${e[t]}`}function _s(l,e,t){let n=null,i=!0,a=null,r=new Map,d=!1,u=[],f,p=!1;const m=se.subscribe(M=>{t(6,p=M.connected),p&&d&&u.length===0&&t(5,u=[...u,{timestamp:new Date().toLocaleTimeString(),level:"INFO",message:"WebSocket connection established"}])});async function v(){t(1,i=!0),t(2,a=null);try{const M=await fetch("/api/collections");if(!M.ok)throw new Error(`Failed to fetch collections: ${M.status} ${M.statusText}`);t(0,n=await M.json())}catch(M){console.error("Error loading collections:",M),t(2,a=M.message)}finally{t(1,i=!1)}}async function b(M,k){t(5,u=[]),t(4,d=!0),r.set(`${M}-${k}`,!0),t(3,r),f&&(f(),f=null);let C=0;f=se.subscribe(h=>{if(h.logMessages&&h.logMessages.length>C){const $=h.logMessages.slice(C);C=h.logMessages.length;for(const B of $)t(5,u=[...u,B]),console.log("New log message:",B),(B.level==="SUCCESS"||B.level==="ERROR")&&setTimeout(()=>{const D=document.getElementById("log-container");if(D){const z=D.lastElementChild;z&&(z.classList.add("log-highlight"),setTimeout(()=>{z.classList.remove("log-highlight")},2e3))}},50);setTimeout(()=>{const B=document.getElementById("log-container");B&&B.scrollTo({top:B.scrollHeight,behavior:"smooth"})},50)}}),se.subscribe(h=>{if(h._lastMessage&&h._lastMessage.type==="collection_downloaded"&&h._lastMessage.data&&h._lastMessage.data.type===M&&h._lastMessage.data.name===k){if(h._lastMessage.data.success&&n&&n[M]){const $=n[M].find(B=>B.name===k);$&&($.installed=!0),t(0,n={...n})}r.delete(`${M}-${k}`),t(3,r)}});try{t(5,u=[...u,{timestamp:new Date().toLocaleTimeString(),level:"INFO",message:`Initiating download request for ${M}/${k}...`}]),p||t(5,u=[...u,{timestamp:new Date().toLocaleTimeString(),level:"WARN",message:"WebSocket is disconnected. Progress updates may not appear in real-time."}]);const h=await fetch(`/api/collections/${M}/${k}/download`,{method:"POST"}),$=await h.json();if(!h.ok)throw new Error($.message||`Failed to download ${M} "${k}"`);if(t(5,u=[...u,{timestamp:new Date().toLocaleTimeString(),level:"INFO",message:`Server responded: ${$.message||"Download started"}`}]),$.already_installed&&(r.delete(`${M}-${k}`),t(3,r),n&&n[M])){const B=n[M].find(D=>D.name===k);B&&(B.installed=!0),t(0,n={...n})}}catch(h){console.error(`Error downloading ${M} "${k}":`,h),t(5,u=[...u,{timestamp:new Date().toLocaleTimeString(),level:"ERROR",message:`Error: ${h.message}`}]),r.delete(`${M}-${k}`),t(3,r)}}function _(){v()}function y(){t(4,d=!1),f&&(f(),f=null)}return Ze(()=>{v()}),qt(()=>{f&&f(),m&&m()}),[n,i,a,r,d,u,p,b,_,y,M=>b("samples",M.name),M=>b("sccode",M.name)]}class ws extends it{constructor(e){super(),rt(this,e,_s,vs,tt,{})}}function xl(l,e,t){const n=l.slice();return n[26]=e[t],n}function Tl(l,e,t){const n=l.slice();n[29]=e[t][0],n[30]=e[t][1];const i=n[13](n[29]);return n[31]=i,n}function ks(l){let e,t,n,i,a,r,d,u,f,p,m,v,b,_,y=l[14](),w,S,M,k,C,h,$,B,D=y&&Cs(l),z=l[2]&&jl(l),E=l[3]&&El(l);function W(j,I){return j[4]?Ms:Ss}let K=W(l),T=K(l);return{c(){e=c("div"),t=c("div"),n=c("div"),i=c("div"),a=c("label"),r=c("input"),d=g(),u=c("span"),u.textContent="Show All Settings (Advanced)",f=g(),p=c("div"),m=c("button"),v=A("Reset All Settings"),b=g(),_=c("button"),D&&D.c(),w=A(`
              Save Changes`),M=g(),z&&z.c(),k=g(),E&&E.c(),C=g(),T.c(),h=Et(),o(r,"type","checkbox"),o(r,"class","toggle toggle-primary"),o(u,"class","label-text"),o(a,"class","label cursor-pointer justify-start gap-2"),o(i,"class","form-control"),o(m,"class","btn btn-error btn-sm"),m.disabled=l[1],o(_,"class","btn btn-success btn-sm"),_.disabled=S=l[1]||!l[14](),o(p,"class","flex flex-wrap gap-2"),o(n,"class","flex flex-col sm:flex-row justify-between gap-4"),o(t,"class","card-body p-4 sm:p-6"),o(e,"class","card bg-base-200 mb-6")},m(j,I){x(j,e,I),s(e,t),s(t,n),s(n,i),s(i,a),s(a,r),r.checked=l[4],s(a,d),s(a,u),s(n,f),s(n,p),s(p,m),s(m,v),s(p,b),s(p,_),D&&D.m(_,null),s(_,w),x(j,M,I),z&&z.m(j,I),x(j,k,I),E&&E.m(j,I),x(j,C,I),T.m(j,I),x(j,h,I),$||(B=[q(r,"change",l[15]),q(m,"click",l[9]),q(_,"click",l[11])],$=!0)},p(j,I){I[0]&16&&(r.checked=j[4]),I[0]&2&&(m.disabled=j[1]),y&&D.p(j,I),I[0]&2&&S!==(S=j[1]||!j[14]())&&(_.disabled=S),j[2]?z?(z.p(j,I),I[0]&4&&_e(z,1)):(z=jl(j),z.c(),_e(z,1),z.m(k.parentNode,k)):z&&(Tt(),$e(z,1,1,()=>{z=null}),jt()),j[3]?E?(E.p(j,I),I[0]&8&&_e(E,1)):(E=El(j),E.c(),_e(E,1),E.m(C.parentNode,C)):E&&(Tt(),$e(E,1,1,()=>{E=null}),jt()),K===(K=W(j))&&T?T.p(j,I):(T.d(1),T=K(j),T&&(T.c(),T.m(h.parentNode,h)))},d(j){j&&(L(e),L(M),L(k),L(C),L(h)),D&&D.d(),z&&z.d(j),E&&E.d(j),T.d(j),$=!1,Oe(B)}}}function ys(l){let e;return{c(){e=c("div"),e.innerHTML='<span class="loading loading-spinner loading-lg text-primary"></span>',o(e,"class","flex justify-center py-8")},m(t,n){x(t,e,n)},p:J,d(t){t&&L(e)}}}function Cs(l){let e,t=Object.keys(l[5]).length+"",n;return{c(){e=c("div"),n=A(t),o(e,"class","badge badge-sm")},m(i,a){x(i,e,a),s(e,n)},p(i,a){a[0]&32&&t!==(t=Object.keys(i[5]).length+"")&&te(n,t)},d(i){i&&L(e)}}}function jl(l){let e,t,n,i,a,r,d,u;return{c(){e=c("div"),t=re("svg"),n=re("path"),i=g(),a=c("span"),r=A(l[2]),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"stroke-width","2"),o(n,"d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"),o(t,"xmlns","http://www.w3.org/2000/svg"),o(t,"class","stroke-current shrink-0 h-6 w-6"),o(t,"fill","none"),o(t,"viewBox","0 0 24 24"),o(e,"class","alert alert-error mb-6")},m(f,p){x(f,e,p),s(e,t),s(t,n),s(e,i),s(e,a),s(a,r),u=!0},p(f,p){(!u||p[0]&4)&&te(r,f[2])},i(f){u||(f&&et(()=>{u&&(d||(d=lt(e,nt,{duration:300},!0)),d.run(1))}),u=!0)},o(f){f&&(d||(d=lt(e,nt,{duration:300},!1)),d.run(0)),u=!1},d(f){f&&L(e),f&&d&&d.end()}}}function El(l){let e,t,n,i,a,r,d,u;return{c(){e=c("div"),t=re("svg"),n=re("path"),i=g(),a=c("span"),r=A(l[3]),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"stroke-width","2"),o(n,"d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"),o(t,"xmlns","http://www.w3.org/2000/svg"),o(t,"class","stroke-current shrink-0 h-6 w-6"),o(t,"fill","none"),o(t,"viewBox","0 0 24 24"),o(e,"class","alert alert-success mb-6")},m(f,p){x(f,e,p),s(e,t),s(t,n),s(e,i),s(e,a),s(a,r),u=!0},p(f,p){(!u||p[0]&8)&&te(r,f[3])},i(f){u||(f&&et(()=>{u&&(d||(d=lt(e,nt,{duration:300},!0)),d.run(1))}),u=!0)},o(f){f&&(d||(d=lt(e,nt,{duration:300},!1)),d.run(0)),u=!1},d(f){f&&L(e),f&&d&&d.end()}}}function Ms(l){let e,t,n,i,a,r,d,u=JSON.stringify(l[0],null,2)+"",f;return{c(){e=c("div"),t=c("div"),n=c("h2"),n.textContent="All Settings (Read Only)",i=g(),a=c("div"),r=c("pre"),d=c("code"),f=A(u),o(n,"class","card-title"),o(a,"class","mockup-code bg-base-300 text-base-content overflow-x-auto max-h-[600px]"),o(t,"class","card-body"),o(e,"class","card bg-base-100 shadow-xl mb-6")},m(p,m){x(p,e,m),s(e,t),s(t,n),s(t,i),s(t,a),s(a,r),s(r,d),s(d,f)},p(p,m){m[0]&1&&u!==(u=JSON.stringify(p[0],null,2)+"")&&te(f,u)},d(p){p&&L(e)}}}function Ss(l){let e,t=ge(l[7]),n=[];for(let i=0;i<t.length;i+=1)n[i]=Hl(xl(l,t,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=Et()},m(i,a){for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(i,a);x(i,e,a)},p(i,a){if(a[0]&13792){t=ge(i[7]);let r;for(r=0;r<t.length;r+=1){const d=xl(i,t,r);n[r]?n[r].p(d,a):(n[r]=Hl(d),n[r].c(),n[r].m(e.parentNode,e))}for(;r<n.length;r+=1)n[r].d(1);n.length=t.length}},d(i){i&&L(e),Ye(n,i)}}}function Ls(l){let e,t,n,i,a,r,d;function u(...f){return l[20](l[29],...f)}return{c(){e=c("div"),t=c("label"),n=c("div"),n.innerHTML='<span class="label-text-alt">Enter values separated by commas</span>',i=g(),a=c("textarea"),o(n,"class","label pt-0"),o(a,"id",l[29]),o(a,"class","textarea textarea-bordered w-full"),a.value=Array.isArray(l[31])?l[31].join(", "):"",o(a,"placeholder","e.g. value1, value2, value3"),o(t,"for",l[29]),o(t,"class","form-control w-full"),o(e,"class","w-full")},m(f,p){x(f,e,p),s(e,t),s(t,n),s(t,i),s(t,a),r||(d=q(a,"input",u),r=!0)},p(f,p){l=f},d(f){f&&L(e),r=!1,d()}}}function xs(l){let e,t,n;function i(...a){return l[19](l[29],...a)}return{c(){e=c("input"),o(e,"type","text"),o(e,"id",l[29]),o(e,"class","input input-bordered w-full"),e.value=l[31]},m(a,r){x(a,e,r),t||(n=q(e,"input",i),t=!0)},p(a,r){l=a},d(a){a&&L(e),t=!1,n()}}}function Ts(l){let e,t,n,i,a,r,d,u,f,p;function m(...v){return l[18](l[29],...v)}return{c(){e=c("input"),t=g(),n=c("div"),i=c("span"),i.textContent=`${l[30].min}`,a=g(),r=c("span"),r.textContent=`${l[31]}`,d=g(),u=c("span"),u.textContent=`${l[30].max}`,o(e,"type","range"),o(e,"id",l[29]),o(e,"class","range range-primary"),e.value=l[31],o(e,"min",l[30].min),o(e,"max",l[30].max),o(r,"class","font-medium"),o(n,"class","flex justify-between text-xs px-1")},m(v,b){x(v,e,b),x(v,t,b),x(v,n,b),s(n,i),s(n,a),s(n,r),s(n,d),s(n,u),f||(p=q(e,"input",m),f=!0)},p(v,b){l=v},d(v){v&&(L(e),L(t),L(n)),f=!1,p()}}}function js(l){let e,t,n;function i(...a){return l[17](l[29],...a)}return{c(){e=c("input"),o(e,"type","checkbox"),o(e,"id",l[29]),o(e,"class","toggle toggle-primary"),e.checked=l[31]},m(a,r){x(a,e,r),t||(n=q(e,"change",i),t=!0)},p(a,r){l=a},d(a){a&&L(e),t=!1,n()}}}function Es(l){let e,t,n,i,a,r;function d(){return l[21](l[29])}function u(){return l[22](l[29])}return{c(){e=c("div"),t=c("button"),t.textContent="Cancel",n=g(),i=c("button"),i.textContent="Save",o(t,"class","btn btn-xs btn-outline"),o(i,"class","btn btn-xs btn-primary"),o(e,"class","flex justify-end gap-2 mt-2")},m(f,p){x(f,e,p),s(e,t),s(e,n),s(e,i),a||(r=[q(t,"click",d),q(i,"click",u)],a=!0)},p(f,p){l=f},d(f){f&&L(e),a=!1,Oe(r)}}}function $l(l){let e,t,n,i,a=l[30].label+"",r,d,u,f,p,m,v=l[12](l[29]),b;function _(M,k){if(M[30].type==="boolean")return js;if(M[30].type==="number")return Ts;if(M[30].type==="string")return xs;if(M[30].type==="array")return Ls}let y=_(l),w=y&&y(l),S=v&&Es(l);return{c(){e=c("div"),t=c("div"),n=c("div"),i=c("label"),r=A(a),d=g(),u=c("p"),u.textContent=`${l[30].description}`,f=g(),p=c("div"),w&&w.c(),m=g(),S&&S.c(),b=g(),o(i,"for",l[29]),o(i,"class","font-medium"),o(u,"class","text-sm text-base-content/70 mt-1"),o(n,"class","flex-1"),o(p,"class","w-full md:w-64 space-y-2"),o(t,"class","flex flex-col md:flex-row md:items-start gap-4"),o(e,"class","p-4 "+(l[12](l[29])?"bg-warning bg-opacity-10":""))},m(M,k){x(M,e,k),s(e,t),s(t,n),s(n,i),s(i,r),s(n,d),s(n,u),s(t,f),s(t,p),w&&w.m(p,null),s(p,m),S&&S.m(p,null),s(e,b)},p(M,k){w&&w.p(M,k),v&&S.p(M,k)},d(M){M&&L(e),w&&w.d(),S&&S.d()}}}function Hl(l){let e,t,n,i,a,r,d;function u(...m){return l[16](l[26],...m)}let f=ge(Object.entries(l[6]).filter(u)),p=[];for(let m=0;m<f.length;m+=1)p[m]=$l(Tl(l,f,m));return{c(){e=c("div"),t=c("div"),n=c("div"),i=c("h2"),i.textContent=`${l[26]}`,a=g(),r=c("div");for(let m=0;m<p.length;m+=1)p[m].c();d=g(),o(i,"class","card-title text-lg"),o(n,"class","bg-base-200 p-4"),o(r,"class","divide-y divide-base-200"),o(t,"class","card-body p-0"),o(e,"class","card bg-base-100 shadow-xl mb-6")},m(m,v){x(m,e,v),s(e,t),s(t,n),s(n,i),s(t,a),s(t,r);for(let b=0;b<p.length;b+=1)p[b]&&p[b].m(r,null);s(e,d)},p(m,v){if(l=m,v[0]&13792){f=ge(Object.entries(l[6]).filter(u));let b;for(b=0;b<f.length;b+=1){const _=Tl(l,f,b);p[b]?p[b].p(_,v):(p[b]=$l(_),p[b].c(),p[b].m(r,null))}for(;b<p.length;b+=1)p[b].d(1);p.length=f.length}},d(m){m&&L(e),Ye(p,m)}}}function $s(l){let e,t,n;function i(d,u){return d[1]?ys:ks}let a=i(l),r=a(l);return{c(){e=c("div"),t=c("div"),t.innerHTML='<h1 class="text-3xl font-bold mb-2 title-font">Renardo Configuration</h1> <p class="text-base-content/70">Manage application settings and preferences</p>',n=g(),r.c(),o(t,"class","text-center mb-8"),o(e,"class","container mx-auto px-4 py-8 max-w-4xl")},m(d,u){x(d,e,u),s(e,t),s(e,n),r.m(e,null)},p(d,u){a===(a=i(d))&&r?r.p(d,u):(r.d(1),r=a(d),r&&(r.c(),r.m(e,null)))},i:J,o:J,d(d){d&&L(e),r.d()}}}function Il(l,e,t){const n=e.split(".");let i=l;for(let a=0;a<n.length-1;a++){const r=n[a];i[r]||(i[r]={}),i=i[r]}i[n[n.length-1]]=t}function Hs(l,e,t=void 0){try{const n=e.split(".");let i=l;for(const a of n){if(i[a]===void 0)return t;i=i[a]}return i}catch{return t}}function Is(l,e,t){let n={},i=!0,a=null,r="",d=!1,u={};const f={"core.CLOCK_LATENCY":{type:"number",label:"Clock Latency",description:"Latency adjustment for timing in milliseconds",group:"Performance",min:0,max:500},"samples.SAMPLES_PACK_NUMBER":{type:"number",label:"Samples Pack Number",description:"Number of sample packs to load",group:"Samples",min:0,max:100},"sc_backend.ACTIVATED_SCCODE_BANKS":{type:"array",label:"Activated SC Code Banks",description:"List of activated SuperCollider code banks",group:"SuperCollider"}},p=[...new Set(Object.values(f).map(T=>T.group))];async function m(){t(1,i=!0),t(2,a=null),t(3,r="");try{const T=await fetch("/api/settings");if(!T.ok)throw new Error(`Failed to fetch settings: ${T.status} ${T.statusText}`);const j=await T.json();if(j.success)t(0,n=j.settings),t(5,u={});else throw new Error(j.message||"Unknown error")}catch(T){console.error("Error loading settings:",T),t(2,a=T.message)}finally{t(1,i=!1)}}async function v(T,j){try{const I=await fetch(`/api/settings/${T}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({value:j})}),U=await I.json();if(!I.ok)throw new Error(U.message||`Failed to update setting: ${T}`);return Il(n,T,j),delete u[T],t(3,r=`Setting ${T} updated successfully`),setTimeout(()=>{t(3,r="")},3e3),!0}catch(I){return console.error(`Error saving setting ${T}:`,I),t(2,a=I.message),setTimeout(()=>{t(2,a=null)},5e3),!1}}async function b(){if(confirm("Are you sure you want to reset all settings to defaults?"))try{const T=await fetch("/api/settings/reset",{method:"POST"}),j=await T.json();if(!T.ok)throw new Error(j.message||"Failed to reset settings");t(0,n=j.settings),t(5,u={}),t(3,r="All settings reset to defaults"),setTimeout(()=>{t(3,r="")},3e3)}catch(T){console.error("Error resetting settings:",T),t(2,a=T.message),setTimeout(()=>{t(2,a=null)},5e3)}}function _(T,j){t(5,u[T]=j,u)}async function y(){const T=Object.keys(u);if(T.length===0)return;let j=!0;for(const I of T)await v(I,u[I])||(j=!1);j&&(t(5,u={}),t(3,r="All changes saved successfully"),setTimeout(()=>{t(3,r="")},3e3))}function w(T){return T in u}function S(T){return w(T)?u[T]:Hs(n,T)}function M(){return Object.keys(u).length>0}const k=se.subscribe(T=>{if(T._lastMessage)if(T._lastMessage.type==="setting_updated"){const{key:j,value:I}=T._lastMessage.data;Il(n,j,I),u[j]===I&&delete u[j]}else T._lastMessage.type==="settings_reset"&&(t(0,n=T._lastMessage.data.settings),t(5,u={}))});Ze(()=>{m()}),qt(()=>{k()});function C(T){if(M()){const j="You have unsaved changes. Are you sure you want to leave?";return T.returnValue=j,j}}Ze(()=>(window.addEventListener("beforeunload",C),()=>{window.removeEventListener("beforeunload",C)}));function h(){d=this.checked,t(4,d)}return[n,i,a,r,d,u,f,p,v,b,_,y,w,S,M,h,(T,[j,I])=>I.group===T,(T,j)=>_(T,j.target.checked),(T,j)=>_(T,Number(j.target.value)),(T,j)=>_(T,j.target.value),(T,j)=>_(T,j.target.value.split(",").map(I=>I.trim()).filter(I=>I!=="")),T=>delete u[T],T=>v(T,u[T])]}class Os extends it{constructor(e){super(),rt(this,e,Is,$s,tt,{},null,[-1,-1])}}function Ol(l,e,t){const n=l.slice();return n[12]=e[t],n}function Bs(l){let e;return{c(){e=c("div"),e.innerHTML=`<span class="relative flex h-3 w-3"><span class="relative inline-flex rounded-full h-3 w-3 bg-error"></span></span>
            Stopped`,o(e,"class","badge badge-error gap-2")},m(t,n){x(t,e,n)},d(t){t&&L(e)}}}function zs(l){let e;return{c(){e=c("div"),e.innerHTML=`<span class="relative flex h-3 w-3"><span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-success opacity-75"></span> <span class="relative inline-flex rounded-full h-3 w-3 bg-success"></span></span>
            Running`,o(e,"class","badge badge-success gap-2")},m(t,n){x(t,e,n)},d(t){t&&L(e)}}}function As(l){let e,t;return{c(){e=re("svg"),t=re("path"),o(t,"fill-rule","evenodd"),o(t,"d","M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z"),o(t,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-5 w-5 mr-2"),o(e,"viewBox","0 0 20 20"),o(e,"fill","currentColor")},m(n,i){x(n,e,i),s(e,t)},d(n){n&&L(e)}}}function Rs(l){let e;return{c(){e=c("span"),o(e,"class","loading loading-spinner loading-xs")},m(t,n){x(t,e,n)},d(t){t&&L(e)}}}function Ns(l){let e,t;return{c(){e=re("svg"),t=re("path"),o(t,"fill-rule","evenodd"),o(t,"d","M10 18a8 8 0 100-16 8 8 0 000 16zM8 7a1 1 0 00-1 1v4a1 1 0 001 1h4a1 1 0 001-1V8a1 1 0 00-1-1H8z"),o(t,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"class","h-5 w-5 mr-2"),o(e,"viewBox","0 0 20 20"),o(e,"fill","currentColor")},m(n,i){x(n,e,i),s(e,t)},d(n){n&&L(e)}}}function Ds(l){let e;return{c(){e=c("span"),o(e,"class","loading loading-spinner loading-xs")},m(t,n){x(t,e,n)},d(t){t&&L(e)}}}function Vs(l){let e,t=ge(l[3].filter(Rl)),n=[];for(let i=0;i<t.length;i+=1)n[i]=Bl(Ol(l,t,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=Et()},m(i,a){for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(i,a);x(i,e,a)},p(i,a){if(a&8){t=ge(i[3].filter(Rl));let r;for(r=0;r<t.length;r+=1){const d=Ol(i,t,r);n[r]?n[r].p(d,a):(n[r]=Bl(d),n[r].c(),n[r].m(e.parentNode,e))}for(;r<n.length;r+=1)n[r].d(1);n.length=t.length}},d(i){i&&L(e),Ye(n,i)}}}function Ps(l){let e;return{c(){e=c("div"),e.innerHTML='<p class="opacity-50 italic">No log messages yet. Start the SuperCollider backend to see output.</p>',o(e,"class","flex justify-center items-center h-full")},m(t,n){x(t,e,n)},p:J,d(t){t&&L(e)}}}function Bl(l){let e,t,n,i=l[12].timestamp+"",a,r,d,u,f,p=l[12].level+"",m,v,b,_,y=l[12].message+"",w,S,M;return{c(){e=c("div"),t=c("span"),n=A("["),a=A(i),r=A("]"),d=g(),u=c("span"),f=A("["),m=A(p),v=A("]"),b=g(),_=c("span"),w=A(y),S=g(),o(t,"class","opacity-70 mr-2"),o(u,"class","font-bold mr-2"),o(e,"class",M="mb-1 "+(l[12].level.toLowerCase()==="error"?"text-error":l[12].level.toLowerCase()==="warn"?"text-warning":l[12].level.toLowerCase()==="success"?"text-success":"text-info"))},m(k,C){x(k,e,C),s(e,t),s(t,n),s(t,a),s(t,r),s(e,d),s(e,u),s(u,f),s(u,m),s(u,v),s(e,b),s(e,_),s(_,w),s(e,S)},p(k,C){C&8&&i!==(i=k[12].timestamp+"")&&te(a,i),C&8&&p!==(p=k[12].level+"")&&te(m,p),C&8&&y!==(y=k[12].message+"")&&te(w,y),C&8&&M!==(M="mb-1 "+(k[12].level.toLowerCase()==="error"?"text-error":k[12].level.toLowerCase()==="warn"?"text-warning":k[12].level.toLowerCase()==="success"?"text-success":"text-info"))&&o(e,"class",M)},d(k){k&&L(e)}}}function zl(l){let e,t,n,i,a,r,d,u;return{c(){e=c("div"),t=re("svg"),n=re("path"),i=g(),a=c("span"),r=A(l[2]),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"stroke-width","2"),o(n,"d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"),o(t,"xmlns","http://www.w3.org/2000/svg"),o(t,"class","stroke-current shrink-0 h-6 w-6"),o(t,"fill","none"),o(t,"viewBox","0 0 24 24"),o(e,"class","alert alert-success mb-4")},m(f,p){x(f,e,p),s(e,t),s(t,n),s(e,i),s(e,a),s(a,r),u=!0},p(f,p){(!u||p&4)&&te(r,f[2])},i(f){u||(f&&et(()=>{u&&(d||(d=lt(e,nt,{duration:300},!0)),d.run(1))}),u=!0)},o(f){f&&(d||(d=lt(e,nt,{duration:300},!1)),d.run(0)),u=!1},d(f){f&&L(e),f&&d&&d.end()}}}function Al(l){let e,t,n,i,a,r,d,u;return{c(){e=c("div"),t=re("svg"),n=re("path"),i=g(),a=c("span"),r=A(l[1]),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"stroke-width","2"),o(n,"d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"),o(t,"xmlns","http://www.w3.org/2000/svg"),o(t,"class","stroke-current shrink-0 h-6 w-6"),o(t,"fill","none"),o(t,"viewBox","0 0 24 24"),o(e,"class","alert alert-error mb-4")},m(f,p){x(f,e,p),s(e,t),s(t,n),s(e,i),s(e,a),s(a,r),u=!0},p(f,p){(!u||p&2)&&te(r,f[1])},i(f){u||(f&&et(()=>{u&&(d||(d=lt(e,nt,{duration:300},!0)),d.run(1))}),u=!0)},o(f){f&&(d||(d=lt(e,nt,{duration:300},!1)),d.run(0)),u=!1},d(f){f&&L(e),f&&d&&d.end()}}}function Fs(l){let e,t,n,i,a,r,d,u,f,p,m,v,b,_,y,w,S,M,k,C,h,$,B,D,z,E,W,K,T,j,I,U,F,R,le,G,O,H,V,ie,pe,Fe,Te,ce,Be;function je(N,Z){return N[4]?zs:Bs}let we=je(l),ke=we(l);function he(N,Z){return N[0]&&!N[4]?Rs:As}let ae=he(l),ye=ae(l);function He(N,Z){return N[0]&&N[4]?Ds:Ns}let ue=He(l),be=ue(l);function De(N,Z){return Z&8&&(pe=null),pe==null&&(pe=N[3].length===0||!N[3].some(Ws)),pe?Ps:Vs}let me=De(l,-1),Ce=me(l),ne=l[2]&&zl(l),X=l[1]&&Al(l);return{c(){e=c("div"),t=c("div"),t.innerHTML='<h1 class="text-3xl font-bold mb-2 title-font">SuperCollider Backend</h1> <p class="text-base-content/70">Manage the SuperCollider backend for sound synthesis. This backend is required for producing sounds in Renardo.</p>',n=g(),i=c("div"),a=c("div"),r=c("div"),d=c("h2"),d.textContent="SuperCollider Backend Status",u=g(),ke.c(),f=g(),p=c("div"),m=c("button"),ye.c(),v=A(`
          Start SuperCollider Backend`),_=g(),y=c("button"),be.c(),w=A(`
          Stop SuperCollider Backend`),M=g(),k=c("button"),C=re("svg"),h=re("path"),$=A(`
          Refresh Status`),D=g(),z=c("div"),E=c("div"),W=c("h2"),W.textContent="Initialization Code",K=g(),T=c("p"),T.innerHTML=`Customize the code that will be executed when starting the SuperCollider backend.
        Default code includes starting Renardo and enabling MIDI support.
        <span class="label-text-alt">Default code: <code class="bg-base-300 p-1 rounded text-xs">Renardo.start; Renardo.midi;</code></span>`,j=g(),I=c("div"),U=c("label"),F=c("textarea"),le=g(),G=c("div"),O=c("div"),H=c("h2"),H.textContent="SuperCollider Log Output",V=g(),ie=c("div"),Ce.c(),Fe=g(),ne&&ne.c(),Te=g(),X&&X.c(),o(t,"class","text-center mb-8"),o(d,"class","card-title"),o(r,"class","flex justify-between items-center mb-4"),o(m,"class","btn btn-primary"),m.disabled=b=l[0]||l[4]||!l[6].connected,o(y,"class","btn btn-error"),y.disabled=S=l[0]||!l[4]||!l[6].connected,o(h,"fill-rule","evenodd"),o(h,"d","M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z"),o(h,"clip-rule","evenodd"),o(C,"xmlns","http://www.w3.org/2000/svg"),o(C,"class","h-5 w-5 mr-2"),o(C,"viewBox","0 0 20 20"),o(C,"fill","currentColor"),o(k,"class","btn btn-outline"),k.disabled=B=l[0]||!l[6].connected,o(p,"class","flex flex-wrap gap-2"),o(a,"class","card-body"),o(i,"class","card bg-base-100 shadow-xl mb-8"),o(W,"class","card-title"),o(T,"class","text-base-content/70 mb-4"),o(F,"id","sclangCode"),o(F,"class","textarea textarea-bordered font-mono h-32 w-full"),o(F,"placeholder","Enter SuperCollider initialization code..."),F.disabled=R=l[4]||l[0],o(U,"for","sclangCode"),o(U,"class","form-control w-full"),o(I,"class","form-control"),o(E,"class","card-body"),o(z,"class","card bg-base-100 shadow-xl mb-8"),o(H,"class","card-title"),o(ie,"class","bg-base-300 rounded-lg p-4 h-[300px] overflow-y-auto font-mono text-sm"),o(O,"class","card-body"),o(G,"class","card bg-base-100 shadow-xl mb-8"),o(e,"class","container mx-auto px-4 py-8 max-w-4xl")},m(N,Z){x(N,e,Z),s(e,t),s(e,n),s(e,i),s(i,a),s(a,r),s(r,d),s(r,u),ke.m(r,null),s(a,f),s(a,p),s(p,m),ye.m(m,null),s(m,v),s(p,_),s(p,y),be.m(y,null),s(y,w),s(p,M),s(p,k),s(k,C),s(C,h),s(k,$),s(e,D),s(e,z),s(z,E),s(E,W),s(E,K),s(E,T),s(E,j),s(E,I),s(I,U),s(U,F),Pt(F,l[5]),s(e,le),s(e,G),s(G,O),s(O,H),s(O,V),s(O,ie),Ce.m(ie,null),s(e,Fe),ne&&ne.m(e,null),s(e,Te),X&&X.m(e,null),ce||(Be=[q(m,"click",l[7]),q(y,"click",l[9]),q(k,"click",l[8]),q(F,"input",l[10])],ce=!0)},p(N,[Z]){we!==(we=je(N))&&(ke.d(1),ke=we(N),ke&&(ke.c(),ke.m(r,null))),ae!==(ae=he(N))&&(ye.d(1),ye=ae(N),ye&&(ye.c(),ye.m(m,v))),Z&81&&b!==(b=N[0]||N[4]||!N[6].connected)&&(m.disabled=b),ue!==(ue=He(N))&&(be.d(1),be=ue(N),be&&(be.c(),be.m(y,w))),Z&81&&S!==(S=N[0]||!N[4]||!N[6].connected)&&(y.disabled=S),Z&65&&B!==(B=N[0]||!N[6].connected)&&(k.disabled=B),Z&17&&R!==(R=N[4]||N[0])&&(F.disabled=R),Z&32&&Pt(F,N[5]),me===(me=De(N,Z))&&Ce?Ce.p(N,Z):(Ce.d(1),Ce=me(N),Ce&&(Ce.c(),Ce.m(ie,null))),N[2]?ne?(ne.p(N,Z),Z&4&&_e(ne,1)):(ne=zl(N),ne.c(),_e(ne,1),ne.m(e,Te)):ne&&(Tt(),$e(ne,1,1,()=>{ne=null}),jt()),N[1]?X?(X.p(N,Z),Z&2&&_e(X,1)):(X=Al(N),X.c(),_e(X,1),X.m(e,null)):X&&(Tt(),$e(X,1,1,()=>{X=null}),jt())},i(N){_e(ne),_e(X)},o(N){$e(ne),$e(X)},d(N){N&&L(e),ke.d(),ye.d(),be.d(),Ce.d(),ne&&ne.d(),X&&X.d(),ce=!1,Oe(Be)}}}const Ws=l=>l.message.includes("SC")||l.message.includes("SuperCollider")||l.message.includes("sclang"),Rl=l=>l.message.includes("SC")||l.message.includes("SuperCollider")||l.message.includes("sclang");function Ks(l,e,t){let n;zt(l,se,y=>t(6,n=y));let i=!1,a=null,r="",d=[],u=!1,f="Renardo.start; Renardo.midi;",p;Ze(()=>{p=se.subscribe(y=>{if(t(3,d=y.logMessages||[]),y.runtimeStatus&&y.runtimeStatus.scBackendRunning!==void 0&&t(4,u=y.runtimeStatus.scBackendRunning),y._lastMessage){const w=y._lastMessage;w.type==="sc_backend_status"&&(t(4,u=w.data.running),w.data.running&&(t(2,r="SuperCollider backend started successfully"),setTimeout(()=>{t(2,r="")},3e3)))}}),v()}),qt(()=>{p&&p()});function m(){t(0,i=!0),t(1,a=null),t(2,r=""),Ie({type:"start_sc_backend",data:{customCode:f}})}function v(){Ie({type:"get_sc_backend_status"})}function b(){t(0,i=!0),t(1,a=null),Ie({type:"stop_sc_backend"})}function _(){f=this.value,t(5,f)}return[i,a,r,d,u,f,n,m,v,b,_]}class Us extends it{constructor(e){super(),rt(this,e,Ks,Fs,tt,{})}}function Nl(l,e,t){const n=l.slice();return n[5]=e[t],n}function Dl(l){let e,t,n,i,a,r,d,u,f,p,m,v;function b(){return l[3](l[5])}function _(...y){return l[4](l[5],...y)}return{c(){e=c("button"),t=c("div"),n=c("h3"),n.textContent=`${l[5].name}`,i=g(),a=c("div"),a.innerHTML='<span class="badge badge-primary">Primary</span> <span class="badge badge-secondary">Secondary</span>',r=g(),d=c("div"),d.innerHTML='<span class="badge badge-accent">Accent</span> <span class="badge badge-neutral">Neutral</span>',u=g(),o(n,"class","card-title justify-center mb-2 title-font"),o(a,"class","flex justify-center gap-2"),o(d,"class","flex justify-center gap-2 mt-2"),o(t,"class","card-body p-4 text-center"),o(t,"data-theme",l[5].value),an(t,"min-height","120px"),o(e,"class",f="card overflow-hidden cursor-pointer border-4 transition-all w-full text-left "+(l[0]===l[5].value?"border-primary":"border-transparent hover:border-base-300")),o(e,"role","radio"),o(e,"aria-checked",p=l[0]===l[5].value)},m(y,w){x(y,e,w),s(e,t),s(t,n),s(t,i),s(t,a),s(t,r),s(t,d),s(e,u),m||(v=[q(e,"click",b),q(e,"keydown",_)],m=!0)},p(y,w){l=y,w&1&&f!==(f="card overflow-hidden cursor-pointer border-4 transition-all w-full text-left "+(l[0]===l[5].value?"border-primary":"border-transparent hover:border-base-300"))&&o(e,"class",f),w&1&&p!==(p=l[0]===l[5].value)&&o(e,"aria-checked",p)},d(y){y&&L(e),m=!1,Oe(v)}}}function qs(l){let e,t,n,i,a,r,d,u=ge(l[1]),f=[];for(let p=0;p<u.length;p+=1)f[p]=Dl(Nl(l,u,p));return{c(){e=c("div"),t=c("div"),n=c("h2"),n.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 mr-2"><path stroke-linecap="round" stroke-linejoin="round" d="M4.098 19.902a3.75 3.75 0 005.304 0l6.401-6.402M6.75 21A3.75 3.75 0 013 17.25V4.125C3 3.504 3.504 3 4.125 3h5.25c.621 0 1.125.504 1.125 1.125v4.072M6.75 21a3.75 3.75 0 003.75-3.75V8.197M6.75 21h13.125c.621 0 1.125-.504 1.125-1.125v-5.25c0-.621-.504-1.125-1.125-1.125h-4.072M10.5 8.197l2.88-2.88c.438-.439 1.15-.439 1.59 0l3.712 3.713c.44.44.44 1.152 0 1.59l-2.879 2.88M6.75 17.25h.008v.008H6.75v-.008z"></path></svg>
      Theme Selection`,i=g(),a=c("p"),a.textContent="Customize your Renardo experience with different visual themes.",r=g(),d=c("div");for(let p=0;p<f.length;p+=1)f[p].c();o(n,"class","card-title title-font"),o(a,"class","text-base-content/70 mb-4"),o(d,"class","grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"),o(d,"role","radiogroup"),o(d,"aria-label","Select a theme"),o(t,"class","card-body"),o(e,"class","card bg-base-100 shadow-xl mb-8")},m(p,m){x(p,e,m),s(e,t),s(t,n),s(t,i),s(t,a),s(t,r),s(t,d);for(let v=0;v<f.length;v+=1)f[v]&&f[v].m(d,null)},p(p,[m]){if(m&7){u=ge(p[1]);let v;for(v=0;v<u.length;v+=1){const b=Nl(p,u,v);f[v]?f[v].p(b,m):(f[v]=Dl(b),f[v].c(),f[v].m(d,null))}for(;v<f.length;v+=1)f[v].d(1);f.length=u.length}},i:J,o:J,d(p){p&&L(e),Ye(f,p)}}}function Js(l,e,t){const n=[{name:"Renardo",value:"default",color:"#ff00ff"},{name:"Light",value:"light",color:"#ffffff"},{name:"Dark",value:"dark",color:"#2A303C"},{name:"Synthwave",value:"synthwave",color:"#e779c1"},{name:"Coffee",value:"coffee",color:"#6f4e37"},{name:"Pastel",value:"pastel",color:"#bbdefb"},{name:"Cyberpunk",value:"cyberpunk",color:"#5fff4f"}];let i="default";Ze(()=>{const u=localStorage.getItem("theme");u?(t(0,i=u),document.documentElement.setAttribute("data-theme",u)):(document.documentElement.setAttribute("data-theme",i),localStorage.setItem("theme",i))});function a(u){document.documentElement.setAttribute("data-theme",u),localStorage.setItem("theme",u),t(0,i=u)}return[i,n,a,u=>a(u.value),(u,f)=>f.key==="Enter"&&a(u.value)]}class Ys extends it{constructor(e){super(),rt(this,e,Js,qs,tt,{})}}function Gs(l){let e;return{c(){e=c("div"),e.innerHTML=`<span class="relative flex h-2 w-2"><span class="animate-ping absolute inline-flex h-full w-full rounded-full opacity-75 bg-warning"></span> <span class="relative inline-flex rounded-full h-2 w-2 bg-warning"></span></span>
            HTTP Fallback`,o(e,"class","badge badge-warning gap-2 ml-2")},m(t,n){x(t,e,n)},p:J,d(t){t&&L(e)}}}function Xs(l){let e,t,n,i,a,r,d,u,f=l[2].connected?"Connected":"Disconnected",p,m;return{c(){e=c("div"),t=c("span"),n=c("span"),a=g(),r=c("span"),u=g(),p=A(f),o(n,"class",i="animate-ping absolute inline-flex h-full w-full rounded-full opacity-75 "+(l[2].connected?"bg-success":"bg-error")),o(r,"class",d="relative inline-flex rounded-full h-2 w-2 "+(l[2].connected?"bg-success":"bg-error")),o(t,"class","relative flex h-2 w-2"),o(e,"class",m="badge "+(l[2].connected?"badge-success":"badge-error")+" gap-2 ml-2")},m(v,b){x(v,e,b),s(e,t),s(t,n),s(t,a),s(t,r),s(e,u),s(e,p)},p(v,b){b&4&&i!==(i="animate-ping absolute inline-flex h-full w-full rounded-full opacity-75 "+(v[2].connected?"bg-success":"bg-error"))&&o(n,"class",i),b&4&&d!==(d="relative inline-flex rounded-full h-2 w-2 "+(v[2].connected?"bg-success":"bg-error"))&&o(r,"class",d),b&4&&f!==(f=v[2].connected?"Connected":"Disconnected")&&te(p,f),b&4&&m!==(m="badge "+(v[2].connected?"badge-success":"badge-error")+" gap-2 ml-2")&&o(e,"class",m)},d(v){v&&L(e)}}}function Qs(l){let e,t;return e=new Us({}),{c(){mt(e.$$.fragment)},m(n,i){st(e,n,i),t=!0},p:J,i(n){t||(_e(e.$$.fragment,n),t=!0)},o(n){$e(e.$$.fragment,n),t=!1},d(n){ot(e,n)}}}function Zs(l){let e,t;return e=new Os({}),{c(){mt(e.$$.fragment)},m(n,i){st(e,n,i),t=!0},p:J,i(n){t||(_e(e.$$.fragment,n),t=!0)},o(n){$e(e.$$.fragment,n),t=!1},d(n){ot(e,n)}}}function eo(l){let e,t;return e=new ws({}),{c(){mt(e.$$.fragment)},m(n,i){st(e,n,i),t=!0},p:J,i(n){t||(_e(e.$$.fragment,n),t=!0)},o(n){$e(e.$$.fragment,n),t=!1},d(n){ot(e,n)}}}function to(l){let e,t;return e=new ts({}),{c(){mt(e.$$.fragment)},m(n,i){st(e,n,i),t=!0},p:J,i(n){t||(_e(e.$$.fragment,n),t=!0)},o(n){$e(e.$$.fragment,n),t=!1},d(n){ot(e,n)}}}function lo(l){let e,t;return e=new Kn({}),{c(){mt(e.$$.fragment)},m(n,i){st(e,n,i),t=!0},p:J,i(n){t||(_e(e.$$.fragment,n),t=!0)},o(n){$e(e.$$.fragment,n),t=!1},d(n){ot(e,n)}}}function no(l){let e,t,n,i,a,r=(l[2].welcomeText||"Create music with the Renardo live coding environment")+"",d,u,f,p,m,v,b,_,y,w,S,M,k,C,h,$,B,D,z,E,W,K,T,j,I,U,F,R,le,G,O,H,V,ie,pe,Fe,Te,ce,Be,je,we,ke,he,ae,ye,He,ue,be,De,me,Ce,ne,X,N,Z,Me,Ve,ze,We,Ke;Z=new Ys({});let Se=l[3]&&so(l),ve=l[2].error&&Pl(l);return{c(){e=c("div"),t=c("div"),n=c("h1"),n.textContent="Renardo (Web)",i=g(),a=c("p"),d=A(r),u=g(),f=c("div"),p=c("div"),m=c("h2"),m.textContent="Getting Started >>",v=g(),b=c("p"),b.textContent="Follow these steps to setup and use Renardo for live music coding.",_=g(),y=c("div"),w=c("div"),S=c("div"),M=c("div"),M.innerHTML='<div class="bg-primary text-primary-content rounded-full w-8 h-8 flex items-center justify-center"><span class="font-bold">1</span></div> <h3 class="text-lg font-medium title-font">Initialize Renardo</h3>',k=g(),C=c("p"),C.textContent="Set up SuperCollider, download samples, and install instruments.",h=g(),$=c("div"),B=c("button"),B.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 mr-1"><path stroke-linecap="round" stroke-linejoin="round" d="M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z"></path></svg>
                        Get Started`,D=g(),z=c("div"),E=c("div"),W=c("div"),W.innerHTML='<div class="bg-success text-success-content rounded-full w-8 h-8 flex items-center justify-center"><span class="font-bold">2</span></div> <h3 class="text-lg font-medium title-font">Live Coding Editor</h3>',K=g(),T=c("p"),T.textContent="Create music with the Renardo live coding environment.",j=g(),I=c("div"),U=c("button"),U.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 mr-1"><path stroke-linecap="round" stroke-linejoin="round" d="M14.25 9.75L16.5 12l-2.25 2.25m-4.5 0L7.5 12l2.25-2.25M6 20.25h12A2.25 2.25 0 0020.25 18V6A2.25 2.25 0 0018 3.75H6A2.25 2.25 0 003.75 6v12A2.25 2.25 0 006 20.25z"></path></svg>
                        Open Editor`,F=g(),R=c("div"),le=c("div"),G=c("div"),G.innerHTML='<div class="bg-warning text-warning-content rounded-full w-8 h-8 flex items-center justify-center"><span class="font-bold">3</span></div> <h3 class="text-lg font-medium title-font">SuperCollider Backend</h3>',O=g(),H=c("p"),H.textContent="Configure and start the SuperCollider sound synthesis engine.",V=g(),ie=c("div"),pe=c("button"),pe.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 mr-1"><path stroke-linecap="round" stroke-linejoin="round" d="M9 9l10.5-3m0 6.553v3.75a2.25 2.25 0 01-1.632 2.163l-1.32.377a1.803 1.803 0 11-.99-3.467l2.31-.66A2.25 2.25 0 0019.5 12.553v-2.803M9 9l-2.25 6.553M9 9a2.25 2.25 0 00-2.25 2.25v9m0-18c0-.83.67-1.5 1.5-1.5h12c.83 0 1.5.67 1.5 1.5M19.5 21c0 .83-.67 1.5-1.5 1.5h-12c-.83 0-1.5-.67-1.5-1.5"></path></svg>
                        Manage Backend`,Fe=g(),Te=c("div"),ce=c("div"),Be=c("div"),Be.innerHTML='<div class="bg-accent text-accent-content rounded-full w-8 h-8 flex items-center justify-center"><span class="font-bold">4</span></div> <h3 class="text-lg font-medium title-font">Additional Collections</h3>',je=g(),we=c("p"),we.textContent="Download additional sample packs and instruments.",ke=g(),he=c("div"),ae=c("button"),ae.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 mr-1"><path stroke-linecap="round" stroke-linejoin="round" d="M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z"></path></svg>
                        Browse Collections`,ye=g(),He=c("div"),ue=c("div"),be=c("div"),be.innerHTML='<div class="bg-neutral text-neutral-content rounded-full w-8 h-8 flex items-center justify-center"><span class="font-bold">5</span></div> <h3 class="text-lg font-medium title-font">Configuration</h3>',De=g(),me=c("p"),me.textContent="Manage application settings and preferences.",Ce=g(),ne=c("div"),X=c("button"),X.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 mr-1"><path stroke-linecap="round" stroke-linejoin="round" d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
                        Settings`,N=g(),mt(Z.$$.fragment),Me=g(),Se&&Se.c(),Ve=g(),ve&&ve.c(),o(n,"class","text-3xl font-bold mb-2 title-font"),o(a,"class","text-base-content/70"),o(t,"class","text-center mb-8"),o(m,"class","card-title text-xl title-font"),o(b,"class","text-base-content/70 mb-4"),o(M,"class","flex items-center gap-3 mb-3"),o(C,"class","text-sm mb-4"),o(B,"class","btn btn-primary btn-sm"),o($,"class","card-actions justify-end"),o(S,"class","card-body p-4"),o(w,"class","card bg-base-200 hover:shadow-md transition-shadow"),o(W,"class","flex items-center gap-3 mb-3"),o(T,"class","text-sm mb-4"),o(U,"class","btn btn-success btn-sm"),o(I,"class","card-actions justify-end"),o(E,"class","card-body p-4"),o(z,"class","card bg-base-200 hover:shadow-md transition-shadow"),o(G,"class","flex items-center gap-3 mb-3"),o(H,"class","text-sm mb-4"),o(pe,"class","btn btn-warning btn-sm"),o(ie,"class","card-actions justify-end"),o(le,"class","card-body p-4"),o(R,"class","card bg-base-200 hover:shadow-md transition-shadow"),o(Be,"class","flex items-center gap-3 mb-3"),o(we,"class","text-sm mb-4"),o(ae,"class","btn btn-accent btn-sm"),o(he,"class","card-actions justify-end"),o(ce,"class","card-body p-4"),o(Te,"class","card bg-base-200 hover:shadow-md transition-shadow"),o(be,"class","flex items-center gap-3 mb-3"),o(me,"class","text-sm mb-4"),o(X,"class","btn btn-neutral btn-sm"),o(ne,"class","card-actions justify-end"),o(ue,"class","card-body p-4"),o(He,"class","card bg-base-200 hover:shadow-md transition-shadow md:col-span-2"),o(y,"class","grid grid-cols-1 md:grid-cols-2 gap-6"),o(p,"class","card-body"),o(f,"class","card bg-base-100 shadow-xl mb-8"),o(e,"class","container mx-auto px-4 py-8 max-w-4xl")},m(ee,fe){x(ee,e,fe),s(e,t),s(t,n),s(t,i),s(t,a),s(a,d),s(e,u),s(e,f),s(f,p),s(p,m),s(p,v),s(p,b),s(p,_),s(p,y),s(y,w),s(w,S),s(S,M),s(S,k),s(S,C),s(S,h),s(S,$),s($,B),s(y,D),s(y,z),s(z,E),s(E,W),s(E,K),s(E,T),s(E,j),s(E,I),s(I,U),s(y,F),s(y,R),s(R,le),s(le,G),s(le,O),s(le,H),s(le,V),s(le,ie),s(ie,pe),s(y,Fe),s(y,Te),s(Te,ce),s(ce,Be),s(ce,je),s(ce,we),s(ce,ke),s(ce,he),s(he,ae),s(y,ye),s(y,He),s(He,ue),s(ue,be),s(ue,De),s(ue,me),s(ue,Ce),s(ue,ne),s(ne,X),s(e,N),st(Z,e,null),s(e,Me),Se&&Se.m(e,null),s(e,Ve),ve&&ve.m(e,null),ze=!0,We||(Ke=[q(B,"click",l[6]),q(U,"click",l[7]),q(pe,"click",l[8]),q(ae,"click",l[9]),q(X,"click",l[10])],We=!0)},p(ee,fe){(!ze||fe&4)&&r!==(r=(ee[2].welcomeText||"Create music with the Renardo live coding environment")+"")&&te(d,r),ee[3]&&Se.p(ee,fe),ee[2].error?ve?ve.p(ee,fe):(ve=Pl(ee),ve.c(),ve.m(e,null)):ve&&(ve.d(1),ve=null)},i(ee){ze||(_e(Z.$$.fragment,ee),ze=!0)},o(ee){$e(Z.$$.fragment,ee),ze=!1},d(ee){ee&&L(e),ot(Z),Se&&Se.d(),ve&&ve.d(),We=!1,Oe(Ke)}}}function so(l){let e,t,n,i,a,r,d,u,f,p,m,v;function b(S,M){return S[2].connected?ro:oo}let _=b(l),y=_(l),w=l[2].runtimeStatus&&Vl(l);return{c(){e=c("div"),t=c("div"),n=c("h2"),n.textContent="System Status >>",i=g(),a=c("div"),r=c("table"),d=c("tbody"),u=c("tr"),f=c("td"),f.textContent="WebSocket Connection",p=g(),m=c("td"),y.c(),v=g(),w&&w.c(),o(n,"class","card-title title-font"),o(f,"class","font-medium"),o(r,"class","table table-zebra"),o(a,"class","overflow-x-auto"),o(t,"class","card-body"),o(e,"class","card bg-base-100 shadow-xl mb-8")},m(S,M){x(S,e,M),s(e,t),s(t,n),s(t,i),s(t,a),s(a,r),s(r,d),s(d,u),s(u,f),s(u,p),s(u,m),y.m(m,null),s(d,v),w&&w.m(d,null)},p(S,M){_!==(_=b(S))&&(y.d(1),y=_(S),y&&(y.c(),y.m(m,null))),S[2].runtimeStatus?w?w.p(S,M):(w=Vl(S),w.c(),w.m(d,null)):w&&(w.d(1),w=null)},d(S){S&&L(e),y.d(),w&&w.d()}}}function oo(l){let e;return{c(){e=c("div"),e.innerHTML=`<span class="relative flex h-2 w-2"><span class="relative inline-flex rounded-full h-2 w-2 bg-error"></span></span>
                              Disconnected`,o(e,"class","badge badge-error gap-2")},m(t,n){x(t,e,n)},d(t){t&&L(e)}}}function ro(l){let e;return{c(){e=c("div"),e.innerHTML=`<span class="relative flex h-2 w-2"><span class="animate-ping absolute inline-flex h-full w-full rounded-full opacity-75 bg-success"></span> <span class="relative inline-flex rounded-full h-2 w-2 bg-success"></span></span>
                              Connected`,o(e,"class","badge badge-success gap-2")},m(t,n){x(t,e,n)},d(t){t&&L(e)}}}function Vl(l){let e,t,n,i,a,r,d,u,f;function p(w,S){return w[2].runtimeStatus.scBackendRunning?ao:io}let m=p(l),v=m(l);function b(w,S){return w[2].runtimeStatus.renardoRuntimeRunning?uo:co}let _=b(l),y=_(l);return{c(){e=c("tr"),t=c("td"),t.textContent="SuperCollider Backend",n=g(),i=c("td"),v.c(),a=g(),r=c("tr"),d=c("td"),d.textContent="Renardo Runtime",u=g(),f=c("td"),y.c(),o(t,"class","font-medium"),o(d,"class","font-medium")},m(w,S){x(w,e,S),s(e,t),s(e,n),s(e,i),v.m(i,null),x(w,a,S),x(w,r,S),s(r,d),s(r,u),s(r,f),y.m(f,null)},p(w,S){m!==(m=p(w))&&(v.d(1),v=m(w),v&&(v.c(),v.m(i,null))),_!==(_=b(w))&&(y.d(1),y=_(w),y&&(y.c(),y.m(f,null)))},d(w){w&&(L(e),L(a),L(r)),v.d(),y.d()}}}function io(l){let e;return{c(){e=c("div"),e.textContent="Stopped",o(e,"class","badge badge-error gap-2")},m(t,n){x(t,e,n)},d(t){t&&L(e)}}}function ao(l){let e;return{c(){e=c("div"),e.textContent="Running",o(e,"class","badge badge-success gap-2")},m(t,n){x(t,e,n)},d(t){t&&L(e)}}}function co(l){let e;return{c(){e=c("div"),e.textContent="Stopped",o(e,"class","badge badge-error gap-2")},m(t,n){x(t,e,n)},d(t){t&&L(e)}}}function uo(l){let e;return{c(){e=c("div"),e.textContent="Running",o(e,"class","badge badge-success gap-2")},m(t,n){x(t,e,n)},d(t){t&&L(e)}}}function Pl(l){let e,t,n,i,a,r,d=l[2].error+"",u;return{c(){e=c("div"),t=re("svg"),n=re("path"),i=g(),a=c("span"),r=A("Error: "),u=A(d),o(n,"stroke-linecap","round"),o(n,"stroke-linejoin","round"),o(n,"stroke-width","2"),o(n,"d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"),o(t,"xmlns","http://www.w3.org/2000/svg"),o(t,"class","stroke-current shrink-0 h-6 w-6"),o(t,"fill","none"),o(t,"viewBox","0 0 24 24"),o(e,"class","alert alert-error mb-8")},m(f,p){x(f,e,p),s(e,t),s(t,n),s(e,i),s(e,a),s(a,r),s(a,u)},p(f,p){p&4&&d!==(d=f[2].error+"")&&te(u,d)},d(f){f&&L(e)}}}function fo(l){let e,t,n,i,a,r,d,u,f,p,m,v,b,_,y,w,S,M,k,C,h,$,B,D,z,E,W,K,T,j,I,U,F,R,le,G,O,H,V,ie,pe,Fe,Te,ce,Be,je,we,ke,he,ae,ye,He,ue,be,De,me,Ce,ne,X,N,Z,Me,Ve,ze,We,Ke,Se,ve,ee,fe,Ge,at,Ae,xe,Xe,ct,Re,kt,Ue,Ne,dt,oe,Pe,yt;function gt(Y,Q){return Y[3]?Xs:Gs}let ut=gt(l)(l);const ft=[no,lo,to,eo,Zs,Qs],Le=[];function Ct(Y,Q){return Y[0]==="home"?0:Y[0]==="init"?1:Y[0]==="editor"?2:Y[0]==="collections"?3:Y[0]==="config"?4:Y[0]==="scbackend"?5:-1}return~(I=Ct(l))&&(U=Le[I]=ft[I](l)),{c(){e=c("div"),t=c("input"),n=g(),i=c("div"),a=c("div"),r=c("div"),r.innerHTML='<label for="drawer-toggle" class="btn btn-square btn-ghost drawer-button lg:hidden"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="inline-block w-5 h-5 stroke-current"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg></label> <a href="#home" class="btn btn-ghost text-xl">Renardo ฅ^•ﻌ•^ฅ</a>',d=g(),u=c("div"),f=c("ul"),p=c("li"),m=c("a"),m.textContent="Home",v=g(),b=c("li"),_=c("a"),_.textContent="Initialize",y=g(),w=c("li"),S=c("a"),S.textContent="Code Editor",M=g(),k=c("li"),C=c("a"),C.textContent="Collections",h=g(),$=c("li"),B=c("a"),B.textContent="SuperCollider",D=g(),z=c("li"),E=c("a"),E.textContent="Settings",W=g(),K=c("div"),ut.c(),T=g(),j=c("div"),U&&U.c(),F=g(),R=c("div"),le=c("label"),G=g(),O=c("ul"),H=c("li"),H.textContent="Renardo ฅ^•ﻌ•^ฅ",V=g(),ie=c("li"),pe=c("a"),pe.textContent="Home",Fe=g(),Te=c("li"),ce=c("a"),ce.textContent="Initialize",Be=g(),je=c("li"),we=c("a"),we.textContent="Code Editor",ke=g(),he=c("li"),ae=c("a"),ae.textContent="Collections",ye=g(),He=c("li"),ue=c("a"),ue.textContent="SuperCollider",be=g(),De=c("li"),me=c("a"),me.textContent="Settings",Ce=g(),ne=c("div"),X=g(),N=c("li"),N.textContent="Choose Theme",Z=g(),Me=c("div"),Ve=c("button"),ze=A("🦄 Default"),Ke=g(),Se=c("button"),ve=A("🎸 Synthwave"),fe=g(),Ge=c("button"),at=A("☕ Coffee"),xe=g(),Xe=c("button"),ct=A("🎨 Pastel"),kt=g(),Ue=c("button"),Ne=A("🤖 Cyberpunk"),o(t,"id","drawer-toggle"),o(t,"type","checkbox"),o(t,"class","drawer-toggle"),o(r,"class","navbar-start"),o(m,"href","#home"),de(m,"active",l[0]==="home"),o(_,"href","#init"),de(_,"active",l[0]==="init"),o(S,"href","#editor"),de(S,"active",l[0]==="editor"),o(C,"href","#collections"),de(C,"active",l[0]==="collections"),o(B,"href","#scbackend"),de(B,"active",l[0]==="scbackend"),o(E,"href","#config"),de(E,"active",l[0]==="config"),o(f,"class","menu menu-horizontal px-1"),o(u,"class","navbar-center hidden lg:flex"),o(K,"class","navbar-end"),o(a,"class","navbar bg-base-300"),o(j,"class","min-h-screen bg-base-100"),o(i,"class","drawer-content flex flex-col"),o(le,"for","drawer-toggle"),o(le,"aria-label","close sidebar"),o(le,"class","drawer-overlay"),o(H,"class","menu-title"),o(pe,"href","#home"),de(pe,"active",l[0]==="home"),o(ce,"href","#init"),de(ce,"active",l[0]==="init"),o(we,"href","#editor"),de(we,"active",l[0]==="editor"),o(ae,"href","#collections"),de(ae,"active",l[0]==="collections"),o(ue,"href","#scbackend"),de(ue,"active",l[0]==="scbackend"),o(me,"href","#config"),de(me,"active",l[0]==="config"),o(ne,"class","divider my-2"),o(N,"class","menu-title title-font"),o(Ve,"class",We="btn btn-sm "+(l[1]==="default"?"btn-primary":"btn-outline")),o(Se,"class",ee="btn btn-sm "+(l[1]==="synthwave"?"btn-primary":"btn-outline")),o(Ge,"class",Ae="btn btn-sm "+(l[1]==="coffee"?"btn-primary":"btn-outline")),o(Xe,"class",Re="btn btn-sm "+(l[1]==="pastel"?"btn-primary":"btn-outline")),o(Ue,"class",dt="btn btn-sm "+(l[1]==="cyberpunk"?"btn-primary":"btn-outline")),o(Me,"class","grid grid-cols-2 gap-2 p-2"),o(O,"class","menu p-4 w-64 min-h-full bg-base-200 text-base-content"),o(R,"class","drawer-side z-50"),o(e,"class","drawer")},m(Y,Q){x(Y,e,Q),s(e,t),s(e,n),s(e,i),s(i,a),s(a,r),s(a,d),s(a,u),s(u,f),s(f,p),s(p,m),s(f,v),s(f,b),s(b,_),s(f,y),s(f,w),s(w,S),s(f,M),s(f,k),s(k,C),s(f,h),s(f,$),s($,B),s(f,D),s(f,z),s(z,E),s(a,W),s(a,K),ut.m(K,null),s(i,T),s(i,j),~I&&Le[I].m(j,null),s(e,F),s(e,R),s(R,le),s(R,G),s(R,O),s(O,H),s(O,V),s(O,ie),s(ie,pe),s(O,Fe),s(O,Te),s(Te,ce),s(O,Be),s(O,je),s(je,we),s(O,ke),s(O,he),s(he,ae),s(O,ye),s(O,He),s(He,ue),s(O,be),s(O,De),s(De,me),s(O,Ce),s(O,ne),s(O,X),s(O,N),s(O,Z),s(O,Me),s(Me,Ve),s(Ve,ze),s(Me,Ke),s(Me,Se),s(Se,ve),s(Me,fe),s(Me,Ge),s(Ge,at),s(Me,xe),s(Me,Xe),s(Xe,ct),s(Me,kt),s(Me,Ue),s(Ue,Ne),oe=!0,Pe||(yt=[q(Ve,"click",l[11]),q(Se,"click",l[12]),q(Ge,"click",l[13]),q(Xe,"click",l[14]),q(Ue,"click",l[15])],Pe=!0)},p(Y,[Q]){(!oe||Q&1)&&de(m,"active",Y[0]==="home"),(!oe||Q&1)&&de(_,"active",Y[0]==="init"),(!oe||Q&1)&&de(S,"active",Y[0]==="editor"),(!oe||Q&1)&&de(C,"active",Y[0]==="collections"),(!oe||Q&1)&&de(B,"active",Y[0]==="scbackend"),(!oe||Q&1)&&de(E,"active",Y[0]==="config"),ut.p(Y,Q);let P=I;I=Ct(Y),I===P?~I&&Le[I].p(Y,Q):(U&&(Tt(),$e(Le[P],1,1,()=>{Le[P]=null}),jt()),~I?(U=Le[I],U?U.p(Y,Q):(U=Le[I]=ft[I](Y),U.c()),_e(U,1),U.m(j,null)):U=null),(!oe||Q&1)&&de(pe,"active",Y[0]==="home"),(!oe||Q&1)&&de(ce,"active",Y[0]==="init"),(!oe||Q&1)&&de(we,"active",Y[0]==="editor"),(!oe||Q&1)&&de(ae,"active",Y[0]==="collections"),(!oe||Q&1)&&de(ue,"active",Y[0]==="scbackend"),(!oe||Q&1)&&de(me,"active",Y[0]==="config"),(!oe||Q&2&&We!==(We="btn btn-sm "+(Y[1]==="default"?"btn-primary":"btn-outline")))&&o(Ve,"class",We),(!oe||Q&2&&ee!==(ee="btn btn-sm "+(Y[1]==="synthwave"?"btn-primary":"btn-outline")))&&o(Se,"class",ee),(!oe||Q&2&&Ae!==(Ae="btn btn-sm "+(Y[1]==="coffee"?"btn-primary":"btn-outline")))&&o(Ge,"class",Ae),(!oe||Q&2&&Re!==(Re="btn btn-sm "+(Y[1]==="pastel"?"btn-primary":"btn-outline")))&&o(Xe,"class",Re),(!oe||Q&2&&dt!==(dt="btn btn-sm "+(Y[1]==="cyberpunk"?"btn-primary":"btn-outline")))&&o(Ue,"class",dt)},i(Y){oe||(_e(U),oe=!0)},o(Y){$e(U),oe=!1},d(Y){Y&&L(e),ut.d(),~I&&Le[I].d(),Pe=!1,Oe(yt)}}}function po(l,e,t){let n;if(zt(l,se,C=>t(2,n=C)),typeof document<"u"){const C=document.createElement("link");C.rel="stylesheet",C.href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.css",document.head.appendChild(C);const h=document.createElement("link");if(h.rel="stylesheet",h.href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/theme/monokai.min.css",document.head.appendChild(h),typeof window.CodeMirror>"u"){const $=document.createElement("script");$.src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.js",$.onload=function(){const B=document.createElement("script");B.src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/python/python.min.js",document.head.appendChild(B)},document.head.appendChild($)}}let i="home",a="default";const r="WebSocket"in window;Ze(()=>{const C=localStorage.getItem("theme");if(C?(t(1,a=C),document.documentElement.setAttribute("data-theme",C)):(document.documentElement.setAttribute("data-theme",a),localStorage.setItem("theme",a)),r){let $=function(){const B=window.location.hash.replace("#","");t(0,i=B||"home"),n.connected&&Ie({type:"get_renardo_status"})};var h=$;return Gl(),setTimeout(()=>{n.connected&&(Ie({type:"get_state"}),Ie({type:"get_renardo_status"}))},500),$(),window.addEventListener("hashchange",$),()=>{window.removeEventListener("hashchange",$)}}else d()});async function d(){try{const C=await fetch("/api/state");if(!C.ok)throw new Error(`HTTP error ${C.status}`);const h=await C.json();Yt(se,n={...n,counter:h.counter,welcomeText:h.welcome_text,error:null},n)}catch(C){console.error("Error fetching state:",C),Yt(se,n.error="Failed to fetch state from server",n)}}function u(C){window.location.hash=`#${C}`,t(0,i=C)}function f(C){document.documentElement.setAttribute("data-theme",C),localStorage.setItem("theme",C),t(1,a=C)}return[i,a,n,r,u,f,()=>u("init"),()=>u("editor"),()=>u("scbackend"),()=>u("collections"),()=>u("config"),()=>f("default"),()=>f("synthwave"),()=>f("coffee"),()=>f("pastel"),()=>f("cyberpunk")]}class mo extends it{constructor(e){super(),rt(this,e,po,fo,tt,{})}}new mo({target:document.getElementById("app")});
