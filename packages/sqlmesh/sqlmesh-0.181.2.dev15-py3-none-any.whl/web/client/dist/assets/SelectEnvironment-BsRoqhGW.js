import{r as i,R as O,j as n,K as oe,i as ne,c as k,W as et,a as L,h as Ee,I as ue,X as tt,w as De,J as rt,m as te,B as me,n as re,d as at,Y as nt,b as je,Z as st,$ as it,G as ot}from"./index-BafGN4in.js";import{L as lt}from"./context-YFUfJm57.js";import ct from"./ModelLineage-E21kqsuu.js";import{i as K,G as Me,U as B,o as b,I as W,y as G,C as U,r as dt,H as ut,u as xe,h as pe,n as mt,p as ve,j as pt,k as ae,T as ft,J as xt,K as vt,z as h,A as fe,x as ke,_ as gt,M as Q,L as $e,P as Oe,O as Ne,N as Pe,b as ht,F as bt,c as wt,Q as yt,R as Rt,D as Et}from"./transition-BlPPv2uy.js";import{s as jt,u as kt,c as S,f as Nt,T as Pt,p as It,e as Ct}from"./ListboxShow-DT2Vq8H-.js";import{A as le}from"./PlusCircleIcon-D6THv_ZD.js";import{I as Ie}from"./Input-CLgDkIXg.js";import{F as Dt}from"./ChevronDownIcon-PDbmvmYa.js";function Mt({title:e,titleId:t,...r},a){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?i.createElement("title",{id:t},e):null,i.createElement("path",{fillRule:"evenodd",d:"M10 4.5c1.215 0 2.417.055 3.604.162a.68.68 0 0 1 .615.597c.124 1.038.208 2.088.25 3.15l-1.689-1.69a.75.75 0 0 0-1.06 1.061l2.999 3a.75.75 0 0 0 1.06 0l3.001-3a.75.75 0 1 0-1.06-1.06l-1.748 1.747a41.31 41.31 0 0 0-.264-3.386 2.18 2.18 0 0 0-1.97-1.913 41.512 41.512 0 0 0-7.477 0 2.18 2.18 0 0 0-1.969 1.913 41.16 41.16 0 0 0-.16 1.61.75.75 0 1 0 1.495.12c.041-.52.093-1.038.154-1.552a.68.68 0 0 1 .615-.597A40.012 40.012 0 0 1 10 4.5ZM5.281 9.22a.75.75 0 0 0-1.06 0l-3.001 3a.75.75 0 1 0 1.06 1.06l1.748-1.747c.042 1.141.13 2.27.264 3.386a2.18 2.18 0 0 0 1.97 1.913 41.533 41.533 0 0 0 7.477 0 2.18 2.18 0 0 0 1.969-1.913c.064-.534.117-1.071.16-1.61a.75.75 0 1 0-1.495-.12c-.041.52-.093 1.037-.154 1.552a.68.68 0 0 1-.615.597 40.013 40.013 0 0 1-7.208 0 .68.68 0 0 1-.615-.597 39.785 39.785 0 0 1-.25-3.15l1.689 1.69a.75.75 0 0 0 1.06-1.061l-2.999-3Z",clipRule:"evenodd"}))}const Te=i.forwardRef(Mt);function $t({title:e,titleId:t,...r},a){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?i.createElement("title",{id:t},e):null,i.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm3.857-9.809a.75.75 0 0 0-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 1 0-1.06 1.061l2.5 2.5a.75.75 0 0 0 1.137-.089l4-5.5Z",clipRule:"evenodd"}))}const Ot=i.forwardRef($t);function Tt({title:e,titleId:t,...r},a){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?i.createElement("title",{id:t},e):null,i.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16ZM6.75 9.25a.75.75 0 0 0 0 1.5h6.5a.75.75 0 0 0 0-1.5h-6.5Z",clipRule:"evenodd"}))}const Fe=i.forwardRef(Tt);function Ft({title:e,titleId:t,...r},a){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?i.createElement("title",{id:t},e):null,i.createElement("path",{fillRule:"evenodd",d:"M4 10a.75.75 0 0 1 .75-.75h10.5a.75.75 0 0 1 0 1.5H4.75A.75.75 0 0 1 4 10Z",clipRule:"evenodd"}))}const St=i.forwardRef(Ft);function At({title:e,titleId:t,...r},a){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?i.createElement("title",{id:t},e):null,i.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm.75-11.25a.75.75 0 0 0-1.5 0v2.5h-2.5a.75.75 0 0 0 0 1.5h2.5v2.5a.75.75 0 0 0 1.5 0v-2.5h2.5a.75.75 0 0 0 0-1.5h-2.5v-2.5Z",clipRule:"evenodd"}))}const _t=i.forwardRef(At);function Lt({title:e,titleId:t,...r},a){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?i.createElement("title",{id:t},e):null,i.createElement("path",{d:"M10.75 4.75a.75.75 0 0 0-1.5 0v4.5h-4.5a.75.75 0 0 0 0 1.5h4.5v4.5a.75.75 0 0 0 1.5 0v-4.5h4.5a.75.75 0 0 0 0-1.5h-4.5v-4.5Z"}))}const Bt=i.forwardRef(Lt);function Gt({title:e,titleId:t,...r},a){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?i.createElement("title",{id:t},e):null,i.createElement("path",{fillRule:"evenodd",d:"M10.868 2.884c-.321-.772-1.415-.772-1.736 0l-1.83 4.401-4.753.381c-.833.067-1.171 1.107-.536 1.651l3.62 3.102-1.106 4.637c-.194.813.691 1.456 1.405 1.02L10 15.591l4.069 2.485c.713.436 1.598-.207 1.404-1.02l-1.106-4.637 3.62-3.102c.635-.544.297-1.584-.536-1.65l-4.752-.382-1.831-4.401Z",clipRule:"evenodd"}))}const Ut=i.forwardRef(Gt);function Se({container:e,accept:t,walk:r,enabled:a=!0}){let c=i.useRef(t),o=i.useRef(r);i.useEffect(()=>{c.current=t,o.current=r},[t,r]),K(()=>{if(!e||!a)return;let l=Me(e);if(!l)return;let s=c.current,u=o.current,x=Object.assign(y=>s(y),{acceptNode:s}),v=l.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,x,!1);for(;v.nextNode();)u(v.currentNode)},[e,a,c,o])}let Ae=i.createContext(null);function _e(){let e=i.useContext(Ae);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,_e),t}return e}function Le(){let[e,t]=i.useState([]);return[e.length>0?e.join(" "):void 0,i.useMemo(()=>function(r){let a=b(o=>(t(l=>[...l,o]),()=>t(l=>{let s=l.slice(),u=s.indexOf(o);return u!==-1&&s.splice(u,1),s}))),c=i.useMemo(()=>({register:a,slot:r.slot,name:r.name,props:r.props}),[a,r.slot,r.name,r.props]);return O.createElement(Ae.Provider,{value:c},r.children)},[t])]}let zt="p";function Vt(e,t){let r=W(),{id:a=`headlessui-description-${r}`,...c}=e,o=_e(),l=G(t);K(()=>o.register(a),[a,o.register]);let s={ref:l,...o.props,id:a};return U({ourProps:s,theirProps:c,slot:o.slot||{},defaultTag:zt,name:o.name||"Description"})}let Zt=B(Vt),Kt=Object.assign(Zt,{});var Wt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Wt||{}),Qt=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Qt||{}),Ht=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItem=5]="RegisterItem",e[e.UnregisterItem=6]="UnregisterItem",e))(Ht||{});function ce(e,t=r=>r){let r=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,a=Oe(t(e.items.slice()),o=>o.dataRef.current.domRef.current),c=r?a.indexOf(r):null;return c===-1&&(c=null),{items:a,activeItemIndex:c}}let qt={1(e){return e.menuState===1?e:{...e,activeItemIndex:null,menuState:1}},0(e){return e.menuState===0?e:{...e,__demoMode:!1,menuState:0}},2:(e,t)=>{var r;let a=ce(e),c=Nt(t,{resolveItems:()=>a.items,resolveActiveIndex:()=>a.activeItemIndex,resolveId:o=>o.id,resolveDisabled:o=>o.dataRef.current.disabled});return{...e,...a,searchQuery:"",activeItemIndex:c,activationTrigger:(r=t.trigger)!=null?r:1}},3:(e,t)=>{let r=e.searchQuery!==""?0:1,a=e.searchQuery+t.value.toLowerCase(),c=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+r).concat(e.items.slice(0,e.activeItemIndex+r)):e.items).find(l=>{var s;return((s=l.dataRef.current.textValue)==null?void 0:s.startsWith(a))&&!l.dataRef.current.disabled}),o=c?e.items.indexOf(c):-1;return o===-1||o===e.activeItemIndex?{...e,searchQuery:a}:{...e,searchQuery:a,activeItemIndex:o,activationTrigger:1}},4(e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},5:(e,t)=>{let r=ce(e,a=>[...a,{id:t.id,dataRef:t.dataRef}]);return{...e,...r}},6:(e,t)=>{let r=ce(e,a=>{let c=a.findIndex(o=>o.id===t.id);return c!==-1&&a.splice(c,1),a});return{...e,...r,activationTrigger:1}}},ge=i.createContext(null);ge.displayName="MenuContext";function se(e){let t=i.useContext(ge);if(t===null){let r=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,se),r}return t}function Jt(e,t){return xe(t.type,qt,e,t)}let Yt=i.Fragment;function Xt(e,t){let{__demoMode:r=!1,...a}=e,c=i.useReducer(Jt,{__demoMode:r,menuState:r?0:1,buttonRef:i.createRef(),itemsRef:i.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:o,itemsRef:l,buttonRef:s},u]=c,x=G(t);dt([s,l],(R,p)=>{var d;u({type:1}),xt(p,vt.Loose)||(R.preventDefault(),(d=s.current)==null||d.focus())},o===0);let v=b(()=>{u({type:1})}),y=i.useMemo(()=>({open:o===0,close:v}),[o,v]),g={ref:x};return O.createElement(ge.Provider,{value:c},O.createElement(ut,{value:xe(o,{0:ae.Open,1:ae.Closed})},U({ourProps:g,theirProps:a,slot:y,defaultTag:Yt,name:"Menu"})))}let er="button";function tr(e,t){var r;let a=W(),{id:c=`headlessui-menu-button-${a}`,...o}=e,[l,s]=se("Menu.Button"),u=G(l.buttonRef,t),x=ve(),v=b(d=>{switch(d.key){case h.Space:case h.Enter:case h.ArrowDown:d.preventDefault(),d.stopPropagation(),s({type:0}),x.nextFrame(()=>s({type:2,focus:S.First}));break;case h.ArrowUp:d.preventDefault(),d.stopPropagation(),s({type:0}),x.nextFrame(()=>s({type:2,focus:S.Last}));break}}),y=b(d=>{switch(d.key){case h.Space:d.preventDefault();break}}),g=b(d=>{if(fe(d.currentTarget))return d.preventDefault();e.disabled||(l.menuState===0?(s({type:1}),x.nextFrame(()=>{var E;return(E=l.buttonRef.current)==null?void 0:E.focus({preventScroll:!0})})):(d.preventDefault(),s({type:0})))}),R=i.useMemo(()=>({open:l.menuState===0}),[l]),p={ref:u,id:c,type:ft(e,l.buttonRef),"aria-haspopup":"menu","aria-controls":(r=l.itemsRef.current)==null?void 0:r.id,"aria-expanded":l.menuState===0,onKeyDown:v,onKeyUp:y,onClick:g};return U({ourProps:p,theirProps:o,slot:R,defaultTag:er,name:"Menu.Button"})}let rr="div",ar=ke.RenderStrategy|ke.Static;function nr(e,t){var r,a;let c=W(),{id:o=`headlessui-menu-items-${c}`,...l}=e,[s,u]=se("Menu.Items"),x=G(s.itemsRef,t),v=mt(s.itemsRef),y=ve(),g=pt(),R=g!==null?(g&ae.Open)===ae.Open:s.menuState===0;i.useEffect(()=>{let m=s.itemsRef.current;m&&s.menuState===0&&m!==(v==null?void 0:v.activeElement)&&m.focus({preventScroll:!0})},[s.menuState,s.itemsRef,v]),Se({container:s.itemsRef.current,enabled:s.menuState===0,accept(m){return m.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:m.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(m){m.setAttribute("role","none")}});let p=b(m=>{var $,T;switch(y.dispose(),m.key){case h.Space:if(s.searchQuery!=="")return m.preventDefault(),m.stopPropagation(),u({type:3,value:m.key});case h.Enter:if(m.preventDefault(),m.stopPropagation(),u({type:1}),s.activeItemIndex!==null){let{dataRef:w}=s.items[s.activeItemIndex];(T=($=w.current)==null?void 0:$.domRef.current)==null||T.click()}$e(s.buttonRef.current);break;case h.ArrowDown:return m.preventDefault(),m.stopPropagation(),u({type:2,focus:S.Next});case h.ArrowUp:return m.preventDefault(),m.stopPropagation(),u({type:2,focus:S.Previous});case h.Home:case h.PageUp:return m.preventDefault(),m.stopPropagation(),u({type:2,focus:S.First});case h.End:case h.PageDown:return m.preventDefault(),m.stopPropagation(),u({type:2,focus:S.Last});case h.Escape:m.preventDefault(),m.stopPropagation(),u({type:1}),pe().nextFrame(()=>{var w;return(w=s.buttonRef.current)==null?void 0:w.focus({preventScroll:!0})});break;case h.Tab:m.preventDefault(),m.stopPropagation(),u({type:1}),pe().nextFrame(()=>{gt(s.buttonRef.current,m.shiftKey?Q.Previous:Q.Next)});break;default:m.key.length===1&&(u({type:3,value:m.key}),y.setTimeout(()=>u({type:4}),350));break}}),d=b(m=>{switch(m.key){case h.Space:m.preventDefault();break}}),E=i.useMemo(()=>({open:s.menuState===0}),[s]),N={"aria-activedescendant":s.activeItemIndex===null||(r=s.items[s.activeItemIndex])==null?void 0:r.id,"aria-labelledby":(a=s.buttonRef.current)==null?void 0:a.id,id:o,onKeyDown:p,onKeyUp:d,role:"menu",tabIndex:0,ref:x};return U({ourProps:N,theirProps:l,slot:E,defaultTag:rr,features:ar,visible:R,name:"Menu.Items"})}let sr=i.Fragment;function ir(e,t){let r=W(),{id:a=`headlessui-menu-item-${r}`,disabled:c=!1,...o}=e,[l,s]=se("Menu.Item"),u=l.activeItemIndex!==null?l.items[l.activeItemIndex].id===a:!1,x=i.useRef(null),v=G(t,x);K(()=>{if(l.__demoMode||l.menuState!==0||!u||l.activationTrigger===0)return;let w=pe();return w.requestAnimationFrame(()=>{var P,z;(z=(P=x.current)==null?void 0:P.scrollIntoView)==null||z.call(P,{block:"nearest"})}),w.dispose},[l.__demoMode,x,u,l.menuState,l.activationTrigger,l.activeItemIndex]);let y=jt(x),g=i.useRef({disabled:c,domRef:x,get textValue(){return y()}});K(()=>{g.current.disabled=c},[g,c]),K(()=>(s({type:5,id:a,dataRef:g}),()=>s({type:6,id:a})),[g,a]);let R=b(()=>{s({type:1})}),p=b(w=>{if(c)return w.preventDefault();s({type:1}),$e(l.buttonRef.current)}),d=b(()=>{if(c)return s({type:2,focus:S.Nothing});s({type:2,focus:S.Specific,id:a})}),E=kt(),N=b(w=>E.update(w)),m=b(w=>{E.wasMoved(w)&&(c||u||s({type:2,focus:S.Specific,id:a,trigger:0}))}),$=b(w=>{E.wasMoved(w)&&(c||u&&s({type:2,focus:S.Nothing}))}),T=i.useMemo(()=>({active:u,disabled:c,close:R}),[u,c,R]);return U({ourProps:{id:a,ref:v,role:"menuitem",tabIndex:c===!0?void 0:-1,"aria-disabled":c===!0?!0:void 0,disabled:void 0,onClick:p,onFocus:d,onPointerEnter:N,onMouseEnter:N,onPointerMove:m,onMouseMove:m,onPointerLeave:$,onMouseLeave:$},theirProps:o,slot:T,defaultTag:sr,name:"Menu.Item"})}let or=B(Xt),lr=B(tr),cr=B(nr),dr=B(ir),X=Object.assign(or,{Button:lr,Items:cr,Item:dr}),Be=i.createContext(null);function Ge(){let e=i.useContext(Be);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Ge),t}return e}function Ue(){let[e,t]=i.useState([]);return[e.length>0?e.join(" "):void 0,i.useMemo(()=>function(r){let a=b(o=>(t(l=>[...l,o]),()=>t(l=>{let s=l.slice(),u=s.indexOf(o);return u!==-1&&s.splice(u,1),s}))),c=i.useMemo(()=>({register:a,slot:r.slot,name:r.name,props:r.props}),[a,r.slot,r.name,r.props]);return O.createElement(Be.Provider,{value:c},r.children)},[t])]}let ur="label";function mr(e,t){let r=W(),{id:a=`headlessui-label-${r}`,passive:c=!1,...o}=e,l=Ge(),s=G(t);K(()=>l.register(a),[a,l.register]);let u={ref:s,...l.props,id:a};return c&&("onClick"in u&&(delete u.htmlFor,delete u.onClick),"onClick"in o&&delete o.onClick),U({ourProps:u,theirProps:o,slot:l.slot||{},defaultTag:ur,name:l.name||"Label"})}let pr=B(mr),fr=Object.assign(pr,{});var xr=(e=>(e[e.RegisterOption=0]="RegisterOption",e[e.UnregisterOption=1]="UnregisterOption",e))(xr||{});let vr={0(e,t){let r=[...e.options,{id:t.id,element:t.element,propsRef:t.propsRef}];return{...e,options:Oe(r,a=>a.element.current)}},1(e,t){let r=e.options.slice(),a=e.options.findIndex(c=>c.id===t.id);return a===-1?e:(r.splice(a,1),{...e,options:r})}},he=i.createContext(null);he.displayName="RadioGroupDataContext";function ze(e){let t=i.useContext(he);if(t===null){let r=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,ze),r}return t}let be=i.createContext(null);be.displayName="RadioGroupActionsContext";function Ve(e){let t=i.useContext(be);if(t===null){let r=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Ve),r}return t}function gr(e,t){return xe(t.type,vr,e,t)}let hr="div";function br(e,t){let r=W(),{id:a=`headlessui-radiogroup-${r}`,value:c,defaultValue:o,form:l,name:s,onChange:u,by:x=(f,M)=>f===M,disabled:v=!1,...y}=e,g=b(typeof x=="string"?(f,M)=>{let C=x;return(f==null?void 0:f[C])===(M==null?void 0:M[C])}:x),[R,p]=i.useReducer(gr,{options:[]}),d=R.options,[E,N]=Ue(),[m,$]=Le(),T=i.useRef(null),w=G(T,t),[P,z]=Pt(c,u,o),F=i.useMemo(()=>d.find(f=>!f.propsRef.current.disabled),[d]),V=i.useMemo(()=>d.some(f=>g(f.propsRef.current.value,P)),[d,P]),A=b(f=>{var M;if(v||g(f,P))return!1;let C=(M=d.find(Z=>g(Z.propsRef.current.value,f)))==null?void 0:M.propsRef.current;return C!=null&&C.disabled?!1:(z==null||z(f),!0)});Se({container:T.current,accept(f){return f.getAttribute("role")==="radio"?NodeFilter.FILTER_REJECT:f.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(f){f.setAttribute("role","none")}});let ie=b(f=>{let M=T.current;if(!M)return;let C=Me(M),Z=d.filter(I=>I.propsRef.current.disabled===!1).map(I=>I.element.current);switch(f.key){case h.Enter:It(f.currentTarget);break;case h.ArrowLeft:case h.ArrowUp:if(f.preventDefault(),f.stopPropagation(),Ne(Z,Q.Previous|Q.WrapAround)===Pe.Success){let I=d.find(H=>H.element.current===(C==null?void 0:C.activeElement));I&&A(I.propsRef.current.value)}break;case h.ArrowRight:case h.ArrowDown:if(f.preventDefault(),f.stopPropagation(),Ne(Z,Q.Next|Q.WrapAround)===Pe.Success){let I=d.find(H=>H.element.current===(C==null?void 0:C.activeElement));I&&A(I.propsRef.current.value)}break;case h.Space:{f.preventDefault(),f.stopPropagation();let I=d.find(H=>H.element.current===(C==null?void 0:C.activeElement));I&&A(I.propsRef.current.value)}break}}),_=b(f=>(p({type:0,...f}),()=>p({type:1,id:f.id}))),J=i.useMemo(()=>({value:P,firstOption:F,containsCheckedOption:V,disabled:v,compare:g,...R}),[P,F,V,v,g,R]),qe=i.useMemo(()=>({registerOption:_,change:A}),[_,A]),Je={ref:w,id:a,role:"radiogroup","aria-labelledby":E,"aria-describedby":m,onKeyDown:ie},Ye=i.useMemo(()=>({value:P}),[P]),Y=i.useRef(null),Xe=ve();return i.useEffect(()=>{Y.current&&o!==void 0&&Xe.addEventListener(Y.current,"reset",()=>{A(o)})},[Y,A]),O.createElement($,{name:"RadioGroup.Description"},O.createElement(N,{name:"RadioGroup.Label"},O.createElement(be.Provider,{value:qe},O.createElement(he.Provider,{value:J},s!=null&&P!=null&&Ct({[s]:P}).map(([f,M],C)=>O.createElement(ht,{features:wt.Hidden,ref:C===0?Z=>{var I;Y.current=(I=Z==null?void 0:Z.closest("form"))!=null?I:null}:void 0,...bt({key:f,as:"input",type:"radio",checked:M!=null,hidden:!0,readOnly:!0,form:l,disabled:v,name:f,value:M})})),U({ourProps:Je,theirProps:y,slot:Ye,defaultTag:hr,name:"RadioGroup"})))))}var wr=(e=>(e[e.Empty=1]="Empty",e[e.Active=2]="Active",e))(wr||{});let yr="div";function Rr(e,t){var r;let a=W(),{id:c=`headlessui-radiogroup-option-${a}`,value:o,disabled:l=!1,...s}=e,u=i.useRef(null),x=G(u,t),[v,y]=Ue(),[g,R]=Le(),{addFlag:p,removeFlag:d,hasFlag:E}=yt(1),N=Rt({value:o,disabled:l}),m=ze("RadioGroup.Option"),$=Ve("RadioGroup.Option");K(()=>$.registerOption({id:c,element:u,propsRef:N}),[c,$,u,N]);let T=b(_=>{var J;if(fe(_.currentTarget))return _.preventDefault();$.change(o)&&(p(2),(J=u.current)==null||J.focus())}),w=b(_=>{if(fe(_.currentTarget))return _.preventDefault();p(2)}),P=b(()=>d(2)),z=((r=m.firstOption)==null?void 0:r.id)===c,F=m.disabled||l,V=m.compare(m.value,o),A={ref:x,id:c,role:"radio","aria-checked":V?"true":"false","aria-labelledby":v,"aria-describedby":g,"aria-disabled":F?!0:void 0,tabIndex:F?-1:V||!m.containsCheckedOption&&z?0:-1,onClick:F?void 0:T,onFocus:F?void 0:w,onBlur:F?void 0:P},ie=i.useMemo(()=>({checked:V,disabled:F,active:E(2)}),[V,F,E]);return O.createElement(R,{name:"RadioGroup.Description"},O.createElement(y,{name:"RadioGroup.Label"},U({ourProps:A,theirProps:s,slot:ie,defaultTag:yr,name:"RadioGroup.Option"})))}let Er=B(br),jr=B(Rr),ee=Object.assign(Er,{Option:jr,Label:fr,Description:Kt});const D={ResetPlanOptions:"reset-plan-options",ResetPlanDates:"reset-plan-dates",ResetCategories:"reset-categories",PlanOptions:"plan-options",Dates:"dates",DateStart:"date-start",DateEnd:"date-end",Category:"category",External:"external",ResetTestsReport:"reset-tests-report",TestsReportErrors:"tests-report-errors",TestsReportMessages:"tests-report-messages"},j={Add:"add",Remove:"remove",Direct:"direct",Indirect:"indirect",Metadata:"metadata",Default:"default"},de={Breaking:"breaking",NonBreaking:"non-breaking",ForwardOnly:"forward-only"},[kr,Nr]=Dr(),Ze={skip_tests:!1,no_gaps:!1,skip_backfill:!1,forward_only:!1,auto_apply:!1,no_auto_categorization:!1,include_unmodified:!0,restate_models:void 0,create_from:"prod"},Ke={start:void 0,end:void 0},we={...Ke,...Ze,categories:Nr,defaultCategory:kr,change_categorization:new Map,virtualUpdateDescription:"All changes and their downstream dependencies can be fully previewed before they get promoted. If during plan creation no data gaps have been detected and only references to new model versions need to be updated, then such an update is referred to as a Virtual Update. Virtual Updates impose no additional runtime overhead or cost.",isInitialPlanRun:!1,errors:[],testsReportErrors:void 0,testsReportMessages:void 0},We=i.createContext(we),Qe=i.createContext(()=>{});function Vr({children:e}){const[t,r]=i.useReducer(Ir,Object.assign(we));return n.jsx(We.Provider,{value:Object.assign(t),children:n.jsx(Qe.Provider,{value:r,children:e})})}function ye(){return i.useContext(We)}function Pr(){return i.useContext(Qe)}function Ir(e,t){return t=Array.isArray(t)?t:[t],t.reduce(Cr,e)}function Cr(e=we,{type:t,...r}){switch(t){case D.ResetCategories:return Object.assign({},e,{change_categorization:new Map});case D.ResetPlanDates:return Object.assign({},e,Ke);case D.ResetPlanOptions:return Object.assign({},e,Ze);case D.ResetTestsReport:return Object.assign({},e,{testsReportErrors:void 0,testsReportMessages:void 0});case D.PlanOptions:return Object.assign({},e,r);case D.Dates:return Object.assign({},e,{start:r.start,end:r.end});case D.External:return Object.assign({},e,{isInitialPlanRun:r.isInitialPlanRun??!1});case D.DateStart:return Object.assign({},e,{start:r.start});case D.DateEnd:return Object.assign({},e,{end:r.end});case D.TestsReportErrors:return Object.assign({},e,{testsReportErrors:r.testsReportErrors});case D.TestsReportMessages:return Object.assign({},e,{testsReportMessages:r.testsReportMessages});case D.Category:{const{change:a,category:c}=r;return ne(a==null?void 0:a.name)&&e.change_categorization.set(a.name,{category:c,change:a}),Object.assign({},e,{change_categorization:new Map(e.change_categorization)})}default:return Object.assign({},e)}}function Dr(){const e={id:de.Breaking,name:"Breaking Change",description:"It will rebuild all models",value:oe.NUMBER_1},t=[e,{id:de.NonBreaking,name:"Non-Breaking Change",description:"It will exclude all indirect models caused by this change",value:oe.NUMBER_2},{id:de.ForwardOnly,name:"Forward-Only Change",description:"The change requires no rebuilding",value:oe.NUMBER_3}];return[e,t]}function q({children:e,headline:t,type:r,className:a}){return n.jsxs("div",{className:k("flex flex-col rounded-md p-4 text-xs",r===j.Add&&"bg-success-5",r===j.Remove&&"bg-danger-5",r===j.Direct&&"bg-secondary-5",r===j.Indirect&&"bg-warning-5",r===j.Default&&"bg-neutral-5",a),children:[ne(t)&&n.jsx("h4",{className:k("mb-2 font-bold whitespace-nowrap",r===j.Add&&"text-success-600 dark:text-success-300",r===j.Remove&&"text-danger-600 dark:text-danger-300",r===j.Direct&&"text-secondary-600 dark:text-secondary-300",r===j.Indirect&&"text-warning-600 dark:text-warning-300",r===j.Default&&"text-neutral-600 dark:text-neutral-300"),children:t}),e]})}function Mr({changes:e=[],type:t}){return n.jsx("ul",{children:e.map(r=>n.jsxs("li",{className:k("flex items-center",t===j.Add&&"text-success-600 dark:text-success-300",t===j.Remove&&"text-danger-600 dark:text-danger-300",t===j.Direct&&"text-secondary-600 dark:text-secondary-300",t===j.Indirect&&"text-warning-600 dark:text-warning-300",t===j.Default&&"text-neutral-600 dark:text-neutral-300"),children:[t===j.Add?n.jsx(Bt,{className:"h-3 mr-2"}):t===j.Remove?n.jsx(St,{className:"h-3 mr-2"}):n.jsx(Te,{className:"h-4 mr-2"}),n.jsx("span",{title:r.displayViewName,className:"w-full whitespace-nowrap text-ellipsis overflow-hidden",children:et(r.displayViewName,50,25)})]},r.name))})}function $r({changes:e=[],disabled:t=!1}){const r=Pr(),{categories:a}=ye(),c=L(o=>o.models);return i.useEffect(()=>{r(e.map(o=>({type:D.Category,category:a.find(({value:l})=>l===o.change_category),change:o})))},[e]),n.jsx("ul",{children:e.map(o=>n.jsx("li",{className:"text-secondary-500 dark:text-primary-500 mt-1",children:n.jsx(le,{children:({open:l})=>n.jsxs(n.Fragment,{children:[n.jsxs(le.Button,{className:"flex items-center w-full justify-between rounded-lg text-left",children:[n.jsx(Re,{className:"w-full",change:o}),(()=>{const s=l?Fe:_t;return n.jsx(s,{className:"max-h-[1rem] min-w-[1rem] dark:text-primary-500"})})()]}),n.jsxs(le.Panel,{className:"px-4 mb-4 overflow-hidden",children:[Ee(o.direct)&&n.jsx(Ce,{type:"direct",models:o.direct,className:"mt-2 ml-4"}),Ee(o.indirect)&&n.jsx(Ce,{type:"indirect",models:o.indirect,className:"ml-4"}),n.jsx(ue,{className:"border-secondary-20 mt-2"}),n.jsx(Or,{change:o,disabled:t,onChange:s=>{r({type:D.Category,category:a.find(({value:u})=>u===s),change:o})}}),n.jsx(ue,{className:"border-secondary-20 mt-2"}),n.jsxs("div",{className:"flex flex-col w-full h-full overflow-hidden overflow-y-auto hover:scrollbar scrollbar--vertical scrollbar--horizontal",children:[ne(o)&&tt(o.diff)&&n.jsx(He,{diff:o.diff}),(()=>{var u,x;const s=c.get(o.name);return De(s)?n.jsx(n.Fragment,{}):n.jsx("div",{className:"h-[16rem] bg-theme-lighter rounded-2xl overflow-hidden my-4",children:n.jsx(lt,{showColumns:!1,showConnected:!1,showControls:!1,children:n.jsx(ct,{model:s,highlightedNodes:{"border-4 border-warning-500 bg-warning-500 text-warning-500":((u=o.indirect)==null?void 0:u.map(v=>v.name))??[],"border-4 border-secondary-500 dark:border-primary-500 bg-secondary-500 dark:bg-primary-500 text-bg-secondary-500 dark:bg-primary-500 ring-8 ring-brand-50":[o.name],"border-4 border-secondary-500 dark:border-primary-500 bg-secondary-500 dark:bg-primary-500 text-bg-secondary-500 dark:bg-primary-500":((x=o.direct)==null?void 0:x.map(v=>v.name))??[],"*":["border-4 border-neutral-500 bg-neutral-500 text-neutral-600 dark:text-light"]}})})})})()]})]})]})})},o.name))})}function Or({change:e,disabled:t=!1,onChange:r}){var o,l;const{change_categorization:a,categories:c}=ye();return n.jsx(ee,{className:k("flex flex-col mt-2",t&&"pointer-events-none opacity-50 cursor-not-allowed"),disabled:t,defaultValue:((l=(o=a.get(e.name))==null?void 0:o.category)==null?void 0:l.value)??e.change_category,onChange:r,children:c.map(s=>n.jsx(ee.Option,{value:s.value,className:()=>k("relative flex rounded-md"),children:({checked:u})=>n.jsxs("div",{className:k("text-sm flex items-center px-2 py-1 w-full rounded-lg",u?"text-secondary-500 dark:text-primary-300":"text-prose"),children:[n.jsx("div",{className:"mt-[0.125rem] mr-2 border-2 border-neutral-400 min-w-[1rem] h-4 rounded-full flex justify-center items-center",children:u&&n.jsx("span",{className:"inline-block w-2 h-2 bg-secondary-500 dark:bg-primary-300 rounded-full"})}),n.jsxs("div",{children:[n.jsx(ee.Label,{as:"p",children:s.name}),n.jsx(ee.Description,{as:"span",className:"text-xs text-neutral-500",children:s.description})]})]})},s.name))})}function Tr({changes:e=[]}){return n.jsx("ul",{children:e.map(t=>n.jsx("li",{className:"text-warning-700 dark:text-warning-500",children:n.jsx(Re,{change:t})},t.name))})}function Re({change:e,className:t}){var c;const{change_categorization:r}=ye(),a=(c=r.get(e.name))==null?void 0:c.category;return n.jsxs("div",{className:k("flex items-center font-bold",t),children:[n.jsxs("span",{className:"flex w-full whitespace-nowrap text-ellipsis overflow-hidden",children:[n.jsx(Te,{className:"h-4 mr-2"}),e.displayViewName]}),De(a)?ne(e.indirect)&&n.jsx("span",{className:"ml-2 px-1 bg-warning-500 text-warning-100 dark:bg-warning-400 dark:text-warning-800 rounded whitespace-nowrap mr-2",children:"Categorize Manually"}):n.jsx("span",{className:"ml-2 px-1 bg-neutral-400 text-neutral-100 dark:bg-neutral-400 dark:text-neutral-800 rounded whitespace-nowrap mr-2",children:a.name})]})}function Ce({type:e,models:t,className:r}){return n.jsx("ul",{className:k(e==="indirect"&&"text-warning-700 dark:text-warning-500",e==="direct"&&"text-secondary-500 dark:text-primary-500",r),children:t.map(a=>n.jsxs("li",{className:"flex",children:[n.jsx("span",{className:"h-3 w-3 border-l-2 border-b-2 inline-block mr-2"}),a.displayViewName]},a.name))})}function He({diff:e}){return n.jsx("div",{className:"my-4 bg-dark-lighter rounded-2xl overflow-hidden",children:n.jsx("pre",{className:"p-4 text-primary-100 max-h-[30vh] text-xs overflow-auto hover:scrollbar scrollbar--vertical scrollbar--horizontal",children:e.split(`
`).map((t,r)=>n.jsx("p",{className:k(t.startsWith("+")&&"text-success-500 bg-success-500/10 px-2",t.startsWith("-")&&"text-danger-500 bg-danger-500/10 px-2",t.startsWith("@@")&&"text-primary-300 my-5 px-2"),children:t},`${t}-${r}`))})})}q.Default=Mr;q.Direct=$r;q.Indirect=Tr;q.Diff=He;q.Title=Re;function Fr({onAdd:e,className:t,label:r="Add",size:a=te.sm}){const c=L(p=>p.getNextEnvironment),o=L(p=>p.isExistingEnvironment),l=L(p=>p.addLocalEnvironment),[s,u]=i.useState(""),[x,v]=i.useState(c().name);function y(p){p.stopPropagation(),l(s,x),u(""),v(c().name),e==null||e()}function g(p){p.stopPropagation(),u(p.target.value)}const R=rt(s)||o(s);return n.jsxs("div",{className:k("flex w-full items-center bg-secondary-5",t),children:[n.jsx(Ie,{className:"my-0 mx-0 mr-4 min-w-[10rem] w-full",size:a,children:({className:p})=>n.jsx(Ie.Textfield,{className:k(p,"w-full"),placeholder:"Environment",value:s,onInput:g})}),n.jsx(me,{className:"my-0 mx-0 font-bold",variant:re.Secondary,size:a,disabled:R,onClick:y,children:r})]})}function Zr({disabled:e=!1,className:t,showAddEnvironment:r=!0,size:a=te.sm,onSelect:c}){const{addError:o}=at(),l=L(p=>p.environment),s=L(p=>p.environments),u=L(p=>p.setEnvironment),x=L(p=>p.removeLocalEnvironment),v=nt(X.Button);function y(p,d){p.stopPropagation(),u(d),c==null||c()}function g(p,d){p.stopPropagation(),x(d)}function R(p,d){p.stopPropagation(),it(d.name).then(()=>{x(d)}).catch(E=>{o(ot.Environments,E)})}return n.jsx(X,{as:"div",className:k("flex relative",t),children:({close:p})=>n.jsxs(n.Fragment,{children:[n.jsxs(v,{variant:re.Info,size:a,disabled:e,className:"flex justify-between w-full mx-0 pr-1",children:[n.jsxs("span",{className:k("block overflow-hidden truncate",(l.isLocal||e)&&"text-neutral-500",l.isRemote?"text-primary-600 dark:text-primary-300":"text-neutral-600 dark:text-neutral-200"),children:[n.jsx("span",{className:"text-xs text-neutral-300 dark:text-neutral-500 mr-1",children:"Environment:"}),n.jsx("span",{children:l.name})]}),n.jsx("span",{className:"pointer-events-none inset-y-0 right-0 flex items-center pl-1",children:n.jsx(Dt,{className:k("w-4",e?"text-neutral-400 dark:text-neutral-200":"text-neutral-800 dark:text-neutral-200"),"aria-hidden":"true"})})]}),n.jsx(Et,{as:i.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:n.jsx("div",{className:"!mx-0 absolute top-10 right-0 min-w-[16rem] max-w-[100%] overflow-hidden shadow-2xl bg-theme border-0 border-neutral-100 dark:border-neutral-800 rounded-md flex flex-col z-50",children:n.jsxs(X.Items,{className:"mx-0 overflow-auto max-h-80 hover:scrollbar scrollbar--vertical",children:[Array.from(s).map(d=>n.jsx(X.Item,{disabled:d===l,children:({active:E})=>n.jsxs("div",{onClick:N=>y(N,d),className:k("flex justify-between items-center pl-2 pr-1 py-1 overflow-auto",E?"text-neutral-600 bg-neutral-10":"text-neutral-400",d===l?"cursor-default bg-neutral-5":"cursor-pointer"),children:[n.jsxs("div",{className:"flex items-start",children:[n.jsx(Ot,{className:k("w-4 h-4 mt-[6px]",d===l?"opacity-100 text-primary-500":"opacity-0")}),n.jsxs("span",{className:"block",children:[n.jsxs("span",{className:"flex items-baseline",children:[n.jsx("span",{className:k("block truncate ml-2",d.isRemote&&"text-primary-500"),children:d.name}),n.jsxs("small",{className:"block ml-2",children:["(",d.type,")"]})]}),d.isProd&&n.jsx("span",{className:"flex ml-2",children:n.jsx("small",{className:"text-xs text-neutral-500",children:"Production Environment"})}),d.isDefault&&n.jsx("span",{className:"flex ml-2",children:n.jsx("small",{className:"text-xs text-neutral-500",children:"Default Environment"})})]})]}),n.jsxs("div",{className:"flex items-center",children:[d.isPinned&&n.jsx(Ut,{title:"Pinned",className:"w-4 text-primary-500 dark:text-primary-100 mx-1"}),je(d.isPinned)&&d.isLocal&&d!==l&&n.jsx(me,{className:"!m-0 !px-1 bg-transparent hover:bg-transparent border-none",size:te.xs,format:st.Ghost,variant:re.Neutral,onClick:N=>g(N,d),children:n.jsx(Fe,{className:"w-4 text-neutral-500 dark:text-neutral-100"})}),je(d.isPinned)&&d.isRemote&&d!==l&&n.jsx(me,{className:"!px-2 !my-0",size:te.xs,variant:re.Danger,onClick:N=>R(N,d),children:"Delete"})]})]})},d.name)),r&&n.jsxs(n.Fragment,{children:[n.jsx(ue,{}),n.jsx(Fr,{onAdd:p,className:"p-2 pb-2"})]})]})})})]})})}export{Fr as A,fr as B,j as E,Ue as F,Kt as G,q as P,Zr as S,Pr as a,D as b,Vr as c,ye as u,Le as w};
