(()=>{var e={};e.id=892,e.ids=[892],e.modules={2986:(e,s,r)=>{Promise.resolve().then(r.bind(r,76764)),Promise.resolve().then(r.t.bind(r,87170,23)),Promise.resolve().then(r.bind(r,23960)),Promise.resolve().then(r.bind(r,67519))},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},16687:(e,s,r)=>{"use strict";r.d(s,{x:()=>h,U:()=>x});var a=r(76939),t=r(47459),d=r(10748),n=r(90513);let i=(0,r(9564).A)("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);var l=r(91690),c=r(35848),o=r(302);let h=async function(e){var[s,r]=await (0,d.decryptActionBoundArgs)("40c1276af3cce789cb903276d27ebb383777d7bb12",e);await (0,l.A)(s,r,!0),(0,o.redirect)("/background-tasks/")};async function x({dataset_id:e,shardset_id:s}){let r=await (await (0,c.K)()).GET("/datasets/{dataset_id}/shardsets/{shardset_id}/sync",{params:{path:{dataset_id:e,shardset_id:s}}}),l=r.data?r.data:null,o=(0,t.A)(h,"40c1276af3cce789cb903276d27ebb383777d7bb12",null).bind(null,(0,d.encryptActionBoundArgs)("40c1276af3cce789cb903276d27ebb383777d7bb12",e,s));return(0,a.jsx)("div",{className:"w-full flex flex-col gap-1",children:(0,a.jsx)("form",{action:o,children:(0,a.jsxs)(n.$,{type:"submit",className:"w-full",disabled:!!l,children:[(0,a.jsx)(i,{className:"w-4 h-4"}),"Sync"]})})})}},18252:(e,s,r)=>{"use strict";r.d(s,{DeleteShardsetDialog:()=>o});var a=r(59777),t=r(96114),d=r(32171),n=r(75428),i=r(40605);let l=(0,i.createServerReference)("609fdd24b0d24cd6c80deda573eaa96e6bd664be09",i.callServer,void 0,i.findSourceMapURL,"deleteShardset");var c=r(56787);function o({datasetId:e,shardsetId:s}){let r=(0,c.useRouter)(),i=async()=>{let a=await l(e,s);a.success?(t.oR.success("Shardset deleted successfully"),r.push(`/datasets/${e}`)):t.oR.error(`Failed to delete shardset: ${a.error}`)};return(0,a.jsxs)(n.Lt,{children:[(0,a.jsx)(n.tv,{asChild:!0,children:(0,a.jsx)(d.$,{variant:"destructive",children:"Delete this shardset"})}),(0,a.jsxs)(n.EO,{children:[(0,a.jsxs)(n.wd,{children:[(0,a.jsx)(n.r7,{children:"Are you absolutely sure?"}),(0,a.jsx)(n.$v,{children:"This action cannot be undone. This will permanently delete your shardset and related shards. Of course, actual data will not be affected."})]}),(0,a.jsxs)(n.ck,{children:[(0,a.jsx)(n.Zr,{children:"Cancel"}),(0,a.jsx)(n.Rx,{onClick:i,children:"Continue"})]})]})]})}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},23960:(e,s,r)=>{"use strict";r.d(s,{DeleteShardsetDialog:()=>a});let a=(0,r(18445).registerClientReference)(function(){throw Error("Attempted to call DeleteShardsetDialog() from the server but DeleteShardsetDialog is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/hanch/fal/lavender-data/packages/lavender-data-ui/src/app/datasets/[dataset_id]/shardsets/[shardset_id]/delete-shardset-dialog.tsx","DeleteShardsetDialog")},24356:(e,s)=>{"use strict";function r(e){for(let s=0;s<e.length;s++){let r=e[s];if("function"!=typeof r)throw Object.defineProperty(Error(`A "use server" file can only export async functions, found ${typeof r}.
Read more: https://nextjs.org/docs/messages/invalid-use-server-value`),"__NEXT_ERROR_CODE",{value:"E352",enumerable:!1,configurable:!0})}}Object.defineProperty(s,"D",{enumerable:!0,get:function(){return r}})},27502:(e,s,r)=>{"use strict";r.r(s),r.d(s,{"40c1276af3cce789cb903276d27ebb383777d7bb12":()=>a.x,"70f55a50cf88818593d1975bdd39fb64c5a9a15992":()=>t.A});var a=r(16687),t=r(91690)},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},31176:(e,s,r)=>{"use strict";r.r(s),r.d(s,{"609fdd24b0d24cd6c80deda573eaa96e6bd664be09":()=>d});var a=r(61025);r(37133);var t=r(95705);async function d(e,s){try{let r=await (await (0,t.K)()).DELETE("/datasets/{dataset_id}/shardsets/{shardset_id}",{params:{path:{dataset_id:e,shardset_id:s}}});if(r.error)return{success:!1,error:r.error.detail};return{success:!0}}catch(e){return{success:!1,error:e instanceof Error?e.message:"An unexpected error occurred"}}}(0,r(51221).D)([d]),(0,a.A)(d,"609fdd24b0d24cd6c80deda573eaa96e6bd664be09",null)},32047:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>j});var a=r(76939),t=r(62861),d=r(35848),n=r(67519),i=r(87170),l=r.n(i),c=r(16687),o=r(65479),h=r(5654),x=r(24325);let u=(0,r(9564).A)("FileStack",[["path",{d:"M21 7h-3a2 2 0 0 1-2-2V2",key:"9rb54x"}],["path",{d:"M21 6v6.5c0 .8-.7 1.5-1.5 1.5h-7c-.8 0-1.5-.7-1.5-1.5v-9c0-.8.7-1.5 1.5-1.5H17Z",key:"1059l0"}],["path",{d:"M7 8v8.8c0 .3.2.6.4.8.2.2.5.4.8.4H15",key:"16874u"}],["path",{d:"M3 12v8.8c0 .3.2.6.4.8.2.2.5.4.8.4H11",key:"k2ox98"}]]);var p=r(4644),f=r(87245),m=r(23960);async function j({params:e,searchParams:s}){let{dataset_id:r,shardset_id:i}=await e,{tab:j="columns"}=await s,v=await (await (0,d.K)()).GET("/datasets/{dataset_id}/shardsets/{shardset_id}",{params:{path:{dataset_id:r,shardset_id:i}}});if(v.error)return(0,a.jsx)(n.ErrorCard,{error:v.error.detail});let b=v.data;return(0,a.jsxs)("main",{className:"container flex w-full flex-1 flex-col items-center justify-center gap-8",children:[(0,a.jsx)(h.Qp,{className:"w-full pt-4",children:(0,a.jsxs)(h.AB,{children:[(0,a.jsx)(h.J5,{children:(0,a.jsx)(h.w1,{href:"/",children:"Home"})}),(0,a.jsx)(h.tH,{}),(0,a.jsx)(h.J5,{children:(0,a.jsx)(h.w1,{href:"/datasets",children:"Datasets"})}),(0,a.jsx)(h.tH,{}),(0,a.jsx)(h.J5,{children:(0,a.jsx)(h.w1,{href:`/datasets/${b.dataset_id}`,children:b.dataset_id})}),(0,a.jsx)(h.tH,{}),(0,a.jsx)(h.J5,{children:(0,a.jsx)(h.w1,{href:`/datasets/${b.dataset_id}`,children:"Shardsets"})}),(0,a.jsx)(h.tH,{}),(0,a.jsx)(h.J5,{children:(0,a.jsx)(h.tJ,{children:b.id})})]})}),(0,a.jsxs)("div",{className:"w-full flex flex-col gap-1",children:[(0,a.jsx)("div",{className:"text-lg",children:b.location}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:b.id})]}),(0,a.jsxs)(f.tU,{defaultValue:j,className:"w-full",children:[(0,a.jsxs)(f.j7,{children:[(0,a.jsx)(l(),{href:`/datasets/${r}/shardsets/${i}?tab=columns`,children:(0,a.jsx)(f.Xi,{value:"columns",children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(x.A,{className:"w-4 h-4"}),"Columns"]})})}),(0,a.jsx)(l(),{href:`/datasets/${r}/shardsets/${i}?tab=shards`,children:(0,a.jsx)(f.Xi,{value:"shards",children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(u,{className:"w-4 h-4"}),"Shards"]})})}),(0,a.jsx)(l(),{href:`/datasets/${r}/shardsets/${i}?tab=settings`,children:(0,a.jsx)(f.Xi,{value:"settings",children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(p.A,{className:"w-4 h-4"}),"Settings"]})})})]}),(0,a.jsxs)(f.av,{value:"columns",className:"flex flex-col gap-2",children:[(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:[b.columns.length," columns"]}),(0,a.jsx)(o.Zp,{className:"w-full",children:(0,a.jsx)(o.Wu,{children:(0,a.jsxs)(t.XI,{children:[(0,a.jsx)(t.A0,{children:(0,a.jsxs)(t.Hj,{children:[(0,a.jsx)(t.nd,{className:"w-[100px]",children:"Name"}),(0,a.jsx)(t.nd,{children:"Type"}),(0,a.jsx)(t.nd,{children:"Description"})]})}),(0,a.jsx)(t.BF,{children:b.columns.map(e=>(0,a.jsxs)(t.Hj,{children:[(0,a.jsx)(t.nA,{className:"font-mono text-xs",children:e.name}),(0,a.jsx)(t.nA,{children:e.type}),(0,a.jsx)(t.nA,{children:e.description})]},e.id))})]})})})]}),(0,a.jsxs)(f.av,{value:"shards",className:"flex flex-col gap-2",children:[(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:[b.shard_count," shards, ",b.total_samples," samples"]}),(0,a.jsx)(o.Zp,{className:"w-full",children:(0,a.jsx)(o.Wu,{children:(0,a.jsxs)(t.XI,{children:[(0,a.jsx)(t.A0,{children:(0,a.jsxs)(t.Hj,{children:[(0,a.jsx)(t.nd,{className:"w-[100px]",children:"ID"}),(0,a.jsx)(t.nd,{children:"Index"}),(0,a.jsx)(t.nd,{children:"Location"}),(0,a.jsx)(t.nd,{children:"Format"}),(0,a.jsx)(t.nd,{children:"Samples"}),(0,a.jsx)(t.nd,{children:"Filesize"})]})}),(0,a.jsx)(t.BF,{children:b.shards.sort((e,s)=>e.index-s.index).map(e=>(0,a.jsxs)(t.Hj,{children:[(0,a.jsx)(t.nA,{className:"font-mono text-xs",children:e.id}),(0,a.jsx)(t.nA,{children:e.index}),(0,a.jsx)(t.nA,{children:e.location}),(0,a.jsx)(t.nA,{children:e.format}),(0,a.jsx)(t.nA,{children:e.samples}),(0,a.jsx)(t.nA,{children:e.filesize})]},e.id))})]})})})]}),(0,a.jsx)(f.av,{value:"settings",className:"w-full max-w-[720px] flex flex-col gap-2 items-start",children:(0,a.jsx)(o.Zp,{className:"w-full",children:(0,a.jsxs)(o.Wu,{className:"flex flex-col gap-2",children:[(0,a.jsxs)("div",{className:"grid grid-cols-[1fr_200px] gap-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-md",children:"Sync shardset"}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"Sync the shardset to its location."})]}),(0,a.jsx)(c.U,{dataset_id:r,shardset_id:i})]}),(0,a.jsxs)("div",{className:"grid grid-cols-[1fr_200px] gap-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-md",children:"Delete this shardset"}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"This action is irreversible."})]}),(0,a.jsx)(m.DeleteShardsetDialog,{datasetId:r,shardsetId:i})]})]})})})]})]})}},33873:e=>{"use strict";e.exports=require("path")},36363:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>n.a,__next_app__:()=>h,pages:()=>o,routeModule:()=>x,tree:()=>c});var a=r(14125),t=r(29466),d=r(63940),n=r.n(d),i=r(339),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(s,l);let c={children:["",{children:["datasets",{children:["[dataset_id]",{children:["shardsets",{children:["[shardset_id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,32047)),"/Users/hanch/fal/lavender-data/packages/lavender-data-ui/src/app/datasets/[dataset_id]/shardsets/[shardset_id]/page.tsx"]}]},{}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,74723)),"/Users/hanch/fal/lavender-data/packages/lavender-data-ui/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,7376,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,97801,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,31318,23)),"next/dist/client/components/unauthorized-error"]}]}.children,o=["/Users/hanch/fal/lavender-data/packages/lavender-data-ui/src/app/datasets/[dataset_id]/shardsets/[shardset_id]/page.tsx"],h={require:r,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:t.RouteKind.APP_PAGE,page:"/datasets/[dataset_id]/shardsets/[shardset_id]/page",pathname:"/datasets/[dataset_id]/shardsets/[shardset_id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},66034:(e,s,r)=>{Promise.resolve().then(r.bind(r,68050)),Promise.resolve().then(r.t.bind(r,9452,23)),Promise.resolve().then(r.bind(r,18252)),Promise.resolve().then(r.bind(r,36493))},87170:(e,s,r)=>{let{createProxy:a}=r(86506);e.exports=a("/Users/hanch/fal/lavender-data/node_modules/.pnpm/next@15.2.3_@babel+core@7.26.9_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/client/app-dir/link.js")},91690:(e,s,r)=>{"use strict";r.d(s,{A:()=>n});var a=r(47459);r(10748);var t=r(35848),d=r(54041);async function n(e,s,r){try{let a=await (await (0,t.K)()).POST("/datasets/{dataset_id}/shardsets/{shardset_id}/sync",{params:{path:{dataset_id:e,shardset_id:s}},body:{overwrite:r}});if(a.error){let e="Unknown error";return"string"==typeof a.error.detail&&(e=a.error.detail),{success:!1,error:e}}return(0,d.revalidatePath)(`/datasets/${e}/shardsets/${s}`),{success:!0,data:a.data}}catch(e){return{success:!1,error:e instanceof Error?e.message:"An unexpected error occurred"}}}(0,r(24356).D)([n]),(0,a.A)(n,"70f55a50cf88818593d1975bdd39fb64c5a9a15992",null)}};var s=require("../../../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),a=s.X(0,[232,750,745,939,111,654,995,719,812],()=>r(36363));module.exports=a})();