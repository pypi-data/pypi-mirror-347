(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[488],{1237:(e,t,r)=>{"use strict";r.d(t,{cn:()=>s});var a=r(2831),n=r(7719);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.QP)((0,a.$)(t))}},4462:(e,t,r)=>{"use strict";r.d(t,{Indicator:()=>w,Root:()=>j});var a=r(8670),n=r(4887),s=r(6027),l=r(8421),o="Progress",[i,c]=(0,n.A)(o),[d,u]=i(o),x=a.forwardRef((e,t)=>{var r,a,n,o;let{__scopeProgress:i,value:c=null,max:u,getValueLabel:x=h,...f}=e;(u||0===u)&&!g(u)&&console.error((r="".concat(u),a="Progress","Invalid prop `max` of value `".concat(r,"` supplied to `").concat(a,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(100,"`.")));let m=g(u)?u:100;null===c||b(c,m)||console.error((n="".concat(c),o="Progress","Invalid prop `value` of value `".concat(n,"` supplied to `").concat(o,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(100," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")));let j=b(c,m)?c:null,w=p(j)?x(j,m):void 0;return(0,l.jsx)(d,{scope:i,value:j,max:m,children:(0,l.jsx)(s.sG.div,{"aria-valuemax":m,"aria-valuemin":0,"aria-valuenow":p(j)?j:void 0,"aria-valuetext":w,role:"progressbar","data-state":v(j,m),"data-value":null!=j?j:void 0,"data-max":m,...f,ref:t})})});x.displayName=o;var f="ProgressIndicator",m=a.forwardRef((e,t)=>{var r;let{__scopeProgress:a,...n}=e,o=u(f,a);return(0,l.jsx)(s.sG.div,{"data-state":v(o.value,o.max),"data-value":null!==(r=o.value)&&void 0!==r?r:void 0,"data-max":o.max,...n,ref:t})});function h(e,t){return"".concat(Math.round(e/t*100),"%")}function v(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function p(e){return"number"==typeof e}function g(e){return p(e)&&!isNaN(e)&&e>0}function b(e,t){return p(e)&&!isNaN(e)&&e<=t&&e>=0}m.displayName=f;var j=x,w=m},4760:(e,t,r)=>{"use strict";r.d(t,{HF:()=>a,d1:()=>n});let a=async()=>{let e=await fetch("/api/version");if(!e.ok)throw Error("Failed to fetch version");return e.json()},n=async()=>{let e=await fetch("/api/background-tasks");if(!e.ok)throw Error("Failed to fetch background tasks: ".concat(e.status));return e.json()}},4887:(e,t,r)=>{"use strict";r.d(t,{A:()=>l,q:()=>s});var a=r(8670),n=r(8421);function s(e,t){let r=a.createContext(t),s=e=>{let{children:t,...s}=e,l=a.useMemo(()=>s,Object.values(s));return(0,n.jsx)(r.Provider,{value:l,children:t})};return s.displayName=e+"Provider",[s,function(n){let s=a.useContext(r);if(s)return s;if(void 0!==t)return t;throw Error(`\`${n}\` must be used within \`${e}\``)}]}function l(e,t=[]){let r=[],s=()=>{let t=r.map(e=>a.createContext(e));return function(r){let n=r?.[e]||t;return a.useMemo(()=>({[`__scope${e}`]:{...r,[e]:n}}),[r,n])}};return s.scopeName=e,[function(t,s){let l=a.createContext(s),o=r.length;r=[...r,s];let i=t=>{let{scope:r,children:s,...i}=t,c=r?.[e]?.[o]||l,d=a.useMemo(()=>i,Object.values(i));return(0,n.jsx)(c.Provider,{value:d,children:s})};return i.displayName=t+"Provider",[i,function(r,n){let i=n?.[e]?.[o]||l,c=a.useContext(i);if(c)return c;if(void 0!==s)return s;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let n=r.reduce((t,{useScope:r,scopeName:a})=>{let n=r(e)[`__scope${a}`];return{...t,...n}},{});return a.useMemo(()=>({[`__scope${t.scopeName}`]:n}),[n])}};return r.scopeName=t.scopeName,r}(s,...t)]}},5039:(e,t,r)=>{Promise.resolve().then(r.bind(r,9448))},6027:(e,t,r)=>{"use strict";r.d(t,{hO:()=>i,sG:()=>o});var a=r(8670),n=r(6596),s=r(4488),l=r(8421),o=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let r=a.forwardRef((e,r)=>{let{asChild:a,...n}=e,o=a?s.DX:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,l.jsx)(o,{...n,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function i(e,t){e&&n.flushSync(()=>e.dispatchEvent(t))}},6853:(e,t,r)=>{"use strict";r.d(t,{$:()=>i,r:()=>o});var a=r(8421);r(8670);var n=r(4488),s=r(375),l=r(1237);let o=(0,s.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-[color,box-shadow] disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40",outline:"border border-input bg-background shadow-xs hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function i(e){let{className:t,variant:r,size:s,asChild:i=!1,...c}=e,d=i?n.DX:"button";return(0,a.jsx)(d,{"data-slot":"button",className:(0,l.cn)(o({variant:r,size:s,className:t})),...c})}},6879:(e,t,r)=>{"use strict";r.d(t,{BT:()=>i,Wu:()=>c,ZB:()=>o,Zp:()=>s,aR:()=>l,wL:()=>d});var a=r(8421);r(8670);var n=r(1237);function s(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,n.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...r})}function l(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,n.cn)("flex flex-col gap-1.5 px-6",t),...r})}function o(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,n.cn)("leading-none font-semibold",t),...r})}function i(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,n.cn)("text-muted-foreground text-sm",t),...r})}function c(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,n.cn)("px-6",t),...r})}function d(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-footer",className:(0,n.cn)("flex items-center px-6",t),...r})}},7750:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var a=r(8670);let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:n=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:c="",children:d,iconNode:u,...x}=e;return(0,a.createElement)("svg",{ref:t,...l,width:n,height:n,stroke:r,strokeWidth:i?24*Number(o)/Number(n):o,className:s("lucide",c),...x},[...u.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),i=(e,t)=>{let r=(0,a.forwardRef)((r,l)=>{let{className:i,...c}=r;return(0,a.createElement)(o,{ref:l,iconNode:t,className:s("lucide-".concat(n(e)),i),...c})});return r.displayName="".concat(e),r}},9448:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>$});var a=r(8421),n=r(8670),s=r(4488),l=r(7750);let o=(0,l.A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var i=r(1237);function c(e){let{...t}=e;return(0,a.jsx)("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",...t})}function d(e){let{className:t,...r}=e;return(0,a.jsx)("ol",{"data-slot":"breadcrumb-list",className:(0,i.cn)("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",t),...r})}function u(e){let{className:t,...r}=e;return(0,a.jsx)("li",{"data-slot":"breadcrumb-item",className:(0,i.cn)("inline-flex items-center gap-1.5",t),...r})}function x(e){let{asChild:t,className:r,...n}=e,l=t?s.DX:"a";return(0,a.jsx)(l,{"data-slot":"breadcrumb-link",className:(0,i.cn)("hover:text-foreground transition-colors",r),...n})}function f(e){let{className:t,...r}=e;return(0,a.jsx)("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",className:(0,i.cn)("text-foreground font-normal",t),...r})}function m(e){let{children:t,className:r,...n}=e;return(0,a.jsx)("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",className:(0,i.cn)("[&>svg]:size-3.5",r),...n,children:null!=t?t:(0,a.jsx)(o,{})})}var h=r(6879),v=r(4462);function p(e){let{className:t,value:r,...n}=e;return(0,a.jsx)(v.Root,{"data-slot":"progress",className:(0,i.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t),...n,children:(0,a.jsx)(v.Indicator,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:"translateX(-".concat(100-(r||0),"%)")}})})}function g(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,a.jsx)("table",{"data-slot":"table",className:(0,i.cn)("w-full caption-bottom text-sm",t),...r})})}function b(e){let{className:t,...r}=e;return(0,a.jsx)("thead",{"data-slot":"table-header",className:(0,i.cn)("[&_tr]:border-b",t),...r})}function j(e){let{className:t,...r}=e;return(0,a.jsx)("tbody",{"data-slot":"table-body",className:(0,i.cn)("[&_tr:last-child]:border-0",t),...r})}function w(e){let{className:t,...r}=e;return(0,a.jsx)("tr",{"data-slot":"table-row",className:(0,i.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...r})}function N(e){let{className:t,...r}=e;return(0,a.jsx)("th",{"data-slot":"table-head",className:(0,i.cn)("text-muted-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...r})}function y(e){let{className:t,...r}=e;return(0,a.jsx)("td",{"data-slot":"table-cell",className:(0,i.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...r})}var k=r(4760),_=r(6853);let C=(0,l.A)("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);function $(){let[e,t]=(0,n.useState)(!0),[r,s]=(0,n.useState)([]),l=async()=>{t(!0),s(await (0,k.d1)()),t(!1)};return(0,n.useEffect)(()=>{l()},[]),(0,a.jsxs)("main",{className:"container flex w-full flex-1 flex-col items-center justify-center gap-8",children:[(0,a.jsx)(c,{className:"w-full pt-4",children:(0,a.jsxs)(d,{children:[(0,a.jsx)(u,{children:(0,a.jsx)(x,{href:"/",children:"Home"})}),(0,a.jsx)(m,{}),(0,a.jsx)(u,{children:(0,a.jsx)(f,{children:"Background Tasks"})})]})}),(0,a.jsxs)("div",{className:"w-full flex flex-col gap-2",children:[(0,a.jsx)("div",{className:"text-lg",children:"Background Tasks"}),(0,a.jsx)("div",{className:"flex flex-row gap-2",children:(0,a.jsxs)(_.$,{variant:"outline",onClick:l,children:[(0,a.jsx)(C,{className:"w-4 h-4"}),"Refresh"]})}),e?(0,a.jsx)("div",{className:"text-center text-muted-foreground m-8",children:"Loading..."}):r.length>0?(0,a.jsx)(h.Zp,{className:"w-full",children:(0,a.jsx)(h.Wu,{children:(0,a.jsxs)(g,{children:[(0,a.jsx)(b,{children:(0,a.jsxs)(w,{children:[(0,a.jsx)(N,{children:"ID"}),(0,a.jsx)(N,{className:"min-w-[200px]",children:"Name"}),(0,a.jsx)(N,{children:"Created"}),(0,a.jsx)(N,{children:"Status"})]})}),(0,a.jsx)(j,{children:r.map(e=>{var t;return(0,a.jsxs)(w,{children:[(0,a.jsx)(y,{className:"font-mono text-xs",children:e.uid}),(0,a.jsx)(y,{children:e.name}),(0,a.jsx)(y,{children:new Date((t=e.start_time)+(t.endsWith("Z")?"":"Z")).toLocaleString()}),(0,a.jsx)(y,{children:e.status?(0,a.jsxs)("div",{className:"grid grid-cols-[120px_1fr] gap-2 items-center w-[300px]",children:[(0,a.jsx)(p,{className:"w-full",value:e.status.total>0?100*e.status.current/e.status.total:0}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:[e.status.total>0?"".concat(e.status.current," / ").concat(e.status.total," "):"",e.status.status]})]}):"Unknown"})]},e.uid)})})]})})}):(0,a.jsx)("div",{className:"text-center text-muted-foreground m-8",children:"Nothing here yet."})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[542,20,866,358],()=>t(5039)),_N_E=e.O()}]);