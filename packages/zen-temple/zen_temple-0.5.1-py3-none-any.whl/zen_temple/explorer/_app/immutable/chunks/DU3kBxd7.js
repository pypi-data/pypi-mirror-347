import{j as z,i as h,O as F,E as G,ae as H,Q as V,R as Z,K as $,S as D,U as m,k as Y,V as U,ao as j,m as K,ap as Q,q as k,o as L,x as p,aq as w,ar as J,as as W,at as X,I as B,P as x,au as aa,g as A,av as ea,b as ra,e as sa,_ as ia,aw as fa,ax as ta,ay as na,az as ua,aA as la}from"./DJ4-OfXg.js";import{l as _a}from"./DIeogL5L.js";function da(a,e,[f,i]=[0,0]){h&&f===0&&F();var t=a,r=null,n=null,d=j,E=f>0?G:0,l=!1;const T=(u,_=!0)=>{l=!0,I(_,u)},I=(u,_)=>{if(d===(d=u))return;let S=!1;if(h&&i!==-1){if(f===0){const c=t.data;c===H?i=0:c===V?i=1/0:(i=parseInt(c.substring(1)),i!==i&&(i=d?1/0:-1))}const R=i>f;!!d===R&&(t=Z(),$(t),D(!1),S=!0,i=-1)}d?(r?m(r):_&&(r=Y(()=>_(t))),n&&U(n,()=>{n=null})):(n?m(n):_&&(n=Y(()=>_(t,[f+1,i]))),r&&U(r,()=>{r=null})),S&&D(!0)};z(()=>{l=!1,e(T),l||I(null,null)},E),h&&(t=K)}function C(a,e){return a===e||(a==null?void 0:a[w])===e}function Sa(a={},e,f,i){return Q(()=>{var t,r;return k(()=>{t=r,r=[],L(()=>{a!==f(...r)&&(e(a,...r),t&&C(f(...t),a)&&e(null,...t))})}),()=>{p(()=>{r&&C(f(...r),a)&&e(null,...r)})}}),a}let b=!1;function ca(a){var e=b;try{return b=!1,[a(),b]}finally{b=e}}function M(a){var e;return((e=a.ctx)==null?void 0:e.d)??!1}function Pa(a,e,f,i){var q;var t=(f&ua)!==0,r=!_a||(f&na)!==0,n=(f&fa)!==0,d=(f&la)!==0,E=!1,l;n?[l,E]=ca(()=>a[e]):l=a[e];var T=w in a||ta in a,I=n&&(((q=J(a,e))==null?void 0:q.set)??(T&&e in a&&(s=>a[e]=s)))||void 0,u=i,_=!0,S=!1,R=()=>(S=!0,_&&(_=!1,d?u=L(i):u=i),u);l===void 0&&i!==void 0&&(I&&r&&W(),l=R(),I&&I(l));var c;if(r)c=()=>{var s=a[e];return s===void 0?R():(_=!0,S=!1,s)};else{var N=(t?B:x)(()=>a[e]);N.f|=X,c=()=>{var s=A(N);return s!==void 0&&(u=void 0),s===void 0?u:s}}if((f&aa)===0)return c;if(I){var y=a.$$legacy;return function(s,P){return arguments.length>0?((!r||!P||y||E)&&I(P?c():s),s):c()}}var g=!1,o=ia(l),v=B(()=>{var s=c(),P=A(o);return g?(g=!1,P):o.v=s});return n&&A(v),t||(v.equals=ea),function(s,P){if(arguments.length>0){const O=P?A(v):r&&n?ra(s):s;if(!v.equals(O)){if(g=!0,sa(o,O),S&&u!==void 0&&(u=O),M(v))return s;L(()=>A(v))}return s}return M(v)?v.v:A(v)}}export{Sa as b,da as i,Pa as p};
