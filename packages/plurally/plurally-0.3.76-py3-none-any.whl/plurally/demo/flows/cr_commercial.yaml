container_id: null
date_created: '2025-01-20T10:16:03.788185'
desc: ''
env_vars: {PLURALLY_OUTPUT_LANGUAGE: English, PLURALLY_PUBLIC_OUTPUT_LANGUAGE: English,
  SALESFORCE_LOCALE: en_US}
flow_json:
  _inter_subflow_run_links:
    nd-4713c37d-e775-42d3-82d1-333676c9ccd1: []
    nd-5c153b43-d8b8-4446-9788-283555f1e0ec: []
    nd-a84ee7d2-3bb8-4946-b3b6-6f1962d9657e: []
    nd-acffeaaa-1e75-4702-a4c9-4e267af2cdfc: []
    nd-b6684fd4-2a4b-447c-bca6-345fc6c678aa: []
    nd-b8c32f1c-5f3a-4a7b-926b-e5691ece7cf9: []
    nd-bd775592-04c1-4fbf-807d-df8a4fe465d9: []
  directed: true
  graph: {}
  id: fl-8ec2bc1b-caa8-418a-8404-b4d4d0428e7a
  links:
  - {key: nd-20211563-36af-436c-b386-ce79113467e9.contact_records###contacts, label: '[Lecture
      des contacts: contact_records] -> contacts', source: nd-4713c37d-e775-42d3-82d1-333676c9ccd1,
    src_handle: nd-20211563-36af-436c-b386-ce79113467e9.contact_records, target: nd-ef8cc77e-947e-48e0-84dc-3613d43e2c83,
    tgt_handle: contacts}
  - {key: 
      nd-20211563-36af-436c-b386-ce79113467e9.contact_records###nd-cbcb0a1a-daa3-4ff2-8a10-6dbb8d38fa27.contacts,
    label: '[Lecture des contacts: contact_records] -> [Création des contacts: contacts]',
    source: nd-4713c37d-e775-42d3-82d1-333676c9ccd1, src_handle: nd-20211563-36af-436c-b386-ce79113467e9.contact_records,
    target: nd-a84ee7d2-3bb8-4946-b3b6-6f1962d9657e, tgt_handle: nd-cbcb0a1a-daa3-4ff2-8a10-6dbb8d38fa27.contacts}
  - {key: 
      nd-aab22124-6df0-407b-b607-d9414ce5ad81.opportunity_records###nd-e9960712-4179-47a9-9bda-7f586a3e2787.opportunities,
    label: '[Lecture des opportunités: opportunity_records] -> [Création des opportunités:
      opportunities]', source: nd-4713c37d-e775-42d3-82d1-333676c9ccd1, src_handle: nd-aab22124-6df0-407b-b607-d9414ce5ad81.opportunity_records,
    target: nd-bd775592-04c1-4fbf-807d-df8a4fe465d9, tgt_handle: nd-e9960712-4179-47a9-9bda-7f586a3e2787.opportunities}
  - {key: 
      nd-34aa3e06-5bc0-4198-b659-a1b3bdcc56f5.task_records###nd-5034b6ff-a14a-449c-862a-587be4bb9f9d.tasks,
    label: '[Création des tâches: task_records] -> [Association des objets: tasks]',
    source: nd-acffeaaa-1e75-4702-a4c9-4e267af2cdfc, src_handle: nd-34aa3e06-5bc0-4198-b659-a1b3bdcc56f5.task_records,
    target: nd-b6684fd4-2a4b-447c-bca6-345fc6c678aa, tgt_handle: nd-5034b6ff-a14a-449c-862a-587be4bb9f9d.tasks}
  - {key: nd-34aa3e06-5bc0-4198-b659-a1b3bdcc56f5.task_records###tasks, label: '[Création
      des tâches: task_records] -> Tasks', source: nd-acffeaaa-1e75-4702-a4c9-4e267af2cdfc,
    src_handle: nd-34aa3e06-5bc0-4198-b659-a1b3bdcc56f5.task_records, target: nd-d71d5025-b13e-4487-a199-e6a32c22c9be,
    tgt_handle: tasks}
  - {key: nd-34aa3e06-5bc0-4198-b659-a1b3bdcc56f5.actions###actions_1_1_1_1, label: '[Création
      des tâches: actions] -> Actions 1 1 1 1', source: nd-acffeaaa-1e75-4702-a4c9-4e267af2cdfc,
    src_handle: nd-34aa3e06-5bc0-4198-b659-a1b3bdcc56f5.actions, target: nd-77908400-c8ec-4611-a7cc-e14f7bcb3451,
    tgt_handle: actions_1_1_1_1}
  - {key: 
      nd-a1fe0a55-2b5c-4e22-8572-8396e12fd320.contact_records###nd-5034b6ff-a14a-449c-862a-587be4bb9f9d.contacts,
    label: '[Création des contacts: contact_records] -> [Association des objets: contacts]',
    source: nd-a84ee7d2-3bb8-4946-b3b6-6f1962d9657e, src_handle: nd-a1fe0a55-2b5c-4e22-8572-8396e12fd320.contact_records,
    target: nd-b6684fd4-2a4b-447c-bca6-345fc6c678aa, tgt_handle: nd-5034b6ff-a14a-449c-862a-587be4bb9f9d.contacts}
  - {key: nd-a1fe0a55-2b5c-4e22-8572-8396e12fd320.contact_records###contact_records,
    label: '[Création des contacts: contact_records] -> Contact Records', source: nd-a84ee7d2-3bb8-4946-b3b6-6f1962d9657e,
    src_handle: nd-a1fe0a55-2b5c-4e22-8572-8396e12fd320.contact_records, target: nd-d71d5025-b13e-4487-a199-e6a32c22c9be,
    tgt_handle: contact_records}
  - {key: nd-a1fe0a55-2b5c-4e22-8572-8396e12fd320.actions###actions_1, label: '[Création
      des contacts: actions] -> Actions 1', source: nd-a84ee7d2-3bb8-4946-b3b6-6f1962d9657e,
    src_handle: nd-a1fe0a55-2b5c-4e22-8572-8396e12fd320.actions, target: nd-77908400-c8ec-4611-a7cc-e14f7bcb3451,
    tgt_handle: actions_1}
  - {key: 
      nd-eb8c8399-dbc6-4613-ba56-676d5dc14547.account_records###nd-5034b6ff-a14a-449c-862a-587be4bb9f9d.accounts,
    label: '[Création des comptes: account_records] -> [Association des objets: accounts]',
    source: nd-5c153b43-d8b8-4446-9788-283555f1e0ec, src_handle: nd-eb8c8399-dbc6-4613-ba56-676d5dc14547.account_records,
    target: nd-b6684fd4-2a4b-447c-bca6-345fc6c678aa, tgt_handle: nd-5034b6ff-a14a-449c-862a-587be4bb9f9d.accounts}
  - {key: nd-eb8c8399-dbc6-4613-ba56-676d5dc14547.account_records###account_records,
    label: '[Création des comptes: account_records] -> Account Records', source: nd-5c153b43-d8b8-4446-9788-283555f1e0ec,
    src_handle: nd-eb8c8399-dbc6-4613-ba56-676d5dc14547.account_records, target: nd-d71d5025-b13e-4487-a199-e6a32c22c9be,
    tgt_handle: account_records}
  - {key: nd-eb8c8399-dbc6-4613-ba56-676d5dc14547.actions###actions, label: '[Création
      des comptes: actions] -> Actions', source: nd-5c153b43-d8b8-4446-9788-283555f1e0ec,
    src_handle: nd-eb8c8399-dbc6-4613-ba56-676d5dc14547.actions, target: nd-77908400-c8ec-4611-a7cc-e14f7bcb3451,
    tgt_handle: actions}
  - {key: 
      nd-1eb6ba51-6def-4fbb-8d12-501e67b8214d.opportunity_records###nd-5034b6ff-a14a-449c-862a-587be4bb9f9d.opportunities,
    label: '[Création des opportunités: opportunity_records] -> [Association des objets:
      opportunities]', source: nd-bd775592-04c1-4fbf-807d-df8a4fe465d9, src_handle: nd-1eb6ba51-6def-4fbb-8d12-501e67b8214d.opportunity_records,
    target: nd-b6684fd4-2a4b-447c-bca6-345fc6c678aa, tgt_handle: nd-5034b6ff-a14a-449c-862a-587be4bb9f9d.opportunities}
  - {key: nd-1eb6ba51-6def-4fbb-8d12-501e67b8214d.opportunity_records###actions, label: '[Création
      des opportunités: opportunity_records] -> Actions', source: nd-bd775592-04c1-4fbf-807d-df8a4fe465d9,
    src_handle: nd-1eb6ba51-6def-4fbb-8d12-501e67b8214d.opportunity_records, target: nd-d71d5025-b13e-4487-a199-e6a32c22c9be,
    tgt_handle: actions}
  - {key: nd-1eb6ba51-6def-4fbb-8d12-501e67b8214d.actions###actions_1_1, label: '[Création
      des opportunités: actions] -> Actions 1 1', source: nd-bd775592-04c1-4fbf-807d-df8a4fe465d9,
    src_handle: nd-1eb6ba51-6def-4fbb-8d12-501e67b8214d.actions, target: nd-77908400-c8ec-4611-a7cc-e14f7bcb3451,
    tgt_handle: actions_1_1}
  - {key: nd-e527b95d-a35d-4a2d-8364-6e424f533e94.actions###actions_1_1_1_1_1, label: '[Association
      des objets: actions] -> Actions 1 1 1 1 1', source: nd-b6684fd4-2a4b-447c-bca6-345fc6c678aa,
    src_handle: nd-e527b95d-a35d-4a2d-8364-6e424f533e94.actions, target: nd-77908400-c8ec-4611-a7cc-e14f7bcb3451,
    tgt_handle: actions_1_1_1_1_1}
  - {key: event_records###nd-5034b6ff-a14a-449c-862a-587be4bb9f9d.events, label: 'Event
      Records -> [Association des objets: events]', source: nd-57dc9a4f-4eda-461e-8753-3e5e3d5be1f2,
    src_handle: event_records, target: nd-b6684fd4-2a4b-447c-bca6-345fc6c678aa, tgt_handle: nd-5034b6ff-a14a-449c-862a-587be4bb9f9d.events}
  - {key: event_records###event_records, label: Event Records -> Event Records, source: nd-57dc9a4f-4eda-461e-8753-3e5e3d5be1f2,
    src_handle: event_records, target: nd-d71d5025-b13e-4487-a199-e6a32c22c9be, tgt_handle: event_records}
  - {key: actions###actions_1_1_1, label: Actions -> Actions 1 1 1, source: nd-57dc9a4f-4eda-461e-8753-3e5e3d5be1f2,
    src_handle: actions, target: nd-77908400-c8ec-4611-a7cc-e14f7bcb3451, tgt_handle: actions_1_1_1}
  - {key: events###event_records, label: events -> Event Records, source: nd-9ecb6a3d-6a36-48de-8134-20f034c1150b,
    src_handle: events, target: nd-57dc9a4f-4eda-461e-8753-3e5e3d5be1f2, tgt_handle: event_records}
  - {key: corrected_transcript###transcript, label: corrected_transcript -> transcript,
    source: nd-9ce1034e-8308-43c9-a1dd-367c4b49879b, src_handle: corrected_transcript,
    target: nd-ef8cc77e-947e-48e0-84dc-3613d43e2c83, tgt_handle: transcript}
  - {key: corrected_transcript###report, label: corrected_transcript -> report, source: nd-9ce1034e-8308-43c9-a1dd-367c4b49879b,
    src_handle: corrected_transcript, target: nd-924ddb35-f25c-4e64-ba60-323ccc21dcf9,
    tgt_handle: report}
  - {key: account_records###accounts, label: Account Records -> accounts, source: nd-e8a064ad-1754-4bd9-834c-4dd6615fb18a,
    src_handle: account_records, target: nd-9ce1034e-8308-43c9-a1dd-367c4b49879b,
    tgt_handle: accounts}
  - {key: account_records###existing_accounts, label: Account Records -> existing_accounts,
    source: nd-e8a064ad-1754-4bd9-834c-4dd6615fb18a, src_handle: account_records,
    target: nd-924ddb35-f25c-4e64-ba60-323ccc21dcf9, tgt_handle: existing_accounts}
  - {key: corrected_transcript###nd-7bbea982-266c-41f5-a3b0-2f936086eda7.summary,
    label: 'corrected_transcript -> [Création des comptes: summary]', source: nd-ef8cc77e-947e-48e0-84dc-3613d43e2c83,
    src_handle: corrected_transcript, target: nd-5c153b43-d8b8-4446-9788-283555f1e0ec,
    tgt_handle: nd-7bbea982-266c-41f5-a3b0-2f936086eda7.summary}
  - {key: corrected_transcript###nd-5034b6ff-a14a-449c-862a-587be4bb9f9d.summary,
    label: 'corrected_transcript -> [Association des objets: summary]', source: nd-ef8cc77e-947e-48e0-84dc-3613d43e2c83,
    src_handle: corrected_transcript, target: nd-b6684fd4-2a4b-447c-bca6-345fc6c678aa,
    tgt_handle: nd-5034b6ff-a14a-449c-862a-587be4bb9f9d.summary}
  - {key: corrected_transcript###nd-e787a3ef-3bc4-44f5-b247-05e33ce488b8.summary,
    label: 'corrected_transcript -> [Création des tâches: summary]', source: nd-ef8cc77e-947e-48e0-84dc-3613d43e2c83,
    src_handle: corrected_transcript, target: nd-acffeaaa-1e75-4702-a4c9-4e267af2cdfc,
    tgt_handle: nd-e787a3ef-3bc4-44f5-b247-05e33ce488b8.summary}
  - {key: corrected_transcript###nd-e9960712-4179-47a9-9bda-7f586a3e2787.summary,
    label: 'corrected_transcript -> [Création des opportunités: summary]', source: nd-ef8cc77e-947e-48e0-84dc-3613d43e2c83,
    src_handle: corrected_transcript, target: nd-bd775592-04c1-4fbf-807d-df8a4fe465d9,
    tgt_handle: nd-e9960712-4179-47a9-9bda-7f586a3e2787.summary}
  - {key: corrected_transcript###nd-cbcb0a1a-daa3-4ff2-8a10-6dbb8d38fa27.summary,
    label: 'corrected_transcript -> [Création des contacts: summary]', source: nd-ef8cc77e-947e-48e0-84dc-3613d43e2c83,
    src_handle: corrected_transcript, target: nd-a84ee7d2-3bb8-4946-b3b6-6f1962d9657e,
    tgt_handle: nd-cbcb0a1a-daa3-4ff2-8a10-6dbb8d38fa27.summary}
  - {key: corrected_transcript###report, label: corrected_transcript -> report, source: nd-ef8cc77e-947e-48e0-84dc-3613d43e2c83,
    src_handle: corrected_transcript, target: nd-9ecb6a3d-6a36-48de-8134-20f034c1150b,
    tgt_handle: report}
  - {key: corrected_transcript###transcript, label: corrected_transcript -> transcript,
    source: nd-ef8cc77e-947e-48e0-84dc-3613d43e2c83, src_handle: corrected_transcript,
    target: nd-ebe2e3f6-be6f-4afd-9d57-b5d8b878c74b, tgt_handle: transcript}
  - {key: html###content, label: HTML -> Content, source: nd-7dc0a4a2-82fd-48d7-9715-c20435be8e34,
    src_handle: html, target: nd-2a66eeb5-43b3-48ee-9123-6f37c95ff1df, tgt_handle: content}
  - {key: subject###subject, label: Subject -> subject, source: nd-0b46ebca-a2c8-4c0a-828a-fb4f5c8c4d4e,
    src_handle: subject, target: nd-9ecb6a3d-6a36-48de-8134-20f034c1150b, tgt_handle: subject}
  - {key: description###description, label: Description -> description, source: nd-0b46ebca-a2c8-4c0a-828a-fb4f5c8c4d4e,
    src_handle: description, target: nd-9ecb6a3d-6a36-48de-8134-20f034c1150b, tgt_handle: description}
  - {key: reasons_removal###data, label: reasons_removal -> Data, source: nd-ebe2e3f6-be6f-4afd-9d57-b5d8b878c74b,
    src_handle: reasons_removal, target: nd-7dc0a4a2-82fd-48d7-9715-c20435be8e34,
    tgt_handle: data}
  - {key: compliant_transcript###report, label: compliant_transcript -> report, source: nd-ebe2e3f6-be6f-4afd-9d57-b5d8b878c74b,
    src_handle: compliant_transcript, target: nd-0b46ebca-a2c8-4c0a-828a-fb4f5c8c4d4e,
    tgt_handle: report}
  - {key: enregistrement_audio###audio, label: Enregistrement audio -> Audio, source: nd-2c3d159d-9f8a-4ec8-a961-d0ee1c7d3294,
    src_handle: enregistrement_audio, target: nd-872bd7e5-02f7-4025-a64c-827f6d1d332f,
    tgt_handle: audio}
  - {key: output###nd-e527b95d-a35d-4a2d-8364-6e424f533e94.entities, label: 'Output
      -> [Association des objets: entities]', source: nd-d71d5025-b13e-4487-a199-e6a32c22c9be,
    src_handle: output, target: nd-b6684fd4-2a4b-447c-bca6-345fc6c678aa, tgt_handle: nd-e527b95d-a35d-4a2d-8364-6e424f533e94.entities}
  - {key: output###actions, label: Output -> Actions, source: nd-77908400-c8ec-4611-a7cc-e14f7bcb3451,
    src_handle: output, target: nd-fa917166-c5cf-491d-993b-6d61ddb8f9e7, tgt_handle: actions}
  - {key: account_records###nd-af8fb5e7-c2be-4087-90f7-2c52757a89e3.accounts, label: 'Account
      Records -> [Lecture des contacts: accounts]', source: nd-81e30ef2-6ff1-497f-8689-98a8561f3841,
    src_handle: account_records, target: nd-4713c37d-e775-42d3-82d1-333676c9ccd1,
    tgt_handle: nd-af8fb5e7-c2be-4087-90f7-2c52757a89e3.accounts}
  - {key: account_records###nd-19d770ab-130b-4e1e-b3b5-a9f325e15be2.accounts, label: 'Account
      Records -> [Lecture des opportunités: accounts]', source: nd-81e30ef2-6ff1-497f-8689-98a8561f3841,
    src_handle: account_records, target: nd-4713c37d-e775-42d3-82d1-333676c9ccd1,
    tgt_handle: nd-19d770ab-130b-4e1e-b3b5-a9f325e15be2.accounts}
  - {key: account_records###nd-7bbea982-266c-41f5-a3b0-2f936086eda7.accounts, label: 'Account
      Records -> [Création des comptes: accounts]', source: nd-81e30ef2-6ff1-497f-8689-98a8561f3841,
    src_handle: account_records, target: nd-5c153b43-d8b8-4446-9788-283555f1e0ec,
    tgt_handle: nd-7bbea982-266c-41f5-a3b0-2f936086eda7.accounts}
  - {key: accounts_filter###account_records, label: accounts_filter -> Account Records,
    source: nd-924ddb35-f25c-4e64-ba60-323ccc21dcf9, src_handle: accounts_filter,
    target: nd-81e30ef2-6ff1-497f-8689-98a8561f3841, tgt_handle: account_records}
  - {key: transcript###transcript, label: Transcript -> transcript, source: nd-872bd7e5-02f7-4025-a64c-827f6d1d332f,
    src_handle: transcript, target: nd-9ce1034e-8308-43c9-a1dd-367c4b49879b, tgt_handle: transcript}
  multigraph: true
  name: ''
  nodes:
  - id:
      PLURALLY_VERSION: 0
      _node_id: nd-4713c37d-e775-42d3-82d1-333676c9ccd1
      desc: ''
      icons: [openai]
      input_schema:
        $defs:
          Auto:
            properties: {}
            title: Auto
            type: object
        additionalProperties: false
        properties:
          nd-19d770ab-130b-4e1e-b3b5-a9f325e15be2.accounts:
            properties: {}
            title: '[Lecture des opportunités: accounts]'
            type: object
          nd-af8fb5e7-c2be-4087-90f7-2c52757a89e3.accounts:
            properties: {}
            title: '[Lecture des contacts: accounts]'
            type: object
          run:
            default: true
            description: Whether to run the block.
            examples: [true, false]
            title: Run
            type: boolean
        required: [nd-19d770ab-130b-4e1e-b3b5-a9f325e15be2.accounts, nd-af8fb5e7-c2be-4087-90f7-2c52757a89e3.accounts]
        title: InputSchema
        type: object
      is_output_fixable: false
      is_trigger: false
      kls: Subflow
      name: Existing Opportunities And Contacts
      output_schema:
        $defs:
          Auto:
            properties: {}
            title: Auto
            type: object
        properties:
          nd-19d770ab-130b-4e1e-b3b5-a9f325e15be2.opportunities_filter:
            properties: {}
            title: '[Lecture des opportunités: opportunities_filter]'
            type: object
          nd-20211563-36af-436c-b386-ce79113467e9.contact_records:
            default: []
            items:
              properties: {}
              title: Auto
              type: object
            title: '[Lecture des contacts: contact_records]'
            type: array
          nd-aab22124-6df0-407b-b607-d9414ce5ad81.opportunity_records:
            default: []
            items:
              properties: {}
              title: Auto
              type: object
            title: '[Lecture des opportunités: opportunity_records]'
            type: array
          nd-af8fb5e7-c2be-4087-90f7-2c52757a89e3.contact_filters:
            properties: {}
            title: '[Lecture des contacts: contact_filters]'
            type: object
        required: [nd-19d770ab-130b-4e1e-b3b5-a9f325e15be2.opportunities_filter, nd-af8fb5e7-c2be-4087-90f7-2c52757a89e3.contact_filters]
        title: OutputSchema
        type: object
        uiSchema:
          ui:options: {label: false}
      pos_x: 377.0
      pos_y: 721.0
      src_handles: [nd-19d770ab-130b-4e1e-b3b5-a9f325e15be2.opportunities_filter,
        nd-af8fb5e7-c2be-4087-90f7-2c52757a89e3.contact_filters, nd-aab22124-6df0-407b-b607-d9414ce5ad81.opportunity_records,
        nd-20211563-36af-436c-b386-ce79113467e9.contact_records]
      subflow_links:
      - {key: opportunities_filter###opportunity_records, label: opportunities_filter
          -> Opportunity Records, source: nd-19d770ab-130b-4e1e-b3b5-a9f325e15be2,
        src_handle: opportunities_filter, target: nd-aab22124-6df0-407b-b607-d9414ce5ad81,
        tgt_handle: opportunity_records}
      - {key: contact_filters###contact_records, label: contact_filters -> Contact
          Records, source: nd-af8fb5e7-c2be-4087-90f7-2c52757a89e3, src_handle: contact_filters,
        target: nd-20211563-36af-436c-b386-ce79113467e9, tgt_handle: contact_records}
      subflow_nodes:
      - PLURALLY_VERSION: 0
        _node_id: nd-aab22124-6df0-407b-b607-d9414ce5ad81
        input_schema:
          $defs:
            SalesforceSOQLComparisonOperatorMulti:
              enum: [IN, NOT IN, INCLUDES, EXCLUDES]
              title: SalesforceSOQLComparisonOperatorMulti
              type: string
            SalesforceSOQLComparisonOperatorSingle:
              enum: ['=', '!=', <, <=, '>', '>=', LIKE]
              title: SalesforceSOQLComparisonOperatorSingle
              type: string
            SalesforceSOQLFilterGroup:
              properties:
                filters:
                  items:
                    anyOf:
                    - properties:
                        field: {title: Field, type: string}
                        operator:
                          enum: ['=', '!=', <, <=, '>', '>=', LIKE]
                          title: SalesforceSOQLComparisonOperatorSingle
                          type: string
                        value:
                          anyOf:
                          - {type: string}
                          - {type: integer}
                          - {type: number}
                          - {format: date-time, type: string}
                          - {format: date, type: string}
                          title: Value
                      required: [field, operator, value]
                      title: SalesforceSOQLFilterSingle
                      type: object
                    - properties:
                        field: {title: Field, type: string}
                        operator:
                          enum: [IN, NOT IN, INCLUDES, EXCLUDES]
                          title: SalesforceSOQLComparisonOperatorMulti
                          type: string
                        values:
                          items: {type: string}
                          title: Values
                          type: array
                      required: [field, operator, values]
                      title: SalesforceSOQLFilterMulti
                      type: object
                  title: Filters
                  type: array
                logical_operator:
                  default: AND
                  enum: [AND, OR, NOT]
                  title: SalesforceSOQLLogicalOperator
                  type: string
              required: [filters]
              title: SalesforceSOQLFilterGroup
              type: object
            SalesforceSOQLFilterMulti:
              properties:
                field: {title: Field, type: string}
                operator:
                  enum: [IN, NOT IN, INCLUDES, EXCLUDES]
                  title: SalesforceSOQLComparisonOperatorMulti
                  type: string
                values:
                  items: {type: string}
                  title: Values
                  type: array
              required: [field, operator, values]
              title: SalesforceSOQLFilterMulti
              type: object
            SalesforceSOQLFilterSingle:
              properties:
                field: {title: Field, type: string}
                operator:
                  enum: ['=', '!=', <, <=, '>', '>=', LIKE]
                  title: SalesforceSOQLComparisonOperatorSingle
                  type: string
                value:
                  anyOf:
                  - {type: string}
                  - {type: integer}
                  - {type: number}
                  - {format: date-time, type: string}
                  - {format: date, type: string}
                  title: Value
              required: [field, operator, value]
              title: SalesforceSOQLFilterSingle
              type: object
            SalesforceSOQLLogicalOperator:
              enum: [AND, OR, NOT]
              title: SalesforceSOQLLogicalOperator
              type: string
          additionalProperties: false
          description: Selects for the Salesforce entities.
          properties:
            opportunity_records:
              anyOf:
              - properties:
                  field: {title: Field, type: string}
                  operator:
                    enum: ['=', '!=', <, <=, '>', '>=', LIKE]
                    title: SalesforceSOQLComparisonOperatorSingle
                    type: string
                  value:
                    anyOf:
                    - {type: string}
                    - {type: integer}
                    - {type: number}
                    - {format: date-time, type: string}
                    - {format: date, type: string}
                    title: Value
                required: [field, operator, value]
                title: SalesforceSOQLFilterSingle
                type: object
              - properties:
                  field: {title: Field, type: string}
                  operator:
                    enum: [IN, NOT IN, INCLUDES, EXCLUDES]
                    title: SalesforceSOQLComparisonOperatorMulti
                    type: string
                  values:
                    items: {type: string}
                    title: Values
                    type: array
                required: [field, operator, values]
                title: SalesforceSOQLFilterMulti
                type: object
              - properties:
                  filters:
                    items:
                      anyOf:
                      - properties:
                          field: {title: Field, type: string}
                          operator:
                            enum: ['=', '!=', <, <=, '>', '>=', LIKE]
                            title: SalesforceSOQLComparisonOperatorSingle
                            type: string
                          value:
                            anyOf:
                            - {type: string}
                            - {type: integer}
                            - {type: number}
                            - {format: date-time, type: string}
                            - {format: date, type: string}
                            title: Value
                        required: [field, operator, value]
                        title: SalesforceSOQLFilterSingle
                        type: object
                      - properties:
                          field: {title: Field, type: string}
                          operator:
                            enum: [IN, NOT IN, INCLUDES, EXCLUDES]
                            title: SalesforceSOQLComparisonOperatorMulti
                            type: string
                          values:
                            items: {type: string}
                            title: Values
                            type: array
                        required: [field, operator, values]
                        title: SalesforceSOQLFilterMulti
                        type: object
                    title: Filters
                    type: array
                  logical_operator:
                    default: AND
                    enum: [AND, OR, NOT]
                    title: SalesforceSOQLLogicalOperator
                    type: string
                required: [filters]
                title: SalesforceSOQLFilterGroup
                type: object
              - {type: 'null'}
              default: null
              description: Selects for Opportunity
              title: Opportunity Records
            run:
              default: true
              description: Whether to run the block.
              examples: [true, false]
              title: Run
              type: boolean
          title: SalesforceAutoInput
          type: object
        instance_url: https://plurally2-dev-ed.develop.my.salesforce.com
        is_output_fixable: true
        is_trigger: false
        kls: SalesforceReadAuto
        name: Lecture des opportunités
        objects_to_read:
        - Account_properties: Name, Website, Industry
          AssociatedLocation_properties: ''
          Contact_properties: Email, FirstName, LastName, Phone, Title
          EventRelation_properties: ''
          Event_properties: Description,DurationInMinutes,Location,StartDateTime,Subject,Type
          Lead_properties: FirstName,LastName,Company,Email,Website,Title,Status,Industry,LeadSource
          Opportunity_properties: Name,Amount,CloseDate,StageName,Description
          Poulailler__c_properties: Name
          Task_properties: Subject,Status,Priority,Description,ActivityDate
          properties: Name,Amount,CloseDate,StageName,Description
          properties_list: [Name, Amount, CloseDate, StageName, Description]
          record_type: ''
          s_object_type: Opportunity
        output_schema:
          $defs:
            Auto:
              properties: {}
              title: Auto
              type: object
          properties:
            opportunity_records:
              default: []
              items:
                properties: {}
                title: Auto
                type: object
              title: Opportunity Records
              type: array
          title: OutputSchema
          type: object
          uiSchema: {ui:field: SalesforceQuery}
        pos_x: 281.25
        pos_y: 263.0
        skip_if_no_filter: true
        src_handles: []
        tgt_handles: [opportunity_records, run]
      - PLURALLY_VERSION: 1
        _node_id: nd-19d770ab-130b-4e1e-b3b5-a9f325e15be2
        add_chain_of_thought: false
        add_explanation: false
        examples: |-
          [
             {
                "account_ids":[
                   
                ],
                "expected_filter":null
             },
             {
                "account_ids":[
                   "001Qy00000jSVDXIA4"
                ],
                "expected_filter":{
                   "field":"AccountId",
                   "operator":"EQUALS",
                   "value":"001Qy00000jSVDXIA4"
                }
             },
             {
                "account_ids":[
                   "001Qy00000jSVDXIA4",
                   "001Qy00000jSVDXIA5"
                ],
                "expected_filter":{
                   "field":"AccountId",
                   "operator":"IN",
                   "values":[
                      "001Qy00000jSVDXIA4",
                      "001Qy00000jSVDXIA5"
                   ]
                }
             }
          ]
        general_info: ''
        input_fields:
        - {free: accounts, handle_id: 6a51, type: Auto}
        input_schema:
          $defs:
            Auto:
              properties: {}
              title: Auto
              type: object
          additionalProperties: false
          can-add-fields: true
          properties:
            accounts:
              handle_id: 6a51
              properties: {}
              title: accounts
              type: object
              type-friendly: Auto (BETA)
            run:
              default: true
              description: Whether to run the block.
              examples: [true, false]
              title: Run
              type: boolean
          required: [accounts]
          title: InputSchema
          type: object
        instruct: |-
          <task>
          Write Salesforce Object Query Language (SOQL) filters to find existing Salesforce Opportunities related to the provided Salesforce Account ids.
          </task>

          {PLURALLY_EXAMPLES}
          {PLURALLY_GENERAL_INFO}

          <account_ids>
          {% for account in accounts %}
              <account_id>
                  {{account.Id}}
              </account_id>
          {% endfor %} 
          </accounts>
        is_output_fixable: false
        is_table: false
        is_trigger: false
        kls: Instruct
        model: gpt-4o
        name: Lecture des opportunités
        output_fields:
        - {free: opportunities_filter, handle_id: ecde, type: Auto}
        output_schema:
          $defs:
            Auto:
              properties: {}
              title: Auto
              type: object
          can-add-fields: true
          properties:
            opportunities_filter:
              handle_id: ecde
              properties: {}
              title: opportunities_filter
              type: object
              type-friendly: Auto (BETA)
          required: [opportunities_filter]
          title: OutputSchema
          type: object
        pos_x: 312.75
        pos_y: 129.0
        src_handles: [opportunities_filter]
        tgt_handles: [run, accounts]
      - PLURALLY_VERSION: 1
        _node_id: nd-af8fb5e7-c2be-4087-90f7-2c52757a89e3
        add_chain_of_thought: false
        add_explanation: false
        examples: |-
          [
             {
                "account_ids":[
                   
                ],
                "expected_filter":null
             },
             {
                "account_ids":[
                   "001Qy00000jSVDXIA4"
                ],
                "expected_filter":{
                   "field":"AccountId",
                   "operator":"EQUALS",
                   "value":"001Qy00000jSVDXIA4"
                }
             },
             {
                "account_ids":[
                   "001Qy00000jSVDXIA4",
                   "001Qy00000jSVDXIA5"
                ],
                "expected_filter":{
                   "field":"AccountId",
                   "operator":"IN",
                   "values":[
                      "001Qy00000jSVDXIA4",
                      "001Qy00000jSVDXIA5"
                   ]
                }
             }
          ]
        general_info: ''
        input_fields:
        - {free: accounts, handle_id: d325, type: Auto}
        input_schema:
          $defs:
            Auto:
              properties: {}
              title: Auto
              type: object
          additionalProperties: false
          can-add-fields: true
          properties:
            accounts:
              handle_id: d325
              properties: {}
              title: accounts
              type: object
              type-friendly: Auto (BETA)
            run:
              default: true
              description: Whether to run the block.
              examples: [true, false]
              title: Run
              type: boolean
          required: [accounts]
          title: InputSchema
          type: object
        instruct: |-
          <task>
          Write Salesforce Object Query Language (SOQL) filters to find existing Salesforce Contacts related to the provided Salesforce Account ids.
          </task>

          {PLURALLY_EXAMPLES}
          {PLURALLY_GENERAL_INFO}

          <account_ids>
          {% for account in accounts %}
              <account_id>
                  {{account.Id}}
              </account_id>
          {% endfor %} 
          </accounts>
        is_output_fixable: false
        is_table: false
        is_trigger: false
        kls: Instruct
        model: gpt-4o
        name: Lecture des contacts
        output_fields:
        - {free: contact_filters, handle_id: df3a, type: Auto}
        output_schema:
          $defs:
            Auto:
              properties: {}
              title: Auto
              type: object
          can-add-fields: true
          properties:
            contact_filters:
              handle_id: df3a
              properties: {}
              title: contact_filters
              type: object
              type-friendly: Auto (BETA)
          required: [contact_filters]
          title: OutputSchema
          type: object
        pos_x: 578.75
        pos_y: 128.0
        src_handles: [contact_filters]
        tgt_handles: [run, accounts]
      - PLURALLY_VERSION: 0
        _node_id: nd-20211563-36af-436c-b386-ce79113467e9
        input_schema:
          $defs:
            SalesforceSOQLComparisonOperatorMulti:
              enum: [IN, NOT IN, INCLUDES, EXCLUDES]
              title: SalesforceSOQLComparisonOperatorMulti
              type: string
            SalesforceSOQLComparisonOperatorSingle:
              enum: ['=', '!=', <, <=, '>', '>=', LIKE]
              title: SalesforceSOQLComparisonOperatorSingle
              type: string
            SalesforceSOQLFilterGroup:
              properties:
                filters:
                  items:
                    anyOf:
                    - properties:
                        field: {title: Field, type: string}
                        operator:
                          enum: ['=', '!=', <, <=, '>', '>=', LIKE]
                          title: SalesforceSOQLComparisonOperatorSingle
                          type: string
                        value:
                          anyOf:
                          - {type: string}
                          - {type: integer}
                          - {type: number}
                          - {format: date-time, type: string}
                          - {format: date, type: string}
                          title: Value
                      required: [field, operator, value]
                      title: SalesforceSOQLFilterSingle
                      type: object
                    - properties:
                        field: {title: Field, type: string}
                        operator:
                          enum: [IN, NOT IN, INCLUDES, EXCLUDES]
                          title: SalesforceSOQLComparisonOperatorMulti
                          type: string
                        values:
                          items: {type: string}
                          title: Values
                          type: array
                      required: [field, operator, values]
                      title: SalesforceSOQLFilterMulti
                      type: object
                  title: Filters
                  type: array
                logical_operator:
                  default: AND
                  enum: [AND, OR, NOT]
                  title: SalesforceSOQLLogicalOperator
                  type: string
              required: [filters]
              title: SalesforceSOQLFilterGroup
              type: object
            SalesforceSOQLFilterMulti:
              properties:
                field: {title: Field, type: string}
                operator:
                  enum: [IN, NOT IN, INCLUDES, EXCLUDES]
                  title: SalesforceSOQLComparisonOperatorMulti
                  type: string
                values:
                  items: {type: string}
                  title: Values
                  type: array
              required: [field, operator, values]
              title: SalesforceSOQLFilterMulti
              type: object
            SalesforceSOQLFilterSingle:
              properties:
                field: {title: Field, type: string}
                operator:
                  enum: ['=', '!=', <, <=, '>', '>=', LIKE]
                  title: SalesforceSOQLComparisonOperatorSingle
                  type: string
                value:
                  anyOf:
                  - {type: string}
                  - {type: integer}
                  - {type: number}
                  - {format: date-time, type: string}
                  - {format: date, type: string}
                  title: Value
              required: [field, operator, value]
              title: SalesforceSOQLFilterSingle
              type: object
            SalesforceSOQLLogicalOperator:
              enum: [AND, OR, NOT]
              title: SalesforceSOQLLogicalOperator
              type: string
          additionalProperties: false
          description: Selects for the Salesforce entities.
          properties:
            contact_records:
              anyOf:
              - properties:
                  field: {title: Field, type: string}
                  operator:
                    enum: ['=', '!=', <, <=, '>', '>=', LIKE]
                    title: SalesforceSOQLComparisonOperatorSingle
                    type: string
                  value:
                    anyOf:
                    - {type: string}
                    - {type: integer}
                    - {type: number}
                    - {format: date-time, type: string}
                    - {format: date, type: string}
                    title: Value
                required: [field, operator, value]
                title: SalesforceSOQLFilterSingle
                type: object
              - properties:
                  field: {title: Field, type: string}
                  operator:
                    enum: [IN, NOT IN, INCLUDES, EXCLUDES]
                    title: SalesforceSOQLComparisonOperatorMulti
                    type: string
                  values:
                    items: {type: string}
                    title: Values
                    type: array
                required: [field, operator, values]
                title: SalesforceSOQLFilterMulti
                type: object
              - properties:
                  filters:
                    items:
                      anyOf:
                      - properties:
                          field: {title: Field, type: string}
                          operator:
                            enum: ['=', '!=', <, <=, '>', '>=', LIKE]
                            title: SalesforceSOQLComparisonOperatorSingle
                            type: string
                          value:
                            anyOf:
                            - {type: string}
                            - {type: integer}
                            - {type: number}
                            - {format: date-time, type: string}
                            - {format: date, type: string}
                            title: Value
                        required: [field, operator, value]
                        title: SalesforceSOQLFilterSingle
                        type: object
                      - properties:
                          field: {title: Field, type: string}
                          operator:
                            enum: [IN, NOT IN, INCLUDES, EXCLUDES]
                            title: SalesforceSOQLComparisonOperatorMulti
                            type: string
                          values:
                            items: {type: string}
                            title: Values
                            type: array
                        required: [field, operator, values]
                        title: SalesforceSOQLFilterMulti
                        type: object
                    title: Filters
                    type: array
                  logical_operator:
                    default: AND
                    enum: [AND, OR, NOT]
                    title: SalesforceSOQLLogicalOperator
                    type: string
                required: [filters]
                title: SalesforceSOQLFilterGroup
                type: object
              - {type: 'null'}
              default: null
              description: Selects for Contact
              title: Contact Records
            run:
              default: true
              description: Whether to run the block.
              examples: [true, false]
              title: Run
              type: boolean
          title: SalesforceAutoInput
          type: object
        instance_url: https://plurally2-dev-ed.develop.my.salesforce.com
        is_output_fixable: true
        is_trigger: false
        kls: SalesforceReadAuto
        name: Lecture des contacts
        objects_to_read:
        - Account_properties: Name, Website, Industry
          AssociatedLocation_properties: ''
          Contact_properties: FirstName, LastName, Title, Email, Phone
          EventRelation_properties: ''
          Event_properties: Description,DurationInMinutes,Location,StartDateTime,Subject,Type
          Lead_properties: FirstName,LastName,Company,Email,Website,Title,Status,Industry,LeadSource
          Opportunity_properties: Name,Amount,CloseDate,StageName
          Poulailler__c_properties: Name
          Task_properties: Subject,Status,Priority,Description,ActivityDate
          properties: FirstName, LastName, Title, Email, Phone
          properties_list: [FirstName, LastName, Title, Email, Phone]
          record_type: ''
          s_object_type: Contact
        output_schema:
          $defs:
            Auto:
              properties: {}
              title: Auto
              type: object
          properties:
            contact_records:
              default: []
              items:
                properties: {}
                title: Auto
                type: object
              title: Contact Records
              type: array
          title: OutputSchema
          type: object
          uiSchema: {ui:field: SalesforceQuery}
        pos_x: 577.0
        pos_y: 261.0
        skip_if_no_filter: true
        src_handles: []
        tgt_handles: [contact_records, run]
      tgt_handles: [nd-19d770ab-130b-4e1e-b3b5-a9f325e15be2.accounts, nd-af8fb5e7-c2be-4087-90f7-2c52757a89e3.accounts]
  - id:
      PLURALLY_VERSION: 0
      _node_id: nd-acffeaaa-1e75-4702-a4c9-4e267af2cdfc
      desc: ''
      icons: [openai]
      input_schema:
        $defs:
          Auto:
            properties: {}
            title: Auto
            type: object
        additionalProperties: false
        properties:
          nd-e787a3ef-3bc4-44f5-b247-05e33ce488b8.summary:
            properties: {}
            title: '[Création des tâches: summary]'
            type: object
          run:
            default: true
            description: Whether to run the block.
            examples: [true, false]
            title: Run
            type: boolean
        required: [nd-e787a3ef-3bc4-44f5-b247-05e33ce488b8.summary]
        title: InputSchema
        type: object
      is_output_fixable: false
      is_trigger: false
      kls: Subflow
      name: Task sync
      output_schema:
        $defs:
          Auto:
            properties: {}
            title: Auto
            type: object
          CrmAction:
            properties:
              action_type:
                properties:
                  label: {title: Label, type: string}
                  name: {title: Name, type: string}
                required: [name, label]
                title: CrmActionType
                type: object
              extra:
                anyOf:
                - {type: string}
                - {type: 'null'}
                default: null
                title: Extra
              icon:
                anyOf:
                - {type: string}
                - {type: 'null'}
                default: null
                title: Icon
              identifier: {title: Identifier, type: string}
              new_state:
                anyOf:
                - {type: object}
                - {type: 'null'}
                default: null
                title: New State
              object_type: {title: Object Type, type: string}
              previous_state:
                anyOf:
                - {type: object}
                - {type: 'null'}
                default: null
                title: Previous State
              url:
                anyOf:
                - {type: string}
                - {type: 'null'}
                default: null
                title: Url
            required: [object_type, identifier, action_type]
            title: CrmAction
            type: object
          CrmActionType:
            properties:
              label: {title: Label, type: string}
              name: {title: Name, type: string}
            required: [name, label]
            title: CrmActionType
            type: object
          SalesforceAutoEntity:
            properties: {}
            title: SalesforceAutoEntity
            type: object
        properties:
          nd-34aa3e06-5bc0-4198-b659-a1b3bdcc56f5.actions:
            default: []
            items:
              properties:
                action_type:
                  properties:
                    label: {title: Label, type: string}
                    name: {title: Name, type: string}
                  required: [name, label]
                  title: CrmActionType
                  type: object
                extra:
                  anyOf:
                  - {type: string}
                  - {type: 'null'}
                  default: null
                  title: Extra
                icon:
                  anyOf:
                  - {type: string}
                  - {type: 'null'}
                  default: null
                  title: Icon
                identifier: {title: Identifier, type: string}
                new_state:
                  anyOf:
                  - {type: object}
                  - {type: 'null'}
                  default: null
                  title: New State
                object_type: {title: Object Type, type: string}
                previous_state:
                  anyOf:
                  - {type: object}
                  - {type: 'null'}
                  default: null
                  title: Previous State
                url:
                  anyOf:
                  - {type: string}
                  - {type: 'null'}
                  default: null
                  title: Url
              required: [object_type, identifier, action_type]
              title: CrmAction
              type: object
            title: '[Création des tâches: actions]'
            type: array
          nd-34aa3e06-5bc0-4198-b659-a1b3bdcc56f5.task_records:
            default: []
            items:
              properties: {}
              title: SalesforceAutoEntity
              type: object
            title: '[Création des tâches: task_records]'
            type: array
          nd-e787a3ef-3bc4-44f5-b247-05e33ce488b8.tasks:
            properties: {}
            title: '[Création des tâches: tasks]'
            type: object
        required: [nd-e787a3ef-3bc4-44f5-b247-05e33ce488b8.tasks]
        title: OutputSchema
        type: object
        uiSchema:
          ui:options: {label: false}
      pos_x: 1493.0
      pos_y: 1471.0
      src_handles: [nd-e787a3ef-3bc4-44f5-b247-05e33ce488b8.tasks, nd-34aa3e06-5bc0-4198-b659-a1b3bdcc56f5.actions,
        nd-34aa3e06-5bc0-4198-b659-a1b3bdcc56f5.task_records]
      subflow_links:
      - {key: tasks###task_records, label: tasks -> Task Records, source: nd-e787a3ef-3bc4-44f5-b247-05e33ce488b8,
        src_handle: tasks, target: nd-34aa3e06-5bc0-4198-b659-a1b3bdcc56f5, tgt_handle: task_records}
      subflow_nodes:
      - PLURALLY_VERSION: 0
        _node_id: nd-34aa3e06-5bc0-4198-b659-a1b3bdcc56f5
        input_schema:
          $defs:
            SalesforceAutoEntity:
              properties: {}
              title: SalesforceAutoEntity
              type: object
          properties:
            task_records:
              default: []
              items:
                properties: {}
                title: SalesforceAutoEntity
                type: object
              title: Task Records
              type: array
          title: SalesforceAutoInput
          type: object
        instance_url: https://plurally2-dev-ed.develop.my.salesforce.com
        is_output_fixable: false
        is_trigger: false
        kls: SalesforceAuto
        name: Création des tâches
        objects_to_sync:
        - Account_properties: Name, Website, Industry
          AssociatedLocation_properties: ''
          Contact_properties: Email, FirstName, LastName, Phone, Title
          EventRelation_properties: ''
          Event_properties: Description,DurationInMinutes,Location,StartDateTime,Subject,Type
          Lead_properties: FirstName,LastName,Company,Email,Website,Title,Status,Industry,LeadSource
          Opportunity_properties: Name,Amount,CloseDate,StageName
          Poulailler__c_properties: Name
          Task_properties: Subject,Status,Priority,Description,ActivityDate
          properties: Subject,Status,Priority,Description,ActivityDate
          properties_list: [Subject, Status, Priority, Description, ActivityDate]
          record_type: ''
          s_object_type: Task
          update_if_exists: make_unique
        output_schema:
          $defs:
            CrmAction:
              properties:
                action_type:
                  properties:
                    label: {title: Label, type: string}
                    name: {title: Name, type: string}
                  required: [name, label]
                  title: CrmActionType
                  type: object
                extra:
                  anyOf:
                  - {type: string}
                  - {type: 'null'}
                  default: null
                  title: Extra
                icon:
                  anyOf:
                  - {type: string}
                  - {type: 'null'}
                  default: null
                  title: Icon
                identifier: {title: Identifier, type: string}
                new_state:
                  anyOf:
                  - {type: object}
                  - {type: 'null'}
                  default: null
                  title: New State
                object_type: {title: Object Type, type: string}
                previous_state:
                  anyOf:
                  - {type: object}
                  - {type: 'null'}
                  default: null
                  title: Previous State
                url:
                  anyOf:
                  - {type: string}
                  - {type: 'null'}
                  default: null
                  title: Url
              required: [object_type, identifier, action_type]
              title: CrmAction
              type: object
            CrmActionType:
              properties:
                label: {title: Label, type: string}
                name: {title: Name, type: string}
              required: [name, label]
              title: CrmActionType
              type: object
            SalesforceAutoEntity:
              properties: {}
              title: SalesforceAutoEntity
              type: object
          properties:
            actions:
              default: []
              items:
                properties:
                  action_type:
                    properties:
                      label: {title: Label, type: string}
                      name: {title: Name, type: string}
                    required: [name, label]
                    title: CrmActionType
                    type: object
                  extra:
                    anyOf:
                    - {type: string}
                    - {type: 'null'}
                    default: null
                    title: Extra
                  icon:
                    anyOf:
                    - {type: string}
                    - {type: 'null'}
                    default: null
                    title: Icon
                  identifier: {title: Identifier, type: string}
                  new_state:
                    anyOf:
                    - {type: object}
                    - {type: 'null'}
                    default: null
                    title: New State
                  object_type: {title: Object Type, type: string}
                  previous_state:
                    anyOf:
                    - {type: object}
                    - {type: 'null'}
                    default: null
                    title: Previous State
                  url:
                    anyOf:
                    - {type: string}
                    - {type: 'null'}
                    default: null
                    title: Url
                required: [object_type, identifier, action_type]
                title: CrmAction
                type: object
              title: Actions
              type: array
            task_records:
              default: []
              items:
                properties: {}
                title: SalesforceAutoEntity
                type: object
              title: Task Records
              type: array
          title: OutputSchema
          type: object
          uiSchema:
            ui:options: {label: false}
        pos_x: 1494.0
        pos_y: 912.0
        src_handles: []
        tgt_handles: [task_records]
      - PLURALLY_VERSION: 1
        _node_id: nd-e787a3ef-3bc4-44f5-b247-05e33ce488b8
        add_chain_of_thought: false
        add_explanation: false
        examples: ''
        general_info: ''
        input_fields:
        - {free: summary, handle_id: '0472', type: Auto}
        input_schema:
          $defs:
            Auto:
              properties: {}
              title: Auto
              type: object
          additionalProperties: false
          can-add-fields: true
          properties:
            run:
              default: true
              description: Whether to run the block.
              examples: [true, false]
              title: Run
              type: boolean
            summary:
              handle_id: '0472'
              properties: {}
              title: summary
              type: object
              type-friendly: Auto (BETA)
          required: [summary]
          title: InputSchema
          type: object
        instruct: |-
          You are helping a company automate creation / update of Salesforce Task records. You are given a summary of a sales conversation. 

          <goal>
              Create a Task for all of the follow-up tasks (to do) decided in the summary.
          </goal>

          <rules>
              <rule>
                  For each tasks, if ActivityDate is not mentionned, infer from today's date and what is discussed.
              </rule>
              <rule>
                  If the Description field is required, provide an exhaustive description of the task.
              </rule>
              <rule>
                   Only use the given context. If no task is mentioned then do not create any.
              </rule>
              <rule>
                  Make sure ALL of your outputs follow <output_language>.
              </rule>
          </rule>

          {PLURALLY_EXAMPLES}
          {PLURALLY_GENERAL_INFO}

          <output_language>
          {PLURALLY_OUTPUT_LANGUAGE}
          </output_language>

          <summary>
          {{summary}}
          </summary>
        is_output_fixable: false
        is_table: false
        is_trigger: false
        kls: Instruct
        model: gpt-4o
        name: Création des tâches
        output_fields:
        - {free: tasks, handle_id: 6c4b, type: Auto}
        output_schema:
          $defs:
            Auto:
              properties: {}
              title: Auto
              type: object
          can-add-fields: true
          properties:
            tasks:
              handle_id: 6c4b
              properties: {}
              title: tasks
              type: object
              type-friendly: Auto (BETA)
          required: [tasks]
          title: OutputSchema
          type: object
        pos_x: 1469.0
        pos_y: 778.0
        src_handles: [tasks]
        tgt_handles: [summary, run]
      tgt_handles: [nd-e787a3ef-3bc4-44f5-b247-05e33ce488b8.summary, run]
  - id:
      PLURALLY_VERSION: 0
      _node_id: nd-a84ee7d2-3bb8-4946-b3b6-6f1962d9657e
      desc: ''
      icons: [openai]
      input_schema:
        $defs:
          Auto:
            properties: {}
            title: Auto
            type: object
        additionalProperties: false
        properties:
          nd-cbcb0a1a-daa3-4ff2-8a10-6dbb8d38fa27.contacts:
            properties: {}
            title: '[Création des contacts: contacts]'
            type: object
          nd-cbcb0a1a-daa3-4ff2-8a10-6dbb8d38fa27.summary:
            properties: {}
            title: '[Création des contacts: summary]'
            type: object
          run:
            default: true
            description: Whether to run the block.
            examples: [true, false]
            title: Run
            type: boolean
        required: [nd-cbcb0a1a-daa3-4ff2-8a10-6dbb8d38fa27.contacts, nd-cbcb0a1a-daa3-4ff2-8a10-6dbb8d38fa27.summary]
        title: InputSchema
        type: object
      is_output_fixable: false
      is_trigger: false
      kls: Subflow
      name: Contact sync
      output_schema:
        $defs:
          Auto:
            properties: {}
            title: Auto
            type: object
          CrmAction:
            properties:
              action_type:
                properties:
                  label: {title: Label, type: string}
                  name: {title: Name, type: string}
                required: [name, label]
                title: CrmActionType
                type: object
              extra:
                anyOf:
                - {type: string}
                - {type: 'null'}
                default: null
                title: Extra
              icon:
                anyOf:
                - {type: string}
                - {type: 'null'}
                default: null
                title: Icon
              identifier: {title: Identifier, type: string}
              new_state:
                anyOf:
                - {type: object}
                - {type: 'null'}
                default: null
                title: New State
              object_type: {title: Object Type, type: string}
              previous_state:
                anyOf:
                - {type: object}
                - {type: 'null'}
                default: null
                title: Previous State
              url:
                anyOf:
                - {type: string}
                - {type: 'null'}
                default: null
                title: Url
            required: [object_type, identifier, action_type]
            title: CrmAction
            type: object
          CrmActionType:
            properties:
              label: {title: Label, type: string}
              name: {title: Name, type: string}
            required: [name, label]
            title: CrmActionType
            type: object
          SalesforceAutoEntity:
            properties: {}
            title: SalesforceAutoEntity
            type: object
        properties:
          nd-a1fe0a55-2b5c-4e22-8572-8396e12fd320.actions:
            default: []
            items:
              properties:
                action_type:
                  properties:
                    label: {title: Label, type: string}
                    name: {title: Name, type: string}
                  required: [name, label]
                  title: CrmActionType
                  type: object
                extra:
                  anyOf:
                  - {type: string}
                  - {type: 'null'}
                  default: null
                  title: Extra
                icon:
                  anyOf:
                  - {type: string}
                  - {type: 'null'}
                  default: null
                  title: Icon
                identifier: {title: Identifier, type: string}
                new_state:
                  anyOf:
                  - {type: object}
                  - {type: 'null'}
                  default: null
                  title: New State
                object_type: {title: Object Type, type: string}
                previous_state:
                  anyOf:
                  - {type: object}
                  - {type: 'null'}
                  default: null
                  title: Previous State
                url:
                  anyOf:
                  - {type: string}
                  - {type: 'null'}
                  default: null
                  title: Url
              required: [object_type, identifier, action_type]
              title: CrmAction
              type: object
            title: '[Création des contacts: actions]'
            type: array
          nd-a1fe0a55-2b5c-4e22-8572-8396e12fd320.contact_records:
            default: []
            items:
              properties: {}
              title: SalesforceAutoEntity
              type: object
            title: '[Création des contacts: contact_records]'
            type: array
          nd-cbcb0a1a-daa3-4ff2-8a10-6dbb8d38fa27.output_contacts:
            properties: {}
            title: '[Création des contacts: output_contacts]'
            type: object
        required: [nd-cbcb0a1a-daa3-4ff2-8a10-6dbb8d38fa27.output_contacts]
        title: OutputSchema
        type: object
        uiSchema:
          ui:options: {label: false}
      pos_x: 581.0
      pos_y: 1471.0
      src_handles: [nd-a1fe0a55-2b5c-4e22-8572-8396e12fd320.contact_records, nd-cbcb0a1a-daa3-4ff2-8a10-6dbb8d38fa27.output_contacts,
        nd-a1fe0a55-2b5c-4e22-8572-8396e12fd320.actions]
      subflow_links:
      - {key: output_contacts###contact_records, label: output_contacts -> Contact
          Records, source: nd-cbcb0a1a-daa3-4ff2-8a10-6dbb8d38fa27, src_handle: output_contacts,
        target: nd-a1fe0a55-2b5c-4e22-8572-8396e12fd320, tgt_handle: contact_records}
      subflow_nodes:
      - PLURALLY_VERSION: 1
        _node_id: nd-cbcb0a1a-daa3-4ff2-8a10-6dbb8d38fa27
        add_chain_of_thought: false
        add_explanation: false
        examples: |-
          [
             {
                "summary":"Le rendez-vous avec Sébastien Lornet de Auchan s'est bien passé. On a va faire le point la semaine prochaine avec Julien Gaec.",
                "existing_contacts":[
                   
                ],
                "expected_contacts":[
                   {
                      "FirstName":"Sébastien",
                      "LastName":"Lornet"
                   }
                ],
                "explanation":"It is not clear what account Julien Gaec is associated with"
             }
          ]
        general_info: ''
        input_fields:
        - {free: contacts, handle_id: 3f91, type: Auto}
        - {free: summary, handle_id: f322, type: Auto}
        input_schema:
          $defs:
            Auto:
              properties: {}
              title: Auto
              type: object
          additionalProperties: false
          can-add-fields: true
          properties:
            contacts:
              handle_id: 3f91
              properties: {}
              title: contacts
              type: object
              type-friendly: Auto (BETA)
            run:
              default: true
              description: Whether to run the block.
              examples: [true, false]
              title: Run
              type: boolean
            summary:
              handle_id: f322
              properties: {}
              title: summary
              type: object
              type-friendly: Auto (BETA)
          required: [contacts, summary]
          title: InputSchema
          type: object
        instruct: |-
          You are helping a company automate creation / update of Salesforce Contact records. 

          You are given a summary of a sales conversation and some existing contacts.

          <goal>
              Create or update a Salesforce Contact record for all of the people involved or mentioned in the call on the buyer side (i.e. do not create records for the company selling). 
          </goal>

          <rules>
              <rule>
                  If a contact already exists, update it by specifying its Id.
              </rule>
              <rule>
                  Only create a contact if it is clear which account the contact is associated to.
              </rule>
              <rule>
                  If a contact already exists do not update the following fields if already set (i.e. set them to their original value): FirstName, Lastname.
              </rule>
              <rule>
                  If the contact does not exist and only FirstName is mentioned, specify LastName="unknown".
              </rule>
              <rule>
                  If only a FirstName is provided, and there is a matching contact with that FirstName, use this contact. 
              </rule>
              <rule>
                  If only a LastName is provided, and there is a matching contact with that LastName, use this contact. 
              </rule>
              <rule>
                   Only use the given context. If no contact is mentioned then do not create any.
              </rule>
              <rule>
                  Make sure that your output is in {PLURALLY_OUTPUT_LANGUAGE}.
              </rule>
          </rule>

          {PLURALLY_EXAMPLES}
          {PLURALLY_GENERAL_INFO}

          <summary>
          {{summary}}
          </summary>

          <existing_contacts>
              {% for contact in contacts %}
              <contact>
                  {{contact|tojson}}
              </contact>
              {% endfor %}
          </existing_contacts>
        is_output_fixable: false
        is_table: false
        is_trigger: false
        kls: Instruct
        model: gpt-4o
        name: Création des contacts
        output_fields:
        - {free: output_contacts, handle_id: c080, type: Auto}
        output_schema:
          $defs:
            Auto:
              properties: {}
              title: Auto
              type: object
          can-add-fields: true
          properties:
            output_contacts:
              handle_id: c080
              properties: {}
              title: output_contacts
              type: object
              type-friendly: Auto (BETA)
          required: [output_contacts]
          title: OutputSchema
          type: object
        pos_x: 300.0
        pos_y: 780.0
        src_handles: [output_contacts]
        tgt_handles: [summary, contacts, run]
      - PLURALLY_VERSION: 0
        _node_id: nd-a1fe0a55-2b5c-4e22-8572-8396e12fd320
        input_schema:
          $defs:
            SalesforceAutoEntity:
              properties: {}
              title: SalesforceAutoEntity
              type: object
          properties:
            contact_records:
              default: []
              items:
                properties: {}
                title: SalesforceAutoEntity
                type: object
              title: Contact Records
              type: array
          title: SalesforceAutoInput
          type: object
        instance_url: https://plurally2-dev-ed.develop.my.salesforce.com
        is_output_fixable: false
        is_trigger: false
        kls: SalesforceAuto
        name: Création des contacts
        objects_to_sync:
        - Account_properties: Name, Website, Industry
          AssociatedLocation_properties: ''
          Contact_properties: Email, FirstName, LastName, Phone, Title
          EventRelation_properties: ''
          Event_properties: Description,DurationInMinutes,Location,StartDateTime,Subject,Type
          Lead_properties: FirstName,LastName,Company,Email,Website,Title,Status,Industry,LeadSource
          Opportunity_properties: Name,Amount,CloseDate,StageName
          Poulailler__c_properties: Name
          Task_properties: Subject,Status,Priority,Description,ActivityDate
          properties: Email, FirstName, LastName, Phone, Title
          properties_list: [Email, FirstName, LastName, Phone, Title]
          record_type: ''
          s_object_type: Contact
          update_if_exists: update
        output_schema:
          $defs:
            CrmAction:
              properties:
                action_type:
                  properties:
                    label: {title: Label, type: string}
                    name: {title: Name, type: string}
                  required: [name, label]
                  title: CrmActionType
                  type: object
                extra:
                  anyOf:
                  - {type: string}
                  - {type: 'null'}
                  default: null
                  title: Extra
                icon:
                  anyOf:
                  - {type: string}
                  - {type: 'null'}
                  default: null
                  title: Icon
                identifier: {title: Identifier, type: string}
                new_state:
                  anyOf:
                  - {type: object}
                  - {type: 'null'}
                  default: null
                  title: New State
                object_type: {title: Object Type, type: string}
                previous_state:
                  anyOf:
                  - {type: object}
                  - {type: 'null'}
                  default: null
                  title: Previous State
                url:
                  anyOf:
                  - {type: string}
                  - {type: 'null'}
                  default: null
                  title: Url
              required: [object_type, identifier, action_type]
              title: CrmAction
              type: object
            CrmActionType:
              properties:
                label: {title: Label, type: string}
                name: {title: Name, type: string}
              required: [name, label]
              title: CrmActionType
              type: object
            SalesforceAutoEntity:
              properties: {}
              title: SalesforceAutoEntity
              type: object
          properties:
            actions:
              default: []
              items:
                properties:
                  action_type:
                    properties:
                      label: {title: Label, type: string}
                      name: {title: Name, type: string}
                    required: [name, label]
                    title: CrmActionType
                    type: object
                  extra:
                    anyOf:
                    - {type: string}
                    - {type: 'null'}
                    default: null
                    title: Extra
                  icon:
                    anyOf:
                    - {type: string}
                    - {type: 'null'}
                    default: null
                    title: Icon
                  identifier: {title: Identifier, type: string}
                  new_state:
                    anyOf:
                    - {type: object}
                    - {type: 'null'}
                    default: null
                    title: New State
                  object_type: {title: Object Type, type: string}
                  previous_state:
                    anyOf:
                    - {type: object}
                    - {type: 'null'}
                    default: null
                    title: Previous State
                  url:
                    anyOf:
                    - {type: string}
                    - {type: 'null'}
                    default: null
                    title: Url
                required: [object_type, identifier, action_type]
                title: CrmAction
                type: object
              title: Actions
              type: array
            contact_records:
              default: []
              items:
                properties: {}
                title: SalesforceAutoEntity
                type: object
              title: Contact Records
              type: array
          title: OutputSchema
          type: object
          uiSchema:
            ui:options: {label: false}
        pos_x: 320.5
        pos_y: 912.0
        src_handles: [actions, contact_records]
        tgt_handles: [contact_records]
      tgt_handles: [nd-cbcb0a1a-daa3-4ff2-8a10-6dbb8d38fa27.summary, run, nd-cbcb0a1a-daa3-4ff2-8a10-6dbb8d38fa27.contacts]
  - id:
      PLURALLY_VERSION: 0
      _node_id: nd-5c153b43-d8b8-4446-9788-283555f1e0ec
      desc: ''
      icons: [openai]
      input_schema:
        $defs:
          Auto:
            properties: {}
            title: Auto
            type: object
        additionalProperties: false
        properties:
          nd-7bbea982-266c-41f5-a3b0-2f936086eda7.accounts:
            properties: {}
            title: '[Création des comptes: accounts]'
            type: object
          nd-7bbea982-266c-41f5-a3b0-2f936086eda7.summary:
            properties: {}
            title: '[Création des comptes: summary]'
            type: object
          run:
            default: true
            description: Whether to run the block.
            examples: [true, false]
            title: Run
            type: boolean
        required: [nd-7bbea982-266c-41f5-a3b0-2f936086eda7.accounts, nd-7bbea982-266c-41f5-a3b0-2f936086eda7.summary]
        title: InputSchema
        type: object
      is_output_fixable: false
      is_trigger: false
      kls: Subflow
      name: Account sync
      output_schema:
        $defs:
          Auto:
            properties: {}
            title: Auto
            type: object
          CrmAction:
            properties:
              action_type:
                properties:
                  label: {title: Label, type: string}
                  name: {title: Name, type: string}
                required: [name, label]
                title: CrmActionType
                type: object
              extra:
                anyOf:
                - {type: string}
                - {type: 'null'}
                default: null
                title: Extra
              icon:
                anyOf:
                - {type: string}
                - {type: 'null'}
                default: null
                title: Icon
              identifier: {title: Identifier, type: string}
              new_state:
                anyOf:
                - {type: object}
                - {type: 'null'}
                default: null
                title: New State
              object_type: {title: Object Type, type: string}
              previous_state:
                anyOf:
                - {type: object}
                - {type: 'null'}
                default: null
                title: Previous State
              url:
                anyOf:
                - {type: string}
                - {type: 'null'}
                default: null
                title: Url
            required: [object_type, identifier, action_type]
            title: CrmAction
            type: object
          CrmActionType:
            properties:
              label: {title: Label, type: string}
              name: {title: Name, type: string}
            required: [name, label]
            title: CrmActionType
            type: object
          SalesforceAutoEntity:
            properties: {}
            title: SalesforceAutoEntity
            type: object
        properties:
          nd-7bbea982-266c-41f5-a3b0-2f936086eda7.salesforce_account_records_to_sync:
            properties: {}
            title: '[Création des comptes: salesforce_account_records_to_sync]'
            type: object
          nd-eb8c8399-dbc6-4613-ba56-676d5dc14547.account_records:
            default: []
            items:
              properties: {}
              title: SalesforceAutoEntity
              type: object
            title: '[Création des comptes: account_records]'
            type: array
          nd-eb8c8399-dbc6-4613-ba56-676d5dc14547.actions:
            default: []
            items:
              properties:
                action_type:
                  properties:
                    label: {title: Label, type: string}
                    name: {title: Name, type: string}
                  required: [name, label]
                  title: CrmActionType
                  type: object
                extra:
                  anyOf:
                  - {type: string}
                  - {type: 'null'}
                  default: null
                  title: Extra
                icon:
                  anyOf:
                  - {type: string}
                  - {type: 'null'}
                  default: null
                  title: Icon
                identifier: {title: Identifier, type: string}
                new_state:
                  anyOf:
                  - {type: object}
                  - {type: 'null'}
                  default: null
                  title: New State
                object_type: {title: Object Type, type: string}
                previous_state:
                  anyOf:
                  - {type: object}
                  - {type: 'null'}
                  default: null
                  title: Previous State
                url:
                  anyOf:
                  - {type: string}
                  - {type: 'null'}
                  default: null
                  title: Url
              required: [object_type, identifier, action_type]
              title: CrmAction
              type: object
            title: '[Création des comptes: actions]'
            type: array
        required: [nd-7bbea982-266c-41f5-a3b0-2f936086eda7.salesforce_account_records_to_sync]
        title: OutputSchema
        type: object
        uiSchema:
          ui:options: {label: false}
      pos_x: 1027.0
      pos_y: 1471.0
      src_handles: [nd-eb8c8399-dbc6-4613-ba56-676d5dc14547.account_records, nd-eb8c8399-dbc6-4613-ba56-676d5dc14547.actions,
        nd-7bbea982-266c-41f5-a3b0-2f936086eda7.salesforce_account_records_to_sync]
      subflow_links:
      - {key: salesforce_account_records_to_sync###account_records, label: Salesforce
          Account records to sync -> Account Records, source: nd-7bbea982-266c-41f5-a3b0-2f936086eda7,
        src_handle: salesforce_account_records_to_sync, target: nd-eb8c8399-dbc6-4613-ba56-676d5dc14547,
        tgt_handle: account_records}
      subflow_nodes:
      - PLURALLY_VERSION: 1
        _node_id: nd-7bbea982-266c-41f5-a3b0-2f936086eda7
        add_chain_of_thought: false
        add_explanation: false
        examples: ''
        general_info: ''
        input_fields:
        - {free: accounts, handle_id: 299b, type: Auto}
        - {free: summary, handle_id: 4d2a, type: Auto}
        input_schema:
          $defs:
            Auto:
              properties: {}
              title: Auto
              type: object
          additionalProperties: false
          can-add-fields: true
          properties:
            accounts:
              handle_id: 299b
              properties: {}
              title: accounts
              type: object
              type-friendly: Auto (BETA)
            run:
              default: true
              description: Whether to run the block.
              examples: [true, false]
              title: Run
              type: boolean
            summary:
              handle_id: 4d2a
              properties: {}
              title: summary
              type: object
              type-friendly: Auto (BETA)
          required: [accounts, summary]
          title: InputSchema
          type: object
        instruct: |-
          # Plurally System Prompts

          ## Introduction  
          You are Plurally's AI-powered assistant.

          You are helping a company automate the **creation and updating of Salesforce Account records** based on sales conversation summaries.

          ## General Instructions  
          - Always up-to-date with the latest CRM and Salesforce data-handling best practices.  
          - Respond in `{{OUTPUT_LANGUAGE}}` regardless of the input language.  
          - Use only the provided context—do not make assumptions or generate fictional information.

          ## General Informations  
          {PLURALLY_GENERAL_INFO}

          ## Task Objective  
          Given:  
          - A **summary** of a sales conversation.  
          - A list of **existing Salesforce Accounts**, if any.  

          Your goal is to:  
          - **Create or update Salesforce Account records** for **accounts (companies or buyer organizations) mentioned on the buyer side**.  
          - Do **not** create records for the **selling company**.

          ## Rules

          1. **Account Matching & Updating**  
             - If an account already exists, **update** it by specifying its existing `Id`.

          2. **Context-Only Creation**  
             - Only create or update records for accounts that are explicitly mentioned in the context.  
             - If no buyer-side organization is mentioned, **do not create any records**.

          3. **Language Output**  
             - Ensure all output is in `{{OUTPUT_LANGUAGE}}`.

          4. **Field Attribution Discipline**
             - Only populate a field when its value can be **unambiguously mapped** from the summary to the meaning of that field in **Salesforce Account records**.
             - **Do not guess or infer** values based on partial matches or ambiguous mentions.
             - For example, a dollar amount referring to a deal should not be used as `AnnualRevenue`. Similarly, a job title mentioned for a person should not be used in the Account `Name` field.

          ## Inputs
          ### Summary
          {{summary}}


          ### Existing Accounts
          {%- if accounts and accounts | length > 0 %}
          {{accounts|tojson}}
          {%- else %}
          No existing accounts
          {%- endif %}

          ## Output Expectations
          - If updating, include the `Id` from **Existing Accounts**.
          - If creating, provide a new structured object without `Id`.
          - Fill the different fields when you can clearly extract them from the **Summary**.

          ## Notes
          - Be conservative in account creation—only proceed when clearly mentioned in the summary.
          - Never create or update accounts related to the company doing the selling.
          - Adhere to the output format and language requirements strictly.
        is_output_fixable: false
        is_table: false
        is_trigger: false
        kls: Instruct
        model: gpt-4o
        name: Création des comptes
        output_fields:
        - {free: Salesforce Account records to sync, handle_id: 0b4a, type: Auto}
        output_schema:
          $defs:
            Auto:
              properties: {}
              title: Auto
              type: object
          can-add-fields: true
          properties:
            salesforce_account_records_to_sync:
              handle_id: 0b4a
              properties: {}
              title: Salesforce Account records to sync
              type: object
              type-friendly: Auto (BETA)
          required: [salesforce_account_records_to_sync]
          title: OutputSchema
          type: object
        pos_x: 340.0
        pos_y: 780.0
        src_handles: [salesforce_account_records_to_sync]
        tgt_handles: [summary, run, accounts]
      - PLURALLY_VERSION: 0
        _node_id: nd-eb8c8399-dbc6-4613-ba56-676d5dc14547
        input_schema:
          $defs:
            SalesforceAutoEntity:
              properties: {}
              title: SalesforceAutoEntity
              type: object
          properties:
            account_records:
              default: []
              items:
                properties: {}
                title: SalesforceAutoEntity
                type: object
              title: Account Records
              type: array
          title: SalesforceAutoInput
          type: object
        instance_url: https://plurally2-dev-ed.develop.my.salesforce.com
        is_output_fixable: false
        is_trigger: false
        kls: SalesforceAuto
        name: Création des comptes
        objects_to_sync:
        - Account_properties: Name, AnnualRevenue, NumberOfEmployees, Industry, Website
          AssociatedLocation_properties: ''
          Contact_properties: Email, FirstName, LastName, Phone, Title
          EventRelation_properties: ''
          Event_properties: Description,DurationInMinutes,Location,StartDateTime,Subject,Type
          Lead_properties: FirstName,LastName,Company,Email,Website,Title,Status,Industry,LeadSource
          Opportunity_properties: Name,Amount,CloseDate,StageName
          Poulailler__c_properties: Name
          Task_properties: Subject,Status,Priority,Description,ActivityDate
          properties: Name, AnnualRevenue, NumberOfEmployees, Industry, Website
          properties_list: [Name, AnnualRevenue, NumberOfEmployees, Industry, Website]
          record_type: ''
          s_object_type: Account
          update_if_exists: no_update
        output_schema:
          $defs:
            CrmAction:
              properties:
                action_type:
                  properties:
                    label: {title: Label, type: string}
                    name: {title: Name, type: string}
                  required: [name, label]
                  title: CrmActionType
                  type: object
                extra:
                  anyOf:
                  - {type: string}
                  - {type: 'null'}
                  default: null
                  title: Extra
                icon:
                  anyOf:
                  - {type: string}
                  - {type: 'null'}
                  default: null
                  title: Icon
                identifier: {title: Identifier, type: string}
                new_state:
                  anyOf:
                  - {type: object}
                  - {type: 'null'}
                  default: null
                  title: New State
                object_type: {title: Object Type, type: string}
                previous_state:
                  anyOf:
                  - {type: object}
                  - {type: 'null'}
                  default: null
                  title: Previous State
                url:
                  anyOf:
                  - {type: string}
                  - {type: 'null'}
                  default: null
                  title: Url
              required: [object_type, identifier, action_type]
              title: CrmAction
              type: object
            CrmActionType:
              properties:
                label: {title: Label, type: string}
                name: {title: Name, type: string}
              required: [name, label]
              title: CrmActionType
              type: object
            SalesforceAutoEntity:
              properties: {}
              title: SalesforceAutoEntity
              type: object
          properties:
            account_records:
              default: []
              items:
                properties: {}
                title: SalesforceAutoEntity
                type: object
              title: Account Records
              type: array
            actions:
              default: []
              items:
                properties:
                  action_type:
                    properties:
                      label: {title: Label, type: string}
                      name: {title: Name, type: string}
                    required: [name, label]
                    title: CrmActionType
                    type: object
                  extra:
                    anyOf:
                    - {type: string}
                    - {type: 'null'}
                    default: null
                    title: Extra
                  icon:
                    anyOf:
                    - {type: string}
                    - {type: 'null'}
                    default: null
                    title: Icon
                  identifier: {title: Identifier, type: string}
                  new_state:
                    anyOf:
                    - {type: object}
                    - {type: 'null'}
                    default: null
                    title: New State
                  object_type: {title: Object Type, type: string}
                  previous_state:
                    anyOf:
                    - {type: object}
                    - {type: 'null'}
                    default: null
                    title: Previous State
                  url:
                    anyOf:
                    - {type: string}
                    - {type: 'null'}
                    default: null
                    title: Url
                required: [object_type, identifier, action_type]
                title: CrmAction
                type: object
              title: Actions
              type: array
          title: OutputSchema
          type: object
          uiSchema:
            ui:options: {label: false}
        pos_x: 340.0
        pos_y: 960.0
        src_handles: [actions, account_records]
        tgt_handles: [account_records]
      tgt_handles: [nd-7bbea982-266c-41f5-a3b0-2f936086eda7.accounts, nd-7bbea982-266c-41f5-a3b0-2f936086eda7.summary,
        run]
  - id:
      PLURALLY_VERSION: 0
      _node_id: nd-bd775592-04c1-4fbf-807d-df8a4fe465d9
      desc: ''
      icons: [openai]
      input_schema:
        $defs:
          Auto:
            properties: {}
            title: Auto
            type: object
        additionalProperties: false
        properties:
          nd-e9960712-4179-47a9-9bda-7f586a3e2787.opportunities:
            properties: {}
            title: '[Création des opportunités: opportunities]'
            type: object
          nd-e9960712-4179-47a9-9bda-7f586a3e2787.summary:
            properties: {}
            title: '[Création des opportunités: summary]'
            type: object
          run:
            default: true
            description: Whether to run the block.
            examples: [true, false]
            title: Run
            type: boolean
        required: [nd-e9960712-4179-47a9-9bda-7f586a3e2787.summary, nd-e9960712-4179-47a9-9bda-7f586a3e2787.opportunities]
        title: InputSchema
        type: object
      is_output_fixable: false
      is_trigger: false
      kls: Subflow
      name: Opportunity sync
      output_schema:
        $defs:
          Auto:
            properties: {}
            title: Auto
            type: object
          CrmAction:
            properties:
              action_type:
                properties:
                  label: {title: Label, type: string}
                  name: {title: Name, type: string}
                required: [name, label]
                title: CrmActionType
                type: object
              extra:
                anyOf:
                - {type: string}
                - {type: 'null'}
                default: null
                title: Extra
              icon:
                anyOf:
                - {type: string}
                - {type: 'null'}
                default: null
                title: Icon
              identifier: {title: Identifier, type: string}
              new_state:
                anyOf:
                - {type: object}
                - {type: 'null'}
                default: null
                title: New State
              object_type: {title: Object Type, type: string}
              previous_state:
                anyOf:
                - {type: object}
                - {type: 'null'}
                default: null
                title: Previous State
              url:
                anyOf:
                - {type: string}
                - {type: 'null'}
                default: null
                title: Url
            required: [object_type, identifier, action_type]
            title: CrmAction
            type: object
          CrmActionType:
            properties:
              label: {title: Label, type: string}
              name: {title: Name, type: string}
            required: [name, label]
            title: CrmActionType
            type: object
          SalesforceAutoEntity:
            properties: {}
            title: SalesforceAutoEntity
            type: object
        properties:
          nd-1eb6ba51-6def-4fbb-8d12-501e67b8214d.actions:
            default: []
            items:
              properties:
                action_type:
                  properties:
                    label: {title: Label, type: string}
                    name: {title: Name, type: string}
                  required: [name, label]
                  title: CrmActionType
                  type: object
                extra:
                  anyOf:
                  - {type: string}
                  - {type: 'null'}
                  default: null
                  title: Extra
                icon:
                  anyOf:
                  - {type: string}
                  - {type: 'null'}
                  default: null
                  title: Icon
                identifier: {title: Identifier, type: string}
                new_state:
                  anyOf:
                  - {type: object}
                  - {type: 'null'}
                  default: null
                  title: New State
                object_type: {title: Object Type, type: string}
                previous_state:
                  anyOf:
                  - {type: object}
                  - {type: 'null'}
                  default: null
                  title: Previous State
                url:
                  anyOf:
                  - {type: string}
                  - {type: 'null'}
                  default: null
                  title: Url
              required: [object_type, identifier, action_type]
              title: CrmAction
              type: object
            title: '[Création des opportunités: actions]'
            type: array
          nd-1eb6ba51-6def-4fbb-8d12-501e67b8214d.opportunity_records:
            default: []
            items:
              properties: {}
              title: SalesforceAutoEntity
              type: object
            title: '[Création des opportunités: opportunity_records]'
            type: array
          nd-e9960712-4179-47a9-9bda-7f586a3e2787.salesforce_opportunity_records_to_sync:
            properties: {}
            title: '[Création des opportunités: salesforce_opportunity_records_to_sync]'
            type: object
        required: [nd-e9960712-4179-47a9-9bda-7f586a3e2787.salesforce_opportunity_records_to_sync]
        title: OutputSchema
        type: object
        uiSchema:
          ui:options: {label: false}
      pos_x: 255.0
      pos_y: 1471.0
      src_handles: [nd-1eb6ba51-6def-4fbb-8d12-501e67b8214d.opportunity_records, nd-e9960712-4179-47a9-9bda-7f586a3e2787.salesforce_opportunity_records_to_sync,
        nd-1eb6ba51-6def-4fbb-8d12-501e67b8214d.actions]
      subflow_links:
      - {key: salesforce_opportunity_records_to_sync###opportunity_records, label: Salesforce
          Opportunity records to sync -> Opportunity Records, source: nd-e9960712-4179-47a9-9bda-7f586a3e2787,
        src_handle: salesforce_opportunity_records_to_sync, target: nd-1eb6ba51-6def-4fbb-8d12-501e67b8214d,
        tgt_handle: opportunity_records}
      subflow_nodes:
      - PLURALLY_VERSION: 1
        _node_id: nd-e9960712-4179-47a9-9bda-7f586a3e2787
        add_chain_of_thought: false
        add_explanation: false
        examples: ''
        general_info: ''
        input_fields:
        - {free: summary, handle_id: 88b1, type: Auto}
        - {free: opportunities, handle_id: '5930', type: Auto}
        input_schema:
          $defs:
            Auto:
              properties: {}
              title: Auto
              type: object
          additionalProperties: false
          can-add-fields: true
          properties:
            opportunities:
              handle_id: '5930'
              properties: {}
              title: opportunities
              type: object
              type-friendly: Auto (BETA)
            run:
              default: true
              description: Whether to run the block.
              examples: [true, false]
              title: Run
              type: boolean
            summary:
              handle_id: 88b1
              properties: {}
              title: summary
              type: object
              type-friendly: Auto (BETA)
          required: [summary, opportunities]
          title: InputSchema
          type: object
        instruct: |-
          You are helping a company automate creation / update of Salesforce Opportunity records. 

          You are given a summary of a sales conversation and existing opportunities.

          <goal>
              Create or update the different Salesforce Opportunity records involved in the call on the buyer side (i.e. do not create records for the company selling). 
          </goal>

          <rules>
              <rule>
                  If an opportunity already exists, update it by specifying its Id.
              </rule>
              <rule>
                  If an opportunity already exists, do not update its Name.
              </rule>
              <rule>
                   If a not CloseDate is given but there is a delivery date, use it as CloseDate.
              </rule>
              <rule>
                   Only use the given context. If no task is mentioned then do not create any.
              </rule>
              <rule>
                  Make sure ALL of your outputs follow <output_language>.
              </rule>
          </rule>

          {PLURALLY_EXAMPLES}
          {PLURALLY_GENERAL_INFO}

          <output_language>
          {PLURALLY_OUTPUT_LANGUAGE}
          </output_language>

          <existing_opportunities>
          {% for opty in opportunities %}
              {{opty|tojson}}
          {% endfor %}
          </existing_opportunities>

          <summary>
          {{summary}}
          </summary>
        is_output_fixable: false
        is_table: false
        is_trigger: false
        kls: Instruct
        model: gpt-4o
        name: Création des opportunités
        output_fields:
        - {free: Salesforce Opportunity records to sync, handle_id: caf9, type: Auto}
        output_schema:
          $defs:
            Auto:
              properties: {}
              title: Auto
              type: object
          can-add-fields: true
          properties:
            salesforce_opportunity_records_to_sync:
              handle_id: caf9
              properties: {}
              title: Salesforce Opportunity records to sync
              type: object
              type-friendly: Auto (BETA)
          required: [salesforce_opportunity_records_to_sync]
          title: OutputSchema
          type: object
        pos_x: -705.0
        pos_y: 751.0
        src_handles: [salesforce_opportunity_records_to_sync]
        tgt_handles: [summary, opportunities, run]
      - PLURALLY_VERSION: 0
        _node_id: nd-1eb6ba51-6def-4fbb-8d12-501e67b8214d
        input_schema:
          $defs:
            SalesforceAutoEntity:
              properties: {}
              title: SalesforceAutoEntity
              type: object
          properties:
            opportunity_records:
              default: []
              items:
                properties: {}
                title: SalesforceAutoEntity
                type: object
              title: Opportunity Records
              type: array
          title: SalesforceAutoInput
          type: object
        instance_url: https://plurally2-dev-ed.develop.my.salesforce.com
        is_output_fixable: false
        is_trigger: false
        kls: SalesforceAuto
        name: Création des opportunités
        objects_to_sync:
        - Account_properties: Name, Website, Industry
          AssociatedLocation_properties: ''
          Contact_properties: Email, FirstName, LastName, Phone, Title
          EventRelation_properties: ''
          Event_properties: Description,DurationInMinutes,Location,StartDateTime,Subject,Type
          Lead_properties: FirstName,LastName,Company,Email,Website,Title,Status,Industry,LeadSource
          Opportunity_properties: Name,Amount,CloseDate,StageName,Description
          Poulailler__c_properties: Name
          Task_properties: Subject,Status,Priority,Description,ActivityDate
          properties: Name,Amount,CloseDate,StageName,Description
          properties_list: [Name, Amount, CloseDate, StageName, Description]
          record_type: ''
          s_object_type: Opportunity
          update_if_exists: update
        output_schema:
          $defs:
            CrmAction:
              properties:
                action_type:
                  properties:
                    label: {title: Label, type: string}
                    name: {title: Name, type: string}
                  required: [name, label]
                  title: CrmActionType
                  type: object
                extra:
                  anyOf:
                  - {type: string}
                  - {type: 'null'}
                  default: null
                  title: Extra
                icon:
                  anyOf:
                  - {type: string}
                  - {type: 'null'}
                  default: null
                  title: Icon
                identifier: {title: Identifier, type: string}
                new_state:
                  anyOf:
                  - {type: object}
                  - {type: 'null'}
                  default: null
                  title: New State
                object_type: {title: Object Type, type: string}
                previous_state:
                  anyOf:
                  - {type: object}
                  - {type: 'null'}
                  default: null
                  title: Previous State
                url:
                  anyOf:
                  - {type: string}
                  - {type: 'null'}
                  default: null
                  title: Url
              required: [object_type, identifier, action_type]
              title: CrmAction
              type: object
            CrmActionType:
              properties:
                label: {title: Label, type: string}
                name: {title: Name, type: string}
              required: [name, label]
              title: CrmActionType
              type: object
            SalesforceAutoEntity:
              properties: {}
              title: SalesforceAutoEntity
              type: object
          properties:
            actions:
              default: []
              items:
                properties:
                  action_type:
                    properties:
                      label: {title: Label, type: string}
                      name: {title: Name, type: string}
                    required: [name, label]
                    title: CrmActionType
                    type: object
                  extra:
                    anyOf:
                    - {type: string}
                    - {type: 'null'}
                    default: null
                    title: Extra
                  icon:
                    anyOf:
                    - {type: string}
                    - {type: 'null'}
                    default: null
                    title: Icon
                  identifier: {title: Identifier, type: string}
                  new_state:
                    anyOf:
                    - {type: object}
                    - {type: 'null'}
                    default: null
                    title: New State
                  object_type: {title: Object Type, type: string}
                  previous_state:
                    anyOf:
                    - {type: object}
                    - {type: 'null'}
                    default: null
                    title: Previous State
                  url:
                    anyOf:
                    - {type: string}
                    - {type: 'null'}
                    default: null
                    title: Url
                required: [object_type, identifier, action_type]
                title: CrmAction
                type: object
              title: Actions
              type: array
            opportunity_records:
              default: []
              items:
                properties: {}
                title: SalesforceAutoEntity
                type: object
              title: Opportunity Records
              type: array
          title: OutputSchema
          type: object
          uiSchema:
            ui:options: {label: false}
        pos_x: -685.0
        pos_y: 891.0
        src_handles: []
        tgt_handles: [opportunity_records]
      tgt_handles: [nd-e9960712-4179-47a9-9bda-7f586a3e2787.summary, nd-e9960712-4179-47a9-9bda-7f586a3e2787.opportunities,
        run]
  - id:
      PLURALLY_VERSION: 0
      _node_id: nd-b6684fd4-2a4b-447c-bca6-345fc6c678aa
      desc: ''
      icons: [openai]
      input_schema:
        $defs:
          Auto:
            properties: {}
            title: Auto
            type: object
        additionalProperties: false
        properties:
          nd-5034b6ff-a14a-449c-862a-587be4bb9f9d.accounts:
            properties: {}
            title: '[Association des objets: accounts]'
            type: object
          nd-5034b6ff-a14a-449c-862a-587be4bb9f9d.contacts:
            properties: {}
            title: '[Association des objets: contacts]'
            type: object
          nd-5034b6ff-a14a-449c-862a-587be4bb9f9d.events:
            properties: {}
            title: '[Association des objets: events]'
            type: object
          nd-5034b6ff-a14a-449c-862a-587be4bb9f9d.opportunities:
            properties: {}
            title: '[Association des objets: opportunities]'
            type: object
          nd-5034b6ff-a14a-449c-862a-587be4bb9f9d.summary:
            properties: {}
            title: '[Association des objets: summary]'
            type: object
          nd-5034b6ff-a14a-449c-862a-587be4bb9f9d.tasks:
            properties: {}
            title: '[Association des objets: tasks]'
            type: object
          nd-e527b95d-a35d-4a2d-8364-6e424f533e94.entities:
            default: null
            items: {}
            title: '[Association des objets: entities]'
            type: array
          run:
            default: true
            description: Whether to run the block.
            examples: [true, false]
            title: Run
            type: boolean
        required: [nd-5034b6ff-a14a-449c-862a-587be4bb9f9d.tasks, nd-5034b6ff-a14a-449c-862a-587be4bb9f9d.summary,
          nd-5034b6ff-a14a-449c-862a-587be4bb9f9d.contacts, nd-5034b6ff-a14a-449c-862a-587be4bb9f9d.accounts,
          nd-5034b6ff-a14a-449c-862a-587be4bb9f9d.opportunities, nd-5034b6ff-a14a-449c-862a-587be4bb9f9d.events]
        title: InputSchema
        type: object
      is_output_fixable: false
      is_trigger: false
      kls: Subflow
      name: Assocs
      output_schema:
        $defs:
          Auto:
            properties: {}
            title: Auto
            type: object
          CrmAction:
            properties:
              action_type:
                properties:
                  label: {title: Label, type: string}
                  name: {title: Name, type: string}
                required: [name, label]
                title: CrmActionType
                type: object
              extra:
                anyOf:
                - {type: string}
                - {type: 'null'}
                default: null
                title: Extra
              icon:
                anyOf:
                - {type: string}
                - {type: 'null'}
                default: null
                title: Icon
              identifier: {title: Identifier, type: string}
              new_state:
                anyOf:
                - {type: object}
                - {type: 'null'}
                default: null
                title: New State
              object_type: {title: Object Type, type: string}
              previous_state:
                anyOf:
                - {type: object}
                - {type: 'null'}
                default: null
                title: Previous State
              url:
                anyOf:
                - {type: string}
                - {type: 'null'}
                default: null
                title: Url
            required: [object_type, identifier, action_type]
            title: CrmAction
            type: object
          CrmActionType:
            properties:
              label: {title: Label, type: string}
              name: {title: Name, type: string}
            required: [name, label]
            title: CrmActionType
            type: object
        properties:
          nd-5034b6ff-a14a-449c-862a-587be4bb9f9d.salesforce_associations:
            properties: {}
            title: '[Association des objets: salesforce_associations]'
            type: object
          nd-e527b95d-a35d-4a2d-8364-6e424f533e94.actions:
            default: []
            items:
              properties:
                action_type:
                  properties:
                    label: {title: Label, type: string}
                    name: {title: Name, type: string}
                  required: [name, label]
                  title: CrmActionType
                  type: object
                extra:
                  anyOf:
                  - {type: string}
                  - {type: 'null'}
                  default: null
                  title: Extra
                icon:
                  anyOf:
                  - {type: string}
                  - {type: 'null'}
                  default: null
                  title: Icon
                identifier: {title: Identifier, type: string}
                new_state:
                  anyOf:
                  - {type: object}
                  - {type: 'null'}
                  default: null
                  title: New State
                object_type: {title: Object Type, type: string}
                previous_state:
                  anyOf:
                  - {type: object}
                  - {type: 'null'}
                  default: null
                  title: Previous State
                url:
                  anyOf:
                  - {type: string}
                  - {type: 'null'}
                  default: null
                  title: Url
              required: [object_type, identifier, action_type]
              title: CrmAction
              type: object
            title: '[Association des objets: actions]'
            type: array
        required: [nd-5034b6ff-a14a-449c-862a-587be4bb9f9d.salesforce_associations]
        title: OutputSchema
        type: object
        uiSchema:
          ui:options: {label: false}
      pos_x: 559.0
      pos_y: 1755.0
      src_handles: [nd-e527b95d-a35d-4a2d-8364-6e424f533e94.actions, nd-5034b6ff-a14a-449c-862a-587be4bb9f9d.salesforce_associations]
      subflow_links:
      - {key: salesforce_associations###assoc_id_pairs, label: Salesforce associations
          -> Salesforce Relationship Pairs, source: nd-5034b6ff-a14a-449c-862a-587be4bb9f9d,
        src_handle: salesforce_associations, target: nd-e527b95d-a35d-4a2d-8364-6e424f533e94,
        tgt_handle: assoc_id_pairs}
      subflow_nodes:
      - PLURALLY_VERSION: 1
        _node_id: nd-5034b6ff-a14a-449c-862a-587be4bb9f9d
        add_chain_of_thought: false
        add_explanation: false
        examples: ''
        general_info: ''
        input_fields:
        - {free: tasks, handle_id: '1525', type: Auto}
        - {free: summary, handle_id: 93a3, type: Auto}
        - {free: contacts, handle_id: 26f1, type: Auto}
        - {free: accounts, handle_id: '0226', type: Auto}
        - {free: opportunities, handle_id: b150, type: Auto}
        - {free: events, handle_id: a47f, type: Auto}
        input_schema:
          $defs:
            Auto:
              properties: {}
              title: Auto
              type: object
          additionalProperties: false
          can-add-fields: true
          properties:
            accounts:
              handle_id: '0226'
              properties: {}
              title: accounts
              type: object
              type-friendly: Auto (BETA)
            contacts:
              handle_id: 26f1
              properties: {}
              title: contacts
              type: object
              type-friendly: Auto (BETA)
            events:
              handle_id: a47f
              properties: {}
              title: events
              type: object
              type-friendly: Auto (BETA)
            opportunities:
              handle_id: b150
              properties: {}
              title: opportunities
              type: object
              type-friendly: Auto (BETA)
            run:
              default: true
              description: Whether to run the block.
              examples: [true, false]
              title: Run
              type: boolean
            summary:
              handle_id: 93a3
              properties: {}
              title: summary
              type: object
              type-friendly: Auto (BETA)
            tasks:
              handle_id: '1525'
              properties: {}
              title: tasks
              type: object
              type-friendly: Auto (BETA)
          required: [tasks, summary, contacts, accounts, opportunities, events]
          title: InputSchema
          type: object
        instruct: |
          Your goal is to associate Salesforce records based on the available relationship types. Ensure that all valid associations are created for each record.

          <rules>
              <rule>
                  Only use the types of associations listed below. 
              </rule>
          </rules>

          <types_of_associations>
              <type_of_association>
                  OPPORTUNITY_TO_CONTACT:  this is for defining the principal contact of a given opportunity.
              </type_of_association>
              <type_of_association>
                  CONTACT_TO_ACCOUNT: this is for associating a contact to an account (i.e. where he / she works).
              </type_of_association>
              <type_of_association>
                  OPPORTUNITY_TO_ACCOUNT: associate an opportunity to an account / company.
              </type_of_association>
              <type_of_association>
                  EVENT_TO_ACCOUNT: associate an event to an account.
              </type_of_association>
              <type_of_association>
                  TASK_TO_OPPORTUNITY: associate a task to an opportunity / deal.
              </type_of_association>
          </types_of_associations>

          <rules>
              <rule>
                  Treat each record type individually, even if there are multiple records of the same type. For example, if there are three tasks (A, B, C) related to the same opportunity, create three separate TASK_TO_OPPORTUNITY associations.
              </rule>
              <rule>
                  If multiple association types are possible for the same record, create all relevant associations. For example, an opportunity can be linked to both a contact and an account.    
              </rule>
              <rule>
                  Only create associations that correspond to available relationship types. For instance, if no T1_TO_T2 association type exists, do not attempt to create one between records of type T1 and T2.
              </rule>
              <rule>
                  There cannot be a contact not associated to an account. 
              </rule>
              <rule>
                  There cannot be an opportunity not associated to an account. 
              </rule>
              <rule>
                  There cannot be an event not associated to nothing. 
              </rule>
          </rules>

          {PLURALLY_EXAMPLES}
          {PLURALLY_GENERAL_INFO}

          <summary>
          {{summary}}
          </summary>

          <accounts>
          {% for account in accounts %}
              <account>
                  {{ account | tojson }}
              </account>
          {% endfor %}
          </accounts>

          <contacts>
          {% for contact in contacts %}
              <contact>
                  {{ contact | tojson }}
              </contact>
          {% endfor %}
          </contacts>

          <opportunities>
          {% for opportunity in opportunities %}
              <opportunity>
                  {{ opportunity | tojson }}
              </opportunity>
          {% endfor %}
          </opportunities>

          <events>
          {% for event in events %}
              <event>
                  {{ event | tojson }}
              </event>
          {% endfor %}
          </events>

          <tasks>
          {% for task in tasks %}
              <task>
                  {{ task | tojson }}
              </task>
          {% endfor %}
          </tasks>
        is_output_fixable: false
        is_table: false
        is_trigger: false
        kls: Instruct
        model: gpt-4o
        name: Association des objets
        output_fields:
        - {free: Salesforce associations, handle_id: a741, type: Auto}
        output_schema:
          $defs:
            Auto:
              properties: {}
              title: Auto
              type: object
          can-add-fields: true
          properties:
            salesforce_associations:
              handle_id: a741
              properties: {}
              title: Salesforce associations
              type: object
              type-friendly: Auto (BETA)
          required: [salesforce_associations]
          title: OutputSchema
          type: object
        pos_x: 240.5
        pos_y: 875.0
        src_handles: [salesforce_associations]
        tgt_handles: [summary, tasks, run, events, contacts, opportunities, accounts]
      - PLURALLY_VERSION: 0
        _node_id: nd-e527b95d-a35d-4a2d-8364-6e424f533e94
        instance_url: https://plurally2-dev-ed.develop.my.salesforce.com
        is_output_fixable: false
        is_trigger: false
        kls: SalesforceAssocAuto
        name: Association des objets
        pos_x: 293.0
        pos_y: 1045.0
        src_handles: [actions]
        tgt_handles: [assoc_id_pairs, run]
      tgt_handles: [nd-e527b95d-a35d-4a2d-8364-6e424f533e94.entities, nd-5034b6ff-a14a-449c-862a-587be4bb9f9d.events,
        nd-5034b6ff-a14a-449c-862a-587be4bb9f9d.tasks, nd-5034b6ff-a14a-449c-862a-587be4bb9f9d.opportunities,
        nd-5034b6ff-a14a-449c-862a-587be4bb9f9d.accounts, nd-5034b6ff-a14a-449c-862a-587be4bb9f9d.summary,
        nd-5034b6ff-a14a-449c-862a-587be4bb9f9d.contacts, run]
  - id:
      PLURALLY_VERSION: 0
      _node_id: nd-57dc9a4f-4eda-461e-8753-3e5e3d5be1f2
      input_schema:
        $defs:
          SalesforceAutoEntity:
            properties: {}
            title: SalesforceAutoEntity
            type: object
        properties:
          event_records:
            default: []
            items:
              properties: {}
              title: SalesforceAutoEntity
              type: object
            title: Event Records
            type: array
        title: SalesforceAutoInput
        type: object
      instance_url: https://plurally2-dev-ed.develop.my.salesforce.com
      is_output_fixable: false
      is_trigger: false
      kls: SalesforceAuto
      name: Auto Sync
      objects_to_sync:
      - Account_properties: Name, Website, Industry
        AssociatedLocation_properties: ''
        Contact_properties: Email, FirstName, LastName, Phone, Title
        EventRelation_properties: ''
        Event_properties: Description,DurationInMinutes,Location,StartDateTime,Subject,Type
        Lead_properties: FirstName,LastName,Company,Email,Website,Title,Status,Industry,LeadSource
        Opportunity_properties: Name,Amount,CloseDate,StageName
        Poulailler__c_properties: Name
        Task_properties: Subject,Status,Priority,Description,ActivityDate
        properties: Description,DurationInMinutes,Location,StartDateTime,Subject,Type
        properties_list: [Description, DurationInMinutes, Location, StartDateTime,
          Subject, Type]
        record_type: ''
        s_object_type: Event
        update_if_exists: make_unique
      output_schema:
        $defs:
          CrmAction:
            properties:
              action_type:
                properties:
                  label: {title: Label, type: string}
                  name: {title: Name, type: string}
                required: [name, label]
                title: CrmActionType
                type: object
              extra:
                anyOf:
                - {type: string}
                - {type: 'null'}
                default: null
                title: Extra
              icon:
                anyOf:
                - {type: string}
                - {type: 'null'}
                default: null
                title: Icon
              identifier: {title: Identifier, type: string}
              new_state:
                anyOf:
                - {type: object}
                - {type: 'null'}
                default: null
                title: New State
              object_type: {title: Object Type, type: string}
              previous_state:
                anyOf:
                - {type: object}
                - {type: 'null'}
                default: null
                title: Previous State
              url:
                anyOf:
                - {type: string}
                - {type: 'null'}
                default: null
                title: Url
            required: [object_type, identifier, action_type]
            title: CrmAction
            type: object
          CrmActionType:
            properties:
              label: {title: Label, type: string}
              name: {title: Name, type: string}
            required: [name, label]
            title: CrmActionType
            type: object
          SalesforceAutoEntity:
            properties: {}
            title: SalesforceAutoEntity
            type: object
        properties:
          actions:
            default: []
            items:
              properties:
                action_type:
                  properties:
                    label: {title: Label, type: string}
                    name: {title: Name, type: string}
                  required: [name, label]
                  title: CrmActionType
                  type: object
                extra:
                  anyOf:
                  - {type: string}
                  - {type: 'null'}
                  default: null
                  title: Extra
                icon:
                  anyOf:
                  - {type: string}
                  - {type: 'null'}
                  default: null
                  title: Icon
                identifier: {title: Identifier, type: string}
                new_state:
                  anyOf:
                  - {type: object}
                  - {type: 'null'}
                  default: null
                  title: New State
                object_type: {title: Object Type, type: string}
                previous_state:
                  anyOf:
                  - {type: object}
                  - {type: 'null'}
                  default: null
                  title: Previous State
                url:
                  anyOf:
                  - {type: string}
                  - {type: 'null'}
                  default: null
                  title: Url
              required: [object_type, identifier, action_type]
              title: CrmAction
              type: object
            title: Actions
            type: array
          event_records:
            default: []
            items:
              properties: {}
              title: SalesforceAutoEntity
              type: object
            title: Event Records
            type: array
        title: OutputSchema
        type: object
        uiSchema:
          ui:options: {label: false}
      pos_x: 0.0
      pos_y: 1480.0
      src_handles: [event_records, actions]
      tgt_handles: [event_records]
  - id:
      PLURALLY_VERSION: 1
      _node_id: nd-9ecb6a3d-6a36-48de-8134-20f034c1150b
      add_chain_of_thought: false
      add_explanation: false
      examples: ''
      general_info: ''
      input_fields:
      - {free: subject, handle_id: 683b, type: Auto}
      - {free: description, handle_id: a63d, type: Auto}
      - {free: report, handle_id: b9bb, type: Auto}
      input_schema:
        $defs:
          Auto:
            properties: {}
            title: Auto
            type: object
        additionalProperties: false
        can-add-fields: true
        properties:
          description:
            handle_id: a63d
            properties: {}
            title: description
            type: object
            type-friendly: Auto (BETA)
          report:
            handle_id: b9bb
            properties: {}
            title: report
            type: object
            type-friendly: Auto (BETA)
          run:
            default: true
            description: Whether to run the block.
            examples: [true, false]
            title: Run
            type: boolean
          subject:
            handle_id: 683b
            properties: {}
            title: subject
            type: object
            type-friendly: Auto (BETA)
        required: [subject, description, report]
        title: InputSchema
        type: object
      instruct: |
        # Plurally System Prompts

        ## Introduction  
        You are Plurally's AI-powered assistant.

        You are helping a company automate the creation of **Salesforce Event records** using a meeting report, subject, and description of a sales meeting.

        ## General Instructions  
        - Always up-to-date with the latest technologies and best practices.  
        - Respond using the output language defined in `<output_language>`.  
        - Format responses for readability using Markdown and MDX components as needed.  
        - Follow the provided structure strictly, respecting field rules and logic for timestamps.

        ## General Informations
        {PLURALLY_GENERAL_INFO}

        ## Task Objective  
        Given:  
        - An event **Report** (free-form text)  
        - A **Subject** string  
        - A **Description** string  

        Your goal is to **create a Salesforce Event record** using this information.

        ## Rules

        1. **Mandatory Record Creation**  
           - Always create an Event record in Salesforce.

        2. **Subject and Description**  
           - Use the provided **Subject** and **Description** fields **exactly as given**.  
           - **Do not modify or rewrite them**.

        3. **Field Inference**  
           - All other fields (e.g., `StartDateTime`, participants, associations) must be inferred from the context provided in the report.

        4. **StartDateTime Logic**  
           - If the **start time** is explicitly mentioned in the report, use it for `StartDateTime`.  
           - If only a **duration** is mentioned, calculate `StartDateTime` by subtracting the duration from the **current time**, assuming the meeting ended **now**.  
           - If neither start time nor duration is provided, use the **current time** as `StartDateTime`.
           - Make sure not to confuse another datetime mentioned in the report as the **start time** of the meeting being reported.

        5. **Context Usage**  
           - Only use the information explicitly included in the inputs.  
           - **Do not hallucinate or assume missing information**.

        6. **Language Format**  
           - All output must strictly be in {{OUTPUT_LANGUAGE | default('French')}}.

        ## Inputs
        ### Report
        {{report}}

        ### Subject
        {{subject}}

        ### Description
        {{description}}

        ## Notes
        - Ensure that the Salesforce Event object is correctly formed with all deduced fields included.
        - Maintain clarity and structure in your output.
        - Avoid speculation — stay within the provided data and rules.
      is_output_fixable: false
      is_table: false
      is_trigger: false
      kls: Instruct
      model: gpt-4o
      name: Création des évènements
      output_fields:
      - {free: events, handle_id: fb00, type: Auto}
      output_schema:
        $defs:
          Auto:
            properties: {}
            title: Auto
            type: object
        can-add-fields: true
        properties:
          events:
            handle_id: fb00
            properties: {}
            title: events
            type: object
            type-friendly: Auto (BETA)
        required: [events]
        title: OutputSchema
        type: object
      pos_x: 584.25
      pos_y: 1338.0
      src_handles: [events]
      tgt_handles: [description, report, run, subject]
  - id:
      PLURALLY_VERSION: 1
      _node_id: nd-9ce1034e-8308-43c9-a1dd-367c4b49879b
      add_chain_of_thought: false
      add_explanation: false
      examples: |-
        [
           {
              "transcript":"alsace plombery is my client",
              "reference_names":[
                 "Marseille Plomberie"
              ],
              "corrected_transcript":"alsace plombery is my client"
           },
           {
              "transcript":"alsace plombery is my client",
              "reference_names":[
                 "Alsace Plomberie",
                 "Marseille Plomberie"
              ],
              "corrected_transcript":"Alsace Plomberie is my client"
           },
           {
              "transcript":"met with Hilty it's H-I-L-T-I, hilty.com",
              "reference_names":[
                 "Alsace Plomberie",
                 "Marseille Plomberie"
              ],
              "corrected_transcript":"met with Hilti, hilti.com"
           }
        ]
      general_info: ''
      input_fields:
      - {free: transcript, handle_id: ed42, type: Auto}
      - {free: accounts, handle_id: '5e30', type: Auto}
      input_schema:
        $defs:
          Auto:
            properties: {}
            title: Auto
            type: object
        additionalProperties: false
        can-add-fields: true
        properties:
          accounts:
            handle_id: '5e30'
            properties: {}
            title: accounts
            type: object
            type-friendly: Auto (BETA)
          run:
            default: true
            description: Whether to run the block.
            examples: [true, false]
            title: Run
            type: boolean
          transcript:
            handle_id: ed42
            properties: {}
            title: transcript
            type: object
            type-friendly: Auto (BETA)
        required: [transcript, accounts]
        title: InputSchema
        type: object
      instruct: |
        You are a language model specialized in correcting transcripts using a provided list of known names or spelling.

        <rules>
            <rule>
                Only make corrections if the name in the transcript is phonetically similar to a name in the <reference_names>, indicating a likely spelling mistake.
            </rule>
            <rule>
                If some word are spelled letter by letter by the speaker, correct according to the spelling.
            </rule>
            <rule>
                Ensure that corrections maintain the original capitalization and spacing of the reference names.
            </rule>
            <rule>
                Do not modify any other parts of the transcript.
            </rule>
            <rule>
                If the name in the transcript does not closely match any name in the list, leave it unchanged.
            </rule>
        </rules>

        {PLURALLY_EXAMPLES}
        {PLURALLY_GENERAL_INFO}

        <task>
            Correct the following transcript using the provided list of names.
        </task>

        <transcript>
            {{ transcript }}
        </transcript>

        <reference_names>
            {% for account in accounts %}
                <reference_name>{{ account.Name }}</reference_name>
            {% endfor %}
        </reference_names>
      is_output_fixable: false
      is_table: false
      is_trigger: false
      kls: Instruct
      model: gpt-4o
      name: Lecture des comptes
      output_fields:
      - {free: corrected_transcript, handle_id: a0d5, type: Text}
      output_schema:
        can-add-fields: true
        properties:
          corrected_transcript: {handle_id: a0d5, title: corrected_transcript, type: string}
        required: [corrected_transcript]
        title: OutputSchema
        type: object
      pos_x: 600.0
      pos_y: 320.0
      src_handles: [corrected_transcript]
      tgt_handles: [accounts, run, transcript]
  - id:
      PLURALLY_VERSION: 0
      _node_id: nd-e8a064ad-1754-4bd9-834c-4dd6615fb18a
      input_schema:
        $defs:
          SalesforceSOQLComparisonOperatorMulti:
            enum: [IN, NOT IN, INCLUDES, EXCLUDES]
            title: SalesforceSOQLComparisonOperatorMulti
            type: string
          SalesforceSOQLComparisonOperatorSingle:
            enum: ['=', '!=', <, <=, '>', '>=', LIKE]
            title: SalesforceSOQLComparisonOperatorSingle
            type: string
          SalesforceSOQLFilterGroup:
            properties:
              filters:
                items:
                  anyOf:
                  - properties:
                      field: {title: Field, type: string}
                      operator:
                        enum: ['=', '!=', <, <=, '>', '>=', LIKE]
                        title: SalesforceSOQLComparisonOperatorSingle
                        type: string
                      value:
                        anyOf:
                        - {type: string}
                        - {type: integer}
                        - {type: number}
                        - {format: date-time, type: string}
                        - {format: date, type: string}
                        title: Value
                    required: [field, operator, value]
                    title: SalesforceSOQLFilterSingle
                    type: object
                  - properties:
                      field: {title: Field, type: string}
                      operator:
                        enum: [IN, NOT IN, INCLUDES, EXCLUDES]
                        title: SalesforceSOQLComparisonOperatorMulti
                        type: string
                      values:
                        items: {type: string}
                        title: Values
                        type: array
                    required: [field, operator, values]
                    title: SalesforceSOQLFilterMulti
                    type: object
                title: Filters
                type: array
              logical_operator:
                default: AND
                enum: [AND, OR, NOT]
                title: SalesforceSOQLLogicalOperator
                type: string
            required: [filters]
            title: SalesforceSOQLFilterGroup
            type: object
          SalesforceSOQLFilterMulti:
            properties:
              field: {title: Field, type: string}
              operator:
                enum: [IN, NOT IN, INCLUDES, EXCLUDES]
                title: SalesforceSOQLComparisonOperatorMulti
                type: string
              values:
                items: {type: string}
                title: Values
                type: array
            required: [field, operator, values]
            title: SalesforceSOQLFilterMulti
            type: object
          SalesforceSOQLFilterSingle:
            properties:
              field: {title: Field, type: string}
              operator:
                enum: ['=', '!=', <, <=, '>', '>=', LIKE]
                title: SalesforceSOQLComparisonOperatorSingle
                type: string
              value:
                anyOf:
                - {type: string}
                - {type: integer}
                - {type: number}
                - {format: date-time, type: string}
                - {format: date, type: string}
                title: Value
            required: [field, operator, value]
            title: SalesforceSOQLFilterSingle
            type: object
          SalesforceSOQLLogicalOperator:
            enum: [AND, OR, NOT]
            title: SalesforceSOQLLogicalOperator
            type: string
        additionalProperties: false
        description: Selects for the Salesforce entities.
        properties:
          account_records:
            anyOf:
            - properties:
                field: {title: Field, type: string}
                operator:
                  enum: ['=', '!=', <, <=, '>', '>=', LIKE]
                  title: SalesforceSOQLComparisonOperatorSingle
                  type: string
                value:
                  anyOf:
                  - {type: string}
                  - {type: integer}
                  - {type: number}
                  - {format: date-time, type: string}
                  - {format: date, type: string}
                  title: Value
              required: [field, operator, value]
              title: SalesforceSOQLFilterSingle
              type: object
            - properties:
                field: {title: Field, type: string}
                operator:
                  enum: [IN, NOT IN, INCLUDES, EXCLUDES]
                  title: SalesforceSOQLComparisonOperatorMulti
                  type: string
                values:
                  items: {type: string}
                  title: Values
                  type: array
              required: [field, operator, values]
              title: SalesforceSOQLFilterMulti
              type: object
            - properties:
                filters:
                  items:
                    anyOf:
                    - properties:
                        field: {title: Field, type: string}
                        operator:
                          enum: ['=', '!=', <, <=, '>', '>=', LIKE]
                          title: SalesforceSOQLComparisonOperatorSingle
                          type: string
                        value:
                          anyOf:
                          - {type: string}
                          - {type: integer}
                          - {type: number}
                          - {format: date-time, type: string}
                          - {format: date, type: string}
                          title: Value
                      required: [field, operator, value]
                      title: SalesforceSOQLFilterSingle
                      type: object
                    - properties:
                        field: {title: Field, type: string}
                        operator:
                          enum: [IN, NOT IN, INCLUDES, EXCLUDES]
                          title: SalesforceSOQLComparisonOperatorMulti
                          type: string
                        values:
                          items: {type: string}
                          title: Values
                          type: array
                      required: [field, operator, values]
                      title: SalesforceSOQLFilterMulti
                      type: object
                  title: Filters
                  type: array
                logical_operator:
                  default: AND
                  enum: [AND, OR, NOT]
                  title: SalesforceSOQLLogicalOperator
                  type: string
              required: [filters]
              title: SalesforceSOQLFilterGroup
              type: object
            - {type: 'null'}
            default: null
            description: Selects for Account
            title: Account Records
          run:
            default: true
            description: Whether to run the block.
            examples: [true, false]
            title: Run
            type: boolean
        title: SalesforceAutoInput
        type: object
      instance_url: https://plurally2-dev-ed.develop.my.salesforce.com
      is_output_fixable: false
      is_trigger: false
      kls: SalesforceReadAuto
      name: Lecture des comptes
      objects_to_read:
      - Account_properties: Name
        AssociatedLocation_properties: ''
        Contact_properties: Email, FirstName, LastName, Phone, Title
        EventRelation_properties: ''
        Event_properties: Description,DurationInMinutes,Location,StartDateTime,Subject,Type
        Lead_properties: FirstName,LastName,Company,Email,Website,Title,Status,Industry,LeadSource
        Opportunity_properties: Name,Amount,CloseDate,StageName
        Poulailler__c_properties: Name
        Task_properties: Subject,Status,Priority,Description,ActivityDate
        properties: Name
        properties_list: [Name]
        record_type: ''
        s_object_type: Account
      output_schema:
        $defs:
          Auto:
            properties: {}
            title: Auto
            type: object
        properties:
          account_records:
            default: []
            items:
              properties: {}
              title: Auto
              type: object
            title: Account Records
            type: array
        title: OutputSchema
        type: object
        uiSchema: {ui:field: SalesforceQuery}
      pos_x: 326.75
      pos_y: 189.0
      skip_if_no_filter: false
      src_handles: [account_records]
      tgt_handles: [run]
  - id:
      PLURALLY_VERSION: 1
      _node_id: nd-ef8cc77e-947e-48e0-84dc-3613d43e2c83
      add_chain_of_thought: false
      add_explanation: false
      examples: |-
        [
           {
              "transcript":"Pinier Thibaut est ouvrier chez Verso",
              "names":[
                 "Thibault Pigner",
                 "versault"
              ],
              "corrected_transcript":"Pigner Thibault est ouvrier chez versault."
           },
           {
              "transcript":"Pinier Thibaut est ouvrier",
              "names":[
                 "Thibault Vivier",
                 "Romain Pigner"
              ],
              "corrected_transcript":"Pinier Thibaut est ouvrier"
           }
        ]
      general_info: ''
      input_fields:
      - {free: contacts, handle_id: 64ed, type: Auto}
      - {free: transcript, handle_id: 7b64, type: Auto}
      input_schema:
        $defs:
          Auto:
            properties: {}
            title: Auto
            type: object
        additionalProperties: false
        can-add-fields: true
        properties:
          contacts:
            handle_id: 64ed
            properties: {}
            title: contacts
            type: object
            type-friendly: Auto (BETA)
          run:
            default: true
            description: Whether to run the block.
            examples: [true, false]
            title: Run
            type: boolean
          transcript:
            handle_id: 7b64
            properties: {}
            title: transcript
            type: object
            type-friendly: Auto (BETA)
        required: [contacts, transcript]
        title: InputSchema
        type: object
      instruct: |-
        You are a language model that specializes in correcting transcripts using a provided list of known names. 
        Your task is to replace potential spelling errors in the transcript with the correct names from the list, but only when the intended name in the transcript closely matches a name in the list. 

        <rules>
            <rule>
                Only make corrections if the name in the transcript and the reference name are phonetically similar, indicating it’s likely a spelling mistake.
            </rule>
            <rule>
                Ensure that corrections maintain the original capitalization and spacing of the reference names.
            </rule>
            <rule>
                Do not modify any other parts of the transcript.
            </rule>
            <rule>
                If the name in the transcript is not a close match to any name in the list, leave it unchanged.
            </rule>
        </rules>

        {PLURALLY_EXAMPLES}
        {PLURALLY_GENERAL_INFO}

        Correct the following transcript:
        <transcript>
            {{ transcript }}
        </transcript>

        Use the following list of names to correct the transcript:
        <names>
            {% for contact in contacts %}
                <name>
                    {{ contact.FirstName }} {{ contact.LastName }}
                </name>
            {% endfor %}
        </names>
      is_output_fixable: true
      is_table: false
      is_trigger: false
      kls: Instruct
      model: gpt-4o
      name: Correction des fautes
      output_fields:
      - {free: corrected_transcript, handle_id: e20e, type: Text}
      output_schema:
        can-add-fields: true
        properties:
          corrected_transcript: {handle_id: e20e, title: corrected_transcript, type: string}
        required: [corrected_transcript]
        title: OutputSchema
        type: object
      pos_x: 1080.0
      pos_y: 940.0
      src_handles: [corrected_transcript]
      tgt_handles: [contacts, run, transcript]
  - id:
      PLURALLY_VERSION: 0
      _node_id: nd-7dc0a4a2-82fd-48d7-9715-c20435be8e34
      input_schema:
        $defs:
          Html_Data:
            properties:
              removed_items:
                items:
                  properties:
                    explanation: {title: Explanation, type: string}
                    title: {title: Title, type: string}
                  required: [title, explanation]
                  title: item
                  type: object
                title: Removed Items
                type: array
            required: [removed_items]
            title: Html Data
            type: object
          item:
            properties:
              explanation: {title: Explanation, type: string}
              title: {title: Title, type: string}
            required: [title, explanation]
            title: item
            type: object
        additionalProperties: false
        properties:
          data:
            properties:
              removed_items:
                items:
                  properties:
                    explanation: {title: Explanation, type: string}
                    title: {title: Title, type: string}
                  required: [title, explanation]
                  title: item
                  type: object
                title: Removed Items
                type: array
            required: [removed_items]
            title: Html Data
            type: object
          run:
            default: true
            description: Whether to run the block.
            examples: [true, false]
            title: Run
            type: boolean
        required: [data]
        title: InputSchema
        type: object
      is_output_fixable: false
      is_trigger: false
      kls: HtmlCreate
      name: Explications
      pos_x: 834.25
      pos_y: 1338.0
      src_handles: [html]
      template: |
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <style>
                body {
                    font-family: Arial, sans-serif;
                }
                .removed-item {
                    background-color: #ffe5e5; /* Light red warning background */
                    border: 1px solid #ff9999; /* Warning border */
                    padding: 15px;
                    margin-bottom: 10px;
                    border-radius: 5px;
                }
                .removed-title {
                    font-weight: bold;
                    color: #cc0000; /* Dark red for emphasis */
                    margin-bottom: 5px;
                }
                .removed-explanation {
                    color: #990000; /* Warning color for explanation */
                }
            </style>
        </head>
        <body>
            {% if removed_items %}
                <div>
                    {% for item in removed_items %}
                        <div class="removed-item">
                            <div class="removed-title">{{ item.title }}</div>
                            <div class="removed-explanation">{{ item.explanation }}</div>
                        </div>
                    {% endfor %}
                </div>
            {% endif %}
        </body>
        </html>
      tgt_handles: [data, run]
  - id:
      PLURALLY_VERSION: 1
      _node_id: nd-0b46ebca-a2c8-4c0a-828a-fb4f5c8c4d4e
      add_chain_of_thought: false
      add_explanation: false
      examples: "[{\"output_language\": \"French\", \"report\": \"Ok, donc je sors
        d'un rendez-vous avec l'entreprise Plombiers Alsace où j'ai rencontré Baptiste
        Dupont, qui est le gérant de l'entreprise. Bon rendez-vous, on a pris une
        heure. Il m'a donné le contact d'Eric Ciotti, qui est conducteur de travaux
        principal, qu'il faudra que j'appelle pour aller sur son chantier. Son numéro
        de téléphone c'est 0607 44 44 42 et son adresse mail du coup c'est eric.ciotti@plombiers-alsace.fr.
        Ça c'est la première chose. Du coup il est intéressé éventuellement pour qu'on
        fasse une analyse de son entreprise qui peut déboucher sur différentes opportunités.
        Donc il faudra qu'on crée un compte rendu et qu'on jalonne les rendez-vous.
        L'analyse va se faire d'abord avec une analyse terrain. On va rencontrer trois
        de ses chefs de chantier où il nous donnera les noms et le conducteur principal
        Eric Ciotti. On fera ensuite une démo de machine. Le pack type c'est: un perforateur,
        une visseuse et une meuleuse qu'on va faire essayer aux trois chefs de chantier
        sur le terrain. Ensuite on fera la conception de l'offre et une restitution
        finale. Donc ça ça devrait se faire à peu près sur trois mois. Donc il faut
        qu'on arrive à jalonner les différents rendez-vous en sorte. Sinon immédiatement
        on a décelé trois opportunités. J'ai une opportunité de clouage avec lui qui
        pourrait être d'environ 10 à 15 000 euros annuels. Donc là il faut que je
        lui fasse une offre de prix sur 100 000 clous sachant qu'un clou c'est 0.3
        centimes. La deuxième j'ai une opportunité de carottage sur une carotteuse
        DD150 montant de l'opportunité 5 000 euros je pense. Et troisième on va avoir
        une opportunité de serre-tisseuse et là c'est pour équiper toutes ses équipes.
        C'est pas encore sûr du tout mais il y en aurait pour 30 000 euros sachant
        qu'il a 15 équipes. Ensuite pour des infos un peu plus de base, l'entreprise
        a 15 équipes. Il y a 6 chefs de chantier. Il y a un conducteur de travaux
        principal, c'est Eric Ciotti. Ils ont un bureau d'études externe qu'il faudra
        qu'on contacte qui est bealsace.fr. Et le chiffre d'affaires de l'entreprise
        est de 40 millions d'euros et ils ont pour idée de se digitaliser et d'augmenter
        leur production. Donc ça c'est leurs enjeux annuels. Merci.\", \"description\"\
        : \"Contact Principal : Baptiste Dupont, Gérant\\nContact à Suivre : Eric
        Ciotti, Conducteur de Travaux Principal\\n\\n    Téléphone : 0607 44 44 42\\\
        n    Email : eric.ciotti@plombiers-alsace.fr\\n\\nPoints Clés :\\n\\n    Analyse
        de l’Entreprise\\n        Intérêt pour une analyse approfondie, pouvant déboucher
        sur de nouvelles opportunités.\\n        Plan :\\n            Phase 1 : Analyse
        terrain avec trois chefs de chantier (noms à confirmer) et Eric Ciotti.\\\
        n            Phase 2 : Démonstration d’équipements (perforateur, visseuse,
        meuleuse) pour les trois chefs de chantier.\\n            Phase 3 : Conception
        de l’offre et restitution finale.\\n        Durée estimée : ~3 mois.\\n\\\
        n    Opportunités Identifiées :\\n        Solution de Clouage : Potentiel
        de 10 000 à 15 000 € par an.\\n            Offre de prix à réaliser pour 100
        000 clous (0,3 centimes/unité).\\n        Carottage (Carotteuse DD150) : Montant
        estimé : 5 000 €.\\n        Kits de Serre-tissage : Éventuel équipement des
        15 équipes. Potentiel : 30 000 € (à confirmer).\\n\\n    Informations sur
        l’Entreprise :\\n        Équipes : 15 équipes et 6 chefs de chantier.\\n \
        \       Conducteur de Travaux Principal : Eric Ciotti.\\n        Bureau d’Études
        Externe : bealsace.fr.\\n        Chiffre d’Affaires : 40 millions d’euros.\\\
        n        Enjeux : Digitalisation et augmentation de la production annuelle.\"\
        }]"
      general_info: ''
      input_fields:
      - {free: report, handle_id: 365c, type: Auto}
      input_schema:
        $defs:
          Auto:
            properties: {}
            title: Auto
            type: object
        additionalProperties: false
        can-add-fields: true
        properties:
          report:
            handle_id: 365c
            properties: {}
            title: report
            type: object
            type-friendly: Auto (BETA)
          run:
            default: true
            description: Whether to run the block.
            examples: [true, false]
            title: Run
            type: boolean
        required: [report]
        title: InputSchema
        type: object
      instruct: |
        <goal>
        Write a subject and summary for the given meeting report. Keep all the relevant business info. it's meant to be entered in Salesforce as as an Event's Subject and Description respectively.
        </goal>
        <rules>
            <rule> 
                Unless explicitly specified, the Subject should follow the following naming: (type of meeting) / (people involved) / (what was discussed).
            </rule>
            <rule>
                Base your output solely on the context provided.
            </rule>
            <rule>
                Make sure ALL of your outputs follow <output_language>.
            </rule>
        </rules>

        {PLURALLY_EXAMPLES}
        {PLURALLY_GENERAL_INFO}

        <output_language>
        {{OUTPUT_LANGUAGE | default('French')}}
        </output_language>

        <report>
        {{report}}
        </report>
      is_output_fixable: false
      is_table: false
      is_trigger: false
      kls: Instruct
      model: gpt-4o
      name: Compliance filter
      output_fields:
      - {free: Subject, handle_id: '5044', type: Text}
      - {free: Description, handle_id: 5db3, type: Text}
      output_schema:
        can-add-fields: true
        properties:
          description: {handle_id: 5db3, title: Description, type: string}
          subject: {handle_id: '5044', title: Subject, type: string}
        required: [subject, description]
        title: OutputSchema
        type: object
      pos_x: 760.0
      pos_y: 1100.0
      src_handles: [description, subject]
      tgt_handles: [run, report]
  - id:
      PLURALLY_VERSION: 1
      _node_id: nd-ebe2e3f6-be6f-4afd-9d57-b5d8b878c74b
      add_chain_of_thought: false
      add_explanation: false
      examples: ''
      general_info: ''
      input_fields:
      - {free: transcript, handle_id: 5a41, type: Auto}
      input_schema:
        $defs:
          Auto:
            properties: {}
            title: Auto
            type: object
        additionalProperties: false
        can-add-fields: true
        properties:
          run:
            default: true
            description: Whether to run the block.
            examples: [true, false]
            title: Run
            type: boolean
          transcript:
            handle_id: 5a41
            properties: {}
            title: transcript
            type: object
            type-friendly: Auto (BETA)
        required: [transcript]
        title: InputSchema
        type: object
      instruct: |-
        # Plurally System Prompts

        ## Introduction  
        You are Plurally's AI-powered assistant.

        You are helping a company ensure that content is **compliant** for logging in a CRM software.

        ## General Instructions  
        - Always up-to-date with the latest compliance and data-handling practices.  
        - Respond in the {{OUTPUT_LANGUAGE}}, regardless of the input language.  
        - Do **not** correct grammar, spelling, or other things that are unrelated to compliance.  
        - Rely **solely** on the provided context—do not make assumptions or use external knowledge.

        ## General Informations
        {PLURALLY_GENERAL_INFO}

        ## Task Objective  
        Given a transcript, your goal is to:

        - **Remove any non-compliant content**, based on the compliance rules below.
        - If anything is removed, explain the reason for each removal in the `reasons_removal` field.
        - If no content is removed, return the original transcript unchanged and leave `reasons_removal` empty.

        ## Compliance Rules

        1. **Personal Information**  
           - Remove personal information about participants.  
           - Personal information includes are non-business-related details (e.g. "John has 3 sons", "John was late because he met his grandma").  
           - **Do not** remove contact information if it is relevant to the business (e.g. last name, phone number etc...)
           - If content is removed, include the reason in `reasons_removal`. Otherwise, leave `reasons_removal` empty.

        2. **Judgement**  
           - Remove any kind of judgemental or evaluative commentary (e.g. "this guy is not very smart").

        3. **Strict Context Adherence**  
           - Base your output **only** on the information provided in the transcript.

        4. **Language Output**  
           - The **output transcript** should follow input language, the reasons for removal should be in {{OUTPUT_LANGUAGE}}, unless for quoted content, if any.

        5. **No Extra Edits**  
           - Do **not** correct grammar, spelling, or unrelated formatting issues.

        6. **Reasoning Field**  
           - Only populate `reasons_removal` if content has been removed.

        ## Inputs
        ### Transcript
        {{transcript}}

        ## Notes
        - Apply the rules strictly and conservatively—only remove content that clearly violates them.
        - When in doubt, preserve content unless it directly breaches the compliance criteria.
      is_output_fixable: false
      is_table: false
      is_trigger: false
      kls: Instruct
      model: gpt-4o
      name: Compliance filter
      output_fields:
      - {free: compliant_transcript, handle_id: dc2f, type: Text}
      - {free: reasons_removal, handle_id: c6fb, type: Auto}
      output_schema:
        $defs:
          Auto:
            properties: {}
            title: Auto
            type: object
        can-add-fields: true
        properties:
          compliant_transcript: {handle_id: dc2f, title: compliant_transcript, type: string}
          reasons_removal:
            handle_id: c6fb
            properties: {}
            title: reasons_removal
            type: object
            type-friendly: Auto (BETA)
        required: [compliant_transcript, reasons_removal]
        title: OutputSchema
        type: object
      pos_x: 900.0
      pos_y: 960.0
      src_handles: [reasons_removal, compliant_transcript]
      tgt_handles: [run, transcript]
  - id:
      PLURALLY_VERSION: 0
      _node_id: nd-2c3d159d-9f8a-4ec8-a961-d0ee1c7d3294
      button_color: '#1c71d8'
      button_on_same_row: false
      button_text: Valider
      form:
      - col_span: 12
        is_only_first_run: false
        is_required: true
        name: Enregistrement audio
        options: []
        placeholder: ''
        type: audio record
      is_output_fixable: false
      is_trigger: true
      kls: Form
      name: Transcription
      output_schema:
        $defs:
          MicAudioFile:
            properties:
              content:
                anyOf:
                - {format: binary, type: string}
                - {type: 'null'}
                default: null
                description: The content of the audio file
                title: Content
                uiSchema: {ui:widget: hidden}
              file:
                accept: audio/*
                is-file: true
                minLength: 1
                title: record_audio_title
                type: string
                uiExampleSchema: {ui:widget: file}
                uiSchema:
                  errorMessages: {minLength: Please finish recording some audio first}
                  ui:widget: AudioRecorderWidget
              filename:
                anyOf:
                - {type: string}
                - {type: 'null'}
                default: null
                description: The name of the audio file
                title: Filename
                uiSchema: {ui:widget: hidden}
            required: [file]
            title: MicAudioFile
            type: object
            type-friendly: Audio
            uiSchema:
              ui:options: {label: false}
        properties:
          enregistrement_audio:
            file_label_override: Enregistrement audio
            properties:
              content:
                anyOf:
                - {format: binary, type: string}
                - {type: 'null'}
                default: null
                description: The content of the audio file
                title: Content
                uiSchema: {ui:widget: hidden}
              file:
                accept: audio/*
                is-file: true
                minLength: 1
                title: record_audio_title
                type: string
                uiExampleSchema: {ui:widget: file}
                uiSchema:
                  errorMessages: {minLength: Please finish recording some audio first}
                  ui:widget: AudioRecorderWidget
              filename:
                anyOf:
                - {type: string}
                - {type: 'null'}
                default: null
                description: The name of the audio file
                title: Filename
                uiSchema: {ui:widget: hidden}
            required: [file]
            title: Enregistrement audio
            type: object
            type-friendly: Record Audio
            uiSchema: {ui:label: true, ui:placeholder: ''}
        required: [enregistrement_audio]
        title: Form
        type: object
        uiSchema:
          ui:grid:
          - [enregistrement_audio, 12]
      pos_x: 761.5
      pos_y: 0.0
      show_label: true
      src_handles: [enregistrement_audio]
      tgt_handles: []
      use_case: false
  - id:
      PLURALLY_VERSION: 0
      _node_id: nd-d71d5025-b13e-4487-a199-e6a32c22c9be
      input_fields:
      - {free: Tasks, handle_id: 98bd, type: Auto}
      - {free: Actions, handle_id: a8fc, type: Auto}
      - {free: Account Records, handle_id: baf6, type: Auto}
      - {free: Contact Records, handle_id: '4995', type: Auto}
      - {free: Event Records, handle_id: a140, type: Auto}
      input_schema:
        $defs:
          Auto:
            properties: {}
            title: Auto
            type: object
        additionalProperties: false
        can-add-fields: true
        properties:
          account_records:
            handle_id: baf6
            properties: {}
            title: Account Records
            type: object
            type-friendly: Auto (BETA)
          actions:
            handle_id: a8fc
            properties: {}
            title: Actions
            type: object
            type-friendly: Auto (BETA)
          contact_records:
            handle_id: '4995'
            properties: {}
            title: Contact Records
            type: object
            type-friendly: Auto (BETA)
          event_records:
            handle_id: a140
            properties: {}
            title: Event Records
            type: object
            type-friendly: Auto (BETA)
          run:
            default: true
            description: Whether to run the block.
            examples: [true, false]
            title: Run
            type: boolean
          tasks:
            handle_id: 98bd
            properties: {}
            title: Tasks
            type: object
            type-friendly: Auto (BETA)
        required: [tasks, actions, account_records, contact_records, event_records]
        title: InputSchema
        type: object
      is_output_fixable: false
      is_trigger: false
      kls: Concat
      name: Concat
      output_schema:
        $defs:
          Auto:
            properties: {}
            title: Auto
            type: object
        properties:
          output:
            items:
              properties: {}
              title: Auto
              type: object
            title: Output
            type: array
        required: [output]
        title: OutputSchema
        type: object
        uiSchema:
          ui:options: {label: false}
      pos_x: 515.25
      pos_y: 1622.0
      src_handles: [output]
      tgt_handles: [actions, tasks, contact_records, account_records, run, event_records]
  - id:
      PLURALLY_VERSION: 0
      _node_id: nd-fa917166-c5cf-491d-993b-6d61ddb8f9e7
      is_correctible: true
      is_hidden: false
      is_output_fixable: false
      is_trigger: false
      key: CrmActionsOutput
      kls: CrmActionsOutput
      name: CrmActionsOutput
      pos_x: 586.75
      pos_y: 2039.0
      src_handles: []
      tgt_handles: [actions, run]
  - id:
      PLURALLY_VERSION: 0
      _node_id: nd-77908400-c8ec-4611-a7cc-e14f7bcb3451
      input_fields:
      - {free: Actions, handle_id: '2e09', type: Auto}
      - {free: Actions 1, handle_id: d8bd, type: Auto}
      - {free: Actions 1 1, handle_id: '02e5', type: Auto}
      - {free: Actions 1 1 1, handle_id: 996c, type: Auto}
      - {free: Actions 1 1 1 1, handle_id: 6f51, type: Auto}
      - {free: Actions 1 1 1 1 1, handle_id: 2a7e, type: Auto}
      input_schema:
        $defs:
          Auto:
            properties: {}
            title: Auto
            type: object
        additionalProperties: false
        can-add-fields: true
        properties:
          actions:
            handle_id: '2e09'
            properties: {}
            title: Actions
            type: object
            type-friendly: Auto (BETA)
          actions_1:
            handle_id: d8bd
            properties: {}
            title: Actions 1
            type: object
            type-friendly: Auto (BETA)
          actions_1_1:
            handle_id: '02e5'
            properties: {}
            title: Actions 1 1
            type: object
            type-friendly: Auto (BETA)
          actions_1_1_1:
            handle_id: 996c
            properties: {}
            title: Actions 1 1 1
            type: object
            type-friendly: Auto (BETA)
          actions_1_1_1_1:
            handle_id: 6f51
            properties: {}
            title: Actions 1 1 1 1
            type: object
            type-friendly: Auto (BETA)
          actions_1_1_1_1_1:
            handle_id: 2a7e
            properties: {}
            title: Actions 1 1 1 1 1
            type: object
            type-friendly: Auto (BETA)
          run:
            default: true
            description: Whether to run the block.
            examples: [true, false]
            title: Run
            type: boolean
        required: [actions, actions_1, actions_1_1, actions_1_1_1, actions_1_1_1_1,
          actions_1_1_1_1_1]
        title: InputSchema
        type: object
      is_output_fixable: false
      is_trigger: false
      kls: Concat
      name: Concat
      output_schema:
        $defs:
          Auto:
            properties: {}
            title: Auto
            type: object
        properties:
          output:
            items:
              properties: {}
              title: Auto
              type: object
            title: Output
            type: array
        required: [output]
        title: OutputSchema
        type: object
        uiSchema:
          ui:options: {label: false}
      pos_x: 533.75
      pos_y: 1906.0
      src_handles: [output]
      tgt_handles: [actions_1, actions_1_1_1_1, actions, actions_1_1_1, run, actions_1_1_1_1_1,
        actions_1_1]
  - id:
      PLURALLY_VERSION: 0
      _node_id: nd-2a66eeb5-43b3-48ee-9123-6f37c95ff1df
      is_correctible: true
      is_hidden: false
      is_output_fixable: false
      is_trigger: false
      key: HtmlOutput
      kls: HtmlOutput
      name: HtmlOutput
      pos_x: 827.0
      pos_y: 1480.0
      src_handles: []
      tgt_handles: [content, run]
  - id:
      PLURALLY_VERSION: 0
      _node_id: nd-81e30ef2-6ff1-497f-8689-98a8561f3841
      input_schema:
        $defs:
          SalesforceSOQLComparisonOperatorMulti:
            enum: [IN, NOT IN, INCLUDES, EXCLUDES]
            title: SalesforceSOQLComparisonOperatorMulti
            type: string
          SalesforceSOQLComparisonOperatorSingle:
            enum: ['=', '!=', <, <=, '>', '>=', LIKE]
            title: SalesforceSOQLComparisonOperatorSingle
            type: string
          SalesforceSOQLFilterGroup:
            properties:
              filters:
                items:
                  anyOf:
                  - properties:
                      field: {title: Field, type: string}
                      operator:
                        enum: ['=', '!=', <, <=, '>', '>=', LIKE]
                        title: SalesforceSOQLComparisonOperatorSingle
                        type: string
                      value:
                        anyOf:
                        - {type: string}
                        - {type: integer}
                        - {type: number}
                        - {format: date-time, type: string}
                        - {format: date, type: string}
                        title: Value
                    required: [field, operator, value]
                    title: SalesforceSOQLFilterSingle
                    type: object
                  - properties:
                      field: {title: Field, type: string}
                      operator:
                        enum: [IN, NOT IN, INCLUDES, EXCLUDES]
                        title: SalesforceSOQLComparisonOperatorMulti
                        type: string
                      values:
                        items: {type: string}
                        title: Values
                        type: array
                    required: [field, operator, values]
                    title: SalesforceSOQLFilterMulti
                    type: object
                title: Filters
                type: array
              logical_operator:
                default: AND
                enum: [AND, OR, NOT]
                title: SalesforceSOQLLogicalOperator
                type: string
            required: [filters]
            title: SalesforceSOQLFilterGroup
            type: object
          SalesforceSOQLFilterMulti:
            properties:
              field: {title: Field, type: string}
              operator:
                enum: [IN, NOT IN, INCLUDES, EXCLUDES]
                title: SalesforceSOQLComparisonOperatorMulti
                type: string
              values:
                items: {type: string}
                title: Values
                type: array
            required: [field, operator, values]
            title: SalesforceSOQLFilterMulti
            type: object
          SalesforceSOQLFilterSingle:
            properties:
              field: {title: Field, type: string}
              operator:
                enum: ['=', '!=', <, <=, '>', '>=', LIKE]
                title: SalesforceSOQLComparisonOperatorSingle
                type: string
              value:
                anyOf:
                - {type: string}
                - {type: integer}
                - {type: number}
                - {format: date-time, type: string}
                - {format: date, type: string}
                title: Value
            required: [field, operator, value]
            title: SalesforceSOQLFilterSingle
            type: object
          SalesforceSOQLLogicalOperator:
            enum: [AND, OR, NOT]
            title: SalesforceSOQLLogicalOperator
            type: string
        additionalProperties: false
        description: Selects for the Salesforce entities.
        properties:
          account_records:
            anyOf:
            - properties:
                field: {title: Field, type: string}
                operator:
                  enum: ['=', '!=', <, <=, '>', '>=', LIKE]
                  title: SalesforceSOQLComparisonOperatorSingle
                  type: string
                value:
                  anyOf:
                  - {type: string}
                  - {type: integer}
                  - {type: number}
                  - {format: date-time, type: string}
                  - {format: date, type: string}
                  title: Value
              required: [field, operator, value]
              title: SalesforceSOQLFilterSingle
              type: object
            - properties:
                field: {title: Field, type: string}
                operator:
                  enum: [IN, NOT IN, INCLUDES, EXCLUDES]
                  title: SalesforceSOQLComparisonOperatorMulti
                  type: string
                values:
                  items: {type: string}
                  title: Values
                  type: array
              required: [field, operator, values]
              title: SalesforceSOQLFilterMulti
              type: object
            - properties:
                filters:
                  items:
                    anyOf:
                    - properties:
                        field: {title: Field, type: string}
                        operator:
                          enum: ['=', '!=', <, <=, '>', '>=', LIKE]
                          title: SalesforceSOQLComparisonOperatorSingle
                          type: string
                        value:
                          anyOf:
                          - {type: string}
                          - {type: integer}
                          - {type: number}
                          - {format: date-time, type: string}
                          - {format: date, type: string}
                          title: Value
                      required: [field, operator, value]
                      title: SalesforceSOQLFilterSingle
                      type: object
                    - properties:
                        field: {title: Field, type: string}
                        operator:
                          enum: [IN, NOT IN, INCLUDES, EXCLUDES]
                          title: SalesforceSOQLComparisonOperatorMulti
                          type: string
                        values:
                          items: {type: string}
                          title: Values
                          type: array
                      required: [field, operator, values]
                      title: SalesforceSOQLFilterMulti
                      type: object
                  title: Filters
                  type: array
                logical_operator:
                  default: AND
                  enum: [AND, OR, NOT]
                  title: SalesforceSOQLLogicalOperator
                  type: string
              required: [filters]
              title: SalesforceSOQLFilterGroup
              type: object
            - {type: 'null'}
            default: null
            description: Selects for Account
            title: Account Records
          run:
            default: true
            description: Whether to run the block.
            examples: [true, false]
            title: Run
            type: boolean
        title: SalesforceAutoInput
        type: object
      instance_url: https://plurally2-dev-ed.develop.my.salesforce.com
      is_output_fixable: true
      is_trigger: false
      kls: SalesforceReadAuto
      name: Find existing accounts
      objects_to_read:
      - Account_properties: Name, Website, Industry, AnnualRevenue, NumberOfEmployees
        AssociatedLocation_properties: ''
        Contact_properties: Email, FirstName, LastName, Phone, Title
        EventRelation_properties: ''
        Event_properties: Description,DurationInMinutes,Location,StartDateTime,Subject,Type
        Lead_properties: FirstName,LastName,Company,Email,Website,Title,Status,Industry,LeadSource
        Opportunity_properties: Name,Amount,CloseDate,StageName
        Poulailler__c_properties: Name
        Task_properties: Subject,Status,Priority,Description,ActivityDate
        properties: Name, Website, Industry, AnnualRevenue, NumberOfEmployees
        properties_list: [Name, Website, Industry, AnnualRevenue, NumberOfEmployees]
        record_type: ''
        s_object_type: Account
      output_schema:
        $defs:
          Auto:
            properties: {}
            title: Auto
            type: object
        properties:
          account_records:
            default: []
            items:
              properties: {}
              title: Auto
              type: object
            title: Account Records
            type: array
        title: OutputSchema
        type: object
        uiSchema: {ui:field: SalesforceQuery}
      pos_x: 326.75
      pos_y: 588.0
      skip_if_no_filter: true
      src_handles: [account_records]
      tgt_handles: [run, account_records]
  - id:
      PLURALLY_VERSION: 1
      _node_id: nd-924ddb35-f25c-4e64-ba60-323ccc21dcf9
      add_chain_of_thought: false
      add_explanation: false
      examples: |-
        [
           {
              "existing_accounts":[
                 {
                    "Name":"SupaCompany",
                    "Id":"1234"
                 },
                 {
                    "Name":"Cool Company",
                    "Id":"5678"
                 }
              ],
              "meeting_summary":"Met with John from CoolCompany",
              "expected_filter":{
                 "field":"Id",
                 "operator":"EQUALS",
                 "value":"5678"
              }
           }
        ]
      general_info: ''
      input_fields:
      - {free: report, handle_id: f410, type: Auto}
      - {free: existing_accounts, handle_id: cdb1, type: Auto}
      input_schema:
        $defs:
          Auto:
            properties: {}
            title: Auto
            type: object
        additionalProperties: false
        can-add-fields: true
        properties:
          existing_accounts:
            handle_id: cdb1
            properties: {}
            title: existing_accounts
            type: object
            type-friendly: Auto (BETA)
          report:
            handle_id: f410
            properties: {}
            title: report
            type: object
            type-friendly: Auto (BETA)
          run:
            default: true
            description: Whether to run the block.
            examples: [true, false]
            title: Run
            type: boolean
        required: [report, existing_accounts]
        title: InputSchema
        type: object
      instruct: |-
        <goal>
            Write a filter to find the account reccord (from <existing_account>) that matches the main account mentioned in the report.
        </goal>

        <definition>Represents an account, which is an organization or person.</definition>

        <rules>
            <rule>Filter using equality on the account Id field.</rule>
            <rule>If no account was mentioned, do not provide any filter.</rule>
            <rule>If no account in <existing_accounts> matches, do not provide any filter.</rule>
        </rules>

        {PLURALLY_EXAMPLES}
        {PLURALLY_GENERAL_INFO}

        <report>
        {{report}}
        </report>

        <existing_accounts>
        {% for account in existing_accounts %}
            <existing_account>
            - Name: {{account.Name}}
            - Id: {{account.Id}}
            </existing_account>
        {% endfor %} 
        </existing_accounts>
      is_output_fixable: false
      is_table: false
      is_trigger: false
      kls: Instruct
      model: gpt-4o
      name: Find existing accounts
      output_fields:
      - {free: accounts_filter, handle_id: ae2b, type: Auto}
      output_schema:
        $defs:
          Auto:
            properties: {}
            title: Auto
            type: object
        can-add-fields: true
        properties:
          accounts_filter:
            handle_id: ae2b
            properties: {}
            title: accounts_filter
            type: object
            type-friendly: Auto (BETA)
        required: [accounts_filter]
        title: OutputSchema
        type: object
      pos_x: 346.25
      pos_y: 455.0
      src_handles: [accounts_filter]
      tgt_handles: [existing_accounts, run, report]
  - id:
      PLURALLY_VERSION: 0
      _node_id: nd-872bd7e5-02f7-4025-a64c-827f6d1d332f
      is_output_fixable: false
      is_trigger: false
      kls: Transcript
      language: ''
      name: Transcription
      pos_x: 771.5
      pos_y: 189.0
      src_handles: [transcript]
      tgt_handles: [audio, run]
id: d79d0f48-4ac0-49d2-9a73-c24f1ea3d9ee
is_running: false
last_exec_dt: null
last_updated: '2025-04-09T12:51:14.644415'
logo: https://www.numm.fr/wp-content/uploads/2019/03/logo-salesforce-200x200.png
name: CR Commercial
org_id: null
owner_id: 83e1fa8e-a5db-487f-9780-c69846b9f8ca
