!function(e){e.fn.isInViewport=function(){const t=e(this).offset().top,n=t+e(this).outerHeight(),o=e(window).scrollTop(),i=o+e(window).height();return n>o&&t<i},e(document).on("click",".dh-hasmenu>.dh-link",(function(t){t.preventDefault();const n=e(this).parent();n.find(".dh-submenu .dh-item").show(),n.hasClass("open-menu")?(n.find(".dh-submenu").slideUp(),n.find(".dh-arrow").css({transform:"rotate(0deg)"})):(n.find(".dh-submenu").slideDown(),n.find(".dh-arrow").css({transform:"rotate(90deg)"})),e(this).parent().toggleClass("open-menu")}));e(document).ready((function(){e(document).find(".dh-item").removeClass("active"),e(document).find(".dh-hasmenu").removeClass("open-menu active");const t=window.location.pathname;if(t){let n=e(document).find("a[href='"+t+"']");if(n.length<=0&&(n=((t,n)=>n.includes("add")?(n=n.replace("/add/",""),e(document).find("a[href='"+n+"/']")):n.includes("change")?(n=(n=n.replace("/change/","")).split("/").slice(0,-1).join("/"),e(document).find("a[href='"+n+"/']")):t)(n,t)),n.length>0&&(n.addClass("active"),n.closest("ul").hasClass("dh-submenu")?(n.closest(".dh-hasmenu").addClass("open-menu active"),n.closest(".dh-submenu").slideDown()):n.closest(".dh-item").addClass("active"),!n.isInViewport())){const t=e(".navbar-content");t.length>0&&t.animate({scrollTop:n.offset().top/1.5-t.offset().top+t.scrollTop()},300)}}})),e(document).on("click","#sidebar-hide",(function(t){t.preventDefault(),e(document.body).toggleClass("dh-sidebar-hide")})),e(document).on("click","#mobile-collapse",(function(t){t.preventDefault();const n=e(".dh-sidebar");n.toggleClass("mob-sidebar-active"),n.find(".dh-menu-overlay").toggleClass("d-none")})),e(document).on("click",".dh-menu-overlay",(function(t){t.preventDefault();const n=e(".dh-sidebar");n.removeClass("mob-sidebar-active"),n.find(".dh-menu-overlay").addClass("d-none")})),e(document).ready((function(){const t=e(document).find("#change-list-filters select, #changelist-form select");t.length>0&&t.select2()})),e(document).on("click",".password_field .show-hide",(function(){const t=e(this).parent();if(t.length>0){"password"===t.find("input").attr("type")?(t.find("input").attr("type","text"),t.find("input").attr("placeholder","Password"),t.find(".show-hide").html('<i class="fa-regular fa-eye"></i>')):(t.find("input").attr("type","password"),t.find("input").attr("placeholder","********"),t.find(".show-hide").html('<i class="fa-regular fa-eye-slash"></i>'))}})),e(document).on("click",".addNewDocBtn",(function(){e(document).find("#docUploadModal").modal("show")})),e(document).on("click",".alert-dismissible .close",(function(){e(this).parent().remove()})),e(document).on("click",".horizontal_tabs .nav-link",(function(t){t.preventDefault();const n=e(this).attr("href");e(document).find("#jazzy-tabs .nav-link").removeClass("active"),e(this).addClass("active"),e(document).find(".horizontal_tabs .tab-pane").removeClass("active show"),e(document).find(n).addClass("active show"),history.pushState?history.pushState(null,null,n):location.hash=n}));const t=e(document).find(".horizontal_tabs .nav-link");if(t.length>0){const n=window.location.hash;if(n){const t=e(document).find(".horizontal_tabs .nav-link[href='"+n+"']");t.length>0&&t.click()}else t.eq(0).click()}const n=e(document).find(".datetime");n.length>0&&n.each((function(){e(this).find("input").length>1&&(e(this).find("[size=10]").tempusDominus({display:{components:{calendar:!0,date:!0,month:!0,year:!0,decades:!0,clock:!1,hours:!1,minutes:!1,seconds:!1,useTwentyfourHour:void 0},theme:"light"},localization:{format:"yyyy-MM-dd"}}),e(this).find("[size=8]").tempusDominus({display:{components:{calendar:!1,date:!1,month:!1,year:!1,decades:!1,clock:!0,hours:!0,minutes:!0,seconds:!1,useTwentyfourHour:void 0},theme:"light"},localization:{format:"HH:mm:ss"}}))}));const o=e(document).find(".vDateField");o.length>0&&o.tempusDominus({display:{components:{calendar:!0,date:!0,month:!0,year:!0,decades:!0,clock:!1,hours:!1,minutes:!1,seconds:!1,useTwentyfourHour:void 0},theme:"light"},localization:{format:"yyyy-MM-dd"}}),e(document).on("click",".cancel-link",(function(e){e.preventDefault();const t=window.parent;return t&&"function"==typeof t.dismissRelatedObjectModal&&t!==window?t.dismissRelatedObjectModal():window.history.back(),!1})),e(document).find(".image_picker_container").each((function(){new MutationObserver((function(t){t.forEach((function(t){if("class"===t.attributeName){const n=e(t.target).closest(".form-group");n.find(".errorlist").length>0&&(n.find(".errorlist").remove(),n.find("textarea").removeClass("is-invalid"),a())}}))})).observe(this,{attributes:!0})})),e(document).on("change keyup",".form-control.is-invalid",(function(){e(this).removeClass("is-invalid"),e(this).closest(".form-group").find(".errorlist").remove(),a()}));const i=e(".navbar-content");e(".header_search_form input").on("keyup",(function(){const t=e(this).val().toLowerCase();let n=!1;e(".dh-navbar .dh-item").hide(),e(".dh-navbar .dh-caption").each((function(){const o=e(this).text().toLowerCase(),i=e(this),s=i.nextUntil(".dh-caption");let d=!1;o.includes(t)?(i.show(),s.show(),d=!0):(s.each((function(){e(this).text().toLowerCase().includes(t)&&(e(this).show(),d=!0)})),i.toggle(d)),d&&(n=!0)})),n?i.removeClass("nomenu"):i.addClass("nomenu")})),e(document).on("change",".search-filter",(function(){const t=e(this).val().trim(),n=e(this).find("option[data-name]").eq(0).attr("data-name");t&&n?e(this).attr("name",n):e(this).attr("name",null)}));const s=e(document).find(".stacked-inline-group");function d(){const t=e(document).find(".errorlist");if(t.length>0){!function(t){const n=t.closest(".tab-pane");if(n.length>0){const t=n.attr("id");e(document).find(`a[href="#${t}"]`).trigger("click")}t.find(".image_picker_container").length<=0&&t.find("input, select, textarea").focus(),e("html, body").animate({scrollTop:t.offset().top-100},300)}(t.first().closest(".form-group"))}}function a(){const t=e(document).find(".errorlist");if(t.length>0){const n=e(document).find(".page-header").find(".col-md-6").eq(1);n.length>0&&n.html(`<div class="page_header_error_count">${t.length}</div>`)}else e(document).find(".page_header_error_count").remove()}s.length>0&&s.find(".panel .card-header").each((function(){e(this).parent().find(".errorlist").length<=0&&e(this).find(".delete").length>0&&(e(this).next().slideUp(),e(this).parent().addClass("closed"))})),e(document).on("click",".stacked-inline-group .card:not(.deleted) .card-header",(function(t){e(this).closest(".card").hasClass("deleted")||e(t.target).is(".card-tools.delete")||e(t.target).closest(".card-tools.delete").length||(e(this).next().slideToggle(),e(this).parent().toggleClass("closed"))})),e(document).on("click",".page_header_error_count",d),e(document).ready((function(){a(),d()})),e(document).on("change",".card-tools.delete input[type=checkbox]",(function(){const t=e(this).closest(".card");e(this).is(":checked")?t.addClass("deleted"):t.removeClass("deleted")}));const c=e(document).find(".stacked-inline-group");function l(){e(document).find(".dashub_tag_input").each((function(){if(e(this).closest(".empty-form").length<=0){if(e(this).closest(".form-row").find("tags").length<=0){const t=e(this).attr("data-separator");new Tagify(e(this)[0],{originalInputValueFormat:e=>e.map((e=>e.value)).join(t),delimiters:t})}}}))}c.length>0&&c.each((function(){const t=e(this).find(".djn-item-content > fieldset > .form-row.field-order");console.log("FileEle",t),t.length>0&&e(this).find(".djn-item-content > fieldset > .form-row.field-order").hide()})),e(document).on("click",".djn-inline-form .djn-drag-handler",(function(){const t=e(this).closest(".djn-item");if(t.length>0){const n=e(this).closest(".djn-inline-form").find(".djn-item-content");n.is(":visible")?(n.slideUp(),t.removeClass("open")):(n.slideDown(),t.addClass("open"))}})),e(document).find(".djn-inline-form .djn-drag-handler").trigger("click"),l(),e(document).on("formset:added",l),e(document).on("change","input[name=_selected_action], #action-toggle",(function(){const t=e(document).find("input[name=_selected_action]:checked").length,n=e(document).find(".change-list-actions-row");n.length>0&&(t>0?n.removeClass("hide"):n.addClass("hide"))}))}(jQuery);